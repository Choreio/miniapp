import{r as l,_ as j,b as w,j as e,T as M,c as C,h as g,d as h,e as b,f as B,t as D,J as I,i as L,k as O,s as Z,P as H,l as J}from"./index-DfUxziIY.js";import{S as P,_ as E,a as T,C as V,b as Y,c as p,B as R,d as x}from"./Section-C_EZFC6F.js";import{c as F,A as q}from"./Avatar-Big6KGLf.js";const z=l.forwardRef((s,t)=>{var{mode:n="default",before:r,after:a,className:i,children:o,Component:d}=s,u=j(s,["mode","before","after","className","children","Component"]);const f=w(),m=f==="ios"?P:B;return e.jsxs(M,C(h({ref:t,Component:d||"button",className:b("tgui-a8ce18a8594cea9b",n==="destructive"&&"tgui-6e7ca796043fe6ca",f==="ios"&&"tgui-f464dba82cb8b46e",i)},u),{children:[g(r)&&r,g(o)&&e.jsx(m,{children:o}),g(a)&&a]}))}),K=l.forwardRef((s,t)=>{var{Component:n="span",className:r}=s,a=j(s,["Component","className"]);return e.jsx(n,C(h({},a),{ref:t,className:b("tgui-b9fd8cdf929947df",r)}))}),W=s=>{var t=E({},T(s));return w()==="ios"?e.jsx(V,h({caps:!0},t)):e.jsx(P,h({level:"2",weight:"2"},t))},$={base:"tgui-8ca550c2fc85eff5",ios:"tgui-7707c5d942b7b9af"},G={default:"tgui-7584398855f80ae6",error:"tgui-41b168516bddcf4b",focused:"tgui-89277928456f0e30"},Q=l.forwardRef((s,t)=>{var{status:n,header:r,before:a,after:i,disabled:o,children:d,className:u,onFocus:f,onBlur:m}=s,y=j(s,["status","header","before","after","disabled","children","className","onFocus","onBlur"]);const v=w(),[S,c]=l.useState(!1),N=n||(S?"focused":"default"),A=F(f,()=>{o||c(!0)}),k=F(m,()=>c(!1));return e.jsxs("div",{ref:t,className:b("tgui-92da7016c7125c02",$[v],G[N],o&&"tgui-4a83fef1f04acb0e"),"aria-disabled":o,children:[e.jsxs("label",C(h({"aria-disabled":o,className:b("tgui-0f5050defacbf813",u),onFocus:A,onBlur:k},y),{children:[g(a)&&e.jsx("div",{className:"tgui-8f04eff653cfa5e5",children:a}),d,g(i)&&e.jsx("div",{className:"tgui-16b3783d394bc7db",children:i})]})),g(r)&&v==="base"&&e.jsx(W,{className:"tgui-9f9a52f695b85cc9",children:r})]})}),X=s=>{var t=E({},T(s));return e.jsx("svg",C(h({width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.286 6.445c-2.342-2.307-6.19-2.307-8.53 0l-5.353 5.272a.99.99 0 0 1-1.388-1.41l5.352-5.272c3.112-3.065 8.196-3.065 11.307 0a7.598 7.598 0 0 1 0 10.885l-7.347 7.238c-2.355 2.32-6.198 2.32-8.553 0a5.762 5.762 0 0 1 0-8.253l7.381-7.27c1.585-1.56 4.141-1.632 5.814-.167a4.06 4.06 0 0 1 .082 6.068l-6.158 5.688a.99.99 0 0 1-1.343-1.454l6.16-5.687c.93-.859.91-2.29-.044-3.127a2.315 2.315 0 0 0-3.122.088l-7.381 7.27a3.784 3.784 0 0 0 0 5.435c1.584 1.56 4.191 1.56 5.775 0l7.348-7.238a5.62 5.62 0 0 0 0-8.066Z",fill:"currentColor"})}))},ee=l.forwardRef((s,t)=>{var{label:n="Attach file",className:r,children:a}=s,i=j(s,["label","className","children"]);return e.jsxs("div",{ref:t,className:r,children:[a,e.jsxs(z,{Component:"label",before:e.jsx(X,{}),children:[e.jsx(K,{children:e.jsx("input",h({type:"file",placeholder:n},i))}),n]})]})}),U=s=>{var{type:t="text",header:n,before:r,after:a,status:i,className:o,disabled:d}=s,u=j(s,["type","header","before","after","status","className","disabled"]);const f=w(),m=f==="ios"?B:P;return e.jsx(Q,{header:n,before:r,after:a,status:i,disabled:d,className:b("tgui-d9de1f32aee12a15",f==="ios"&&"tgui-9b2ad13855aef059",o),children:e.jsx(m,h({Component:"input",className:"tgui-c4863cd4c893a047",type:t,disabled:d},u))})};function ae({title:s,titleId:t,...n},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),s?l.createElement("title",{id:t},s):null,l.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),l.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))}const se=l.forwardRef(ae);function te({title:s,titleId:t,...n},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),s?l.createElement("title",{id:t},s):null,l.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const _=l.forwardRef(te),re=""+new URL("avatar_placeholder_black-DRyce69K.png",import.meta.url).href,le=""+new URL("avatar_placeholder_white-CbxutB7M.png",import.meta.url).href,ie=()=>{const s=D(),t=I(),n=L(),r=O(Z),[a,i]=l.useState({...r});l.useEffect(()=>{i({...r}),console.log("Sync user")},[r]),l.useEffect(()=>{JSON.stringify(r)!==JSON.stringify(a)?f(!0):f(!1)},[a]);const[o,d]=l.useState(!1),[u,f]=l.useState(!1),m=c=>{c.preventDefault(),console.log("Edit mode handler"),d(!0),o&&!u&&d(!1)},y=c=>{c.preventDefault(),console.log("Avatar change");const N=c.currentTarget.files;N&&(a.photoUrl=URL.createObjectURL(N[0]))},v=c=>{c.preventDefault(),console.log("Changes saved"),n(J(a)),d(!1)},S=c=>{c.preventDefault(),console.log("Changes canceled"),i({...r}),d(!1)};return t?e.jsx("div",{className:"md:container md:mx-auto",children:e.jsxs(Y,{className:"flex flex-col h-full pt-4 gap-2",header:e.jsx(p,{large:!0,children:e.jsxs("span",{className:"flex gap-2",children:[e.jsx("div",{children:"Your profile"}),e.jsx(se,{className:"w-6 hover:opacity-90",onClick:m})]})}),footer:o&&e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"bg-green-400",onClick:v,children:"Confirm"}),e.jsx(R,{className:"bg-red-400",onClick:S,children:"Cancel"})]}),children:[u&&e.jsx("div",{className:"bg-red-300 text-center transition-transform transform",children:"You have uncommited changes!!!"}),e.jsxs("div",{children:[e.jsx(p,{children:"Avatar"}),e.jsx(x,{after:o&&e.jsx(ee,{id:"input_file",onChange:y,accept:"image/png, image/jpeg"}),children:e.jsx(q,{size:96,src:a.photoUrl&&a.photoUrl.length>0?a.photoUrl:s.isDark?le:re})})]}),e.jsxs("div",{children:[e.jsx(p,{children:"User id"}),e.jsx(x,{children:a.id})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Username"}),o?e.jsx(U,{before:e.jsx(_,{className:"w-4 h-4"}),className:"w-full m-auto",placeholder:"Username",value:a.username,onChange:c=>{i({...a,username:c.currentTarget.value})}}):e.jsx(x,{children:e.jsx("span",{children:a==null?void 0:a.username})})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Full name"}),o?e.jsx(U,{before:e.jsx(_,{className:"w-4 h-4"}),className:"w-full m-auto",placeholder:"Full name",value:a.fullname,onChange:c=>{i({...a,fullname:c.currentTarget.value,firstName:c.currentTarget.value.split(" ")[0],lastName:c.currentTarget.value.split(" ")[1]})}}):e.jsx(x,{children:a.fullname})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Locale"}),e.jsx(x,{children:a==null?void 0:a.languageCode})]})]})}):e.jsx(H,{header:"Oops",description:"Application was launched with missing init data",children:e.jsx("img",{alt:"Telegram sticker",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})})};export{ie as Profile};
