const __vite__fileDeps=["./calcDistance-DP--JZw4.js","./index-B8HkePtc.js","./index-C1V8AkYQ.css","./Input-Cj31vOeN.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as i,I as On,K as It,$ as An,R as b,j as I,h as it,k as Lt,L as kt,M as Nn,m as Ft,_ as Pn,w as _n}from"./index-B8HkePtc.js";import{G as Mn}from"./calcDistance-DP--JZw4.js";import{M as jt,T as In}from"./TaskCard-im4AJMaZ.js";import"./Input-Cj31vOeN.js";import"./FileInput-DOu96ZsA.js";function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j.apply(null,arguments)}function Q(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function Ln(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Ut(...e){return n=>e.forEach(t=>Ln(t,n))}function fe(...e){return i.useCallback(Ut(...e),e)}function kn(e,n=[]){let t=[];function r(a,s){const c=i.createContext(s),u=t.length;t=[...t,s];function l(d){const{scope:g,children:v,...T}=d,f=(g==null?void 0:g[e][u])||c,E=i.useMemo(()=>T,Object.values(T));return i.createElement(f.Provider,{value:E},v)}function m(d,g){const v=(g==null?void 0:g[e][u])||c,T=i.useContext(v);if(T)return T;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${a}\``)}return l.displayName=a+"Provider",[l,m]}const o=()=>{const a=t.map(s=>i.createContext(s));return function(c){const u=(c==null?void 0:c[e])||a;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return o.scopeName=e,[r,Fn(o,...n)]}function Fn(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((c,{useScope:u,scopeName:l})=>{const d=u(a)[`__scope${l}`];return{...c,...d}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:s}),[s])}};return t.scopeName=n.scopeName,t}const Je=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},jn=On.useId||(()=>{});let Un=0;function He(e){const[n,t]=i.useState(jn());return Je(()=>{e||t(r=>r??String(Un++))},[e]),e||(n?`radix-${n}`:"")}function oe(e){const n=i.useRef(e);return i.useEffect(()=>{n.current=e}),i.useMemo(()=>(...t)=>{var r;return(r=n.current)===null||r===void 0?void 0:r.call(n,...t)},[])}function Wn({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=Hn({defaultProp:n,onChange:t}),a=e!==void 0,s=a?e:r,c=oe(t),u=i.useCallback(l=>{if(a){const d=typeof l=="function"?l(e):l;d!==e&&c(d)}else o(l)},[a,e,o,c]);return[s,u]}function Hn({defaultProp:e,onChange:n}){const t=i.useState(e),[r]=t,o=i.useRef(r),a=oe(n);return i.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}const ct=i.forwardRef((e,n)=>{const{children:t,...r}=e,o=i.Children.toArray(t),a=o.find(Vn);if(a){const s=a.props.children,c=o.map(u=>u===a?i.Children.count(s)>1?i.Children.only(null):i.isValidElement(s)?s.props.children:null:u);return i.createElement(et,j({},r,{ref:n}),i.isValidElement(s)?i.cloneElement(s,void 0,c):null)}return i.createElement(et,j({},r,{ref:n}),t)});ct.displayName="Slot";const et=i.forwardRef((e,n)=>{const{children:t,...r}=e;return i.isValidElement(t)?i.cloneElement(t,{...zn(r,t.props),ref:n?Ut(n,t.ref):t.ref}):i.Children.count(t)>1?i.Children.only(null):null});et.displayName="SlotClone";const Bn=({children:e})=>i.createElement(i.Fragment,null,e);function Vn(e){return i.isValidElement(e)&&e.type===Bn}function zn(e,n){const t={...n};for(const r in n){const o=e[r],a=n[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...c)=>{a(...c),o(...c)}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...e,...t}}const Yn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],J=Yn.reduce((e,n)=>{const t=i.forwardRef((r,o)=>{const{asChild:a,...s}=r,c=a?ct:n;return i.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),i.createElement(c,j({},s,{ref:o}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function Xn(e,n){e&&It.flushSync(()=>e.dispatchEvent(n))}function Kn(e,n=globalThis==null?void 0:globalThis.document){const t=oe(e);i.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)},[t,n])}const tt="dismissableLayer.update",Gn="dismissableLayer.pointerDownOutside",qn="dismissableLayer.focusOutside";let $t;const Zn=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qn=i.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:u,...l}=e,m=i.useContext(Zn),[d,g]=i.useState(null),v=(t=d==null?void 0:d.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,T]=i.useState({}),f=fe(n,C=>g(C)),E=Array.from(m.layers),[p]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(p),$=d?E.indexOf(d):-1,w=m.layersWithOutsidePointerEventsDisabled.size>0,h=$>=O,M=Jn(C=>{const N=C.target,U=[...m.branches].some(H=>H.contains(N));!h||U||(a==null||a(C),c==null||c(C),C.defaultPrevented||u==null||u())},v),y=er(C=>{const N=C.target;[...m.branches].some(H=>H.contains(N))||(s==null||s(C),c==null||c(C),C.defaultPrevented||u==null||u())},v);return Kn(C=>{$===m.layers.size-1&&(o==null||o(C),!C.defaultPrevented&&u&&(C.preventDefault(),u()))},v),i.useEffect(()=>{if(d)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&($t=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(d)),m.layers.add(d),wt(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=$t)}},[d,v,r,m]),i.useEffect(()=>()=>{d&&(m.layers.delete(d),m.layersWithOutsidePointerEventsDisabled.delete(d),wt())},[d,m]),i.useEffect(()=>{const C=()=>T({});return document.addEventListener(tt,C),()=>document.removeEventListener(tt,C)},[]),i.createElement(J.div,j({},l,{ref:f,style:{pointerEvents:w?h?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,y.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,y.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,M.onPointerDownCapture)}))});function Jn(e,n=globalThis==null?void 0:globalThis.document){const t=oe(e),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let l=function(){Wt(Gn,t,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=l,n.addEventListener("click",o.current,{once:!0})):l()}else n.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),n.removeEventListener("pointerdown",a),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function er(e,n=globalThis==null?void 0:globalThis.document){const t=oe(e),r=i.useRef(!1);return i.useEffect(()=>{const o=a=>{a.target&&!r.current&&Wt(qn,t,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wt(){const e=new CustomEvent(tt);document.dispatchEvent(e)}function Wt(e,n,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?Xn(o,a):o.dispatchEvent(a)}const Be="focusScope.autoFocusOnMount",Ve="focusScope.autoFocusOnUnmount",yt={bubbles:!1,cancelable:!0},tr=i.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[c,u]=i.useState(null),l=oe(o),m=oe(a),d=i.useRef(null),g=fe(n,f=>u(f)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let f=function($){if(v.paused||!c)return;const w=$.target;c.contains(w)?d.current=w:Z(d.current,{select:!0})},E=function($){if(v.paused||!c)return;const w=$.relatedTarget;w!==null&&(c.contains(w)||Z(d.current,{select:!0}))},p=function($){if(document.activeElement===document.body)for(const h of $)h.removedNodes.length>0&&Z(c)};document.addEventListener("focusin",f),document.addEventListener("focusout",E);const O=new MutationObserver(p);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",E),O.disconnect()}}},[r,c,v.paused]),i.useEffect(()=>{if(c){St.add(v);const f=document.activeElement;if(!c.contains(f)){const p=new CustomEvent(Be,yt);c.addEventListener(Be,l),c.dispatchEvent(p),p.defaultPrevented||(nr(cr(Ht(c)),{select:!0}),document.activeElement===f&&Z(c))}return()=>{c.removeEventListener(Be,l),setTimeout(()=>{const p=new CustomEvent(Ve,yt);c.addEventListener(Ve,m),c.dispatchEvent(p),p.defaultPrevented||Z(f??document.body,{select:!0}),c.removeEventListener(Ve,m),St.remove(v)},0)}}},[c,l,m,v]);const T=i.useCallback(f=>{if(!t&&!r||v.paused)return;const E=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,p=document.activeElement;if(E&&p){const O=f.currentTarget,[$,w]=rr(O);$&&w?!f.shiftKey&&p===w?(f.preventDefault(),t&&Z($,{select:!0})):f.shiftKey&&p===$&&(f.preventDefault(),t&&Z(w,{select:!0})):p===O&&f.preventDefault()}},[t,r,v.paused]);return i.createElement(J.div,j({tabIndex:-1},s,{ref:g,onKeyDown:T}))});function nr(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(Z(r,{select:n}),document.activeElement!==t)return}function rr(e){const n=Ht(e),t=Et(n,e),r=Et(n.reverse(),e);return[t,r]}function Ht(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Et(e,n){for(const t of e)if(!or(t,{upTo:n}))return t}function or(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ar(e){return e instanceof HTMLInputElement&&"select"in e}function Z(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&ar(e)&&n&&e.select()}}const St=ir();function ir(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Ct(e,n),e.unshift(n)},remove(n){var t;e=Ct(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function Ct(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function cr(e){return e.filter(n=>n.tagName!=="A")}const sr=i.forwardRef((e,n)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...o}=e;return r?An.createPortal(i.createElement(J.div,j({},o,{ref:n})),r):null});function lr(e,n){return i.useReducer((t,r)=>{const o=n[t][r];return o??t},e)}const _e=e=>{const{present:n,children:t}=e,r=ur(n),o=typeof t=="function"?t({present:r.isPresent}):i.Children.only(t),a=fe(r.ref,o.ref);return typeof t=="function"||r.isPresent?i.cloneElement(o,{ref:a}):null};_e.displayName="Presence";function ur(e){const[n,t]=i.useState(),r=i.useRef({}),o=i.useRef(e),a=i.useRef("none"),s=e?"mounted":"unmounted",[c,u]=lr(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const l=Ee(r.current);a.current=c==="mounted"?l:"none"},[c]),Je(()=>{const l=r.current,m=o.current;if(m!==e){const g=a.current,v=Ee(l);e?u("MOUNT"):v==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Je(()=>{if(n){const l=d=>{const v=Ee(r.current).includes(d.animationName);d.target===n&&v&&It.flushSync(()=>u("ANIMATION_END"))},m=d=>{d.target===n&&(a.current=Ee(r.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",l),n.addEventListener("animationend",l),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",l),n.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(l=>{l&&(r.current=getComputedStyle(l)),t(l)},[])}}function Ee(e){return(e==null?void 0:e.animationName)||"none"}let ze=0;function dr(){i.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:Rt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:Rt()),ze++,()=>{ze===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ze--}},[])}function Rt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var X=function(){return X=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},X.apply(this,arguments)};function Bt(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function fr(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,a;r<o;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var Ne="right-scroll-bar-position",Pe="width-before-scroll-bar",vr="with-scroll-bars-hidden",mr="--removed-body-scroll-bar-size";function Ye(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function pr(e,n){var t=i.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var hr=typeof window<"u"?i.useLayoutEffect:i.useEffect,Tt=new WeakMap;function gr(e,n){var t=pr(null,function(r){return e.forEach(function(o){return Ye(o,r)})});return hr(function(){var r=Tt.get(t);if(r){var o=new Set(r),a=new Set(e),s=t.current;o.forEach(function(c){a.has(c)||Ye(c,null)}),a.forEach(function(c){o.has(c)||Ye(c,s)})}Tt.set(t,e)},[e]),t}function br(e){return e}function $r(e,n){n===void 0&&(n=br);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(a){var s=n(a,r);return t.push(s),function(){t=t.filter(function(c){return c!==s})}},assignSyncMedium:function(a){for(r=!0;t.length;){var s=t;t=[],s.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var s=[];if(t.length){var c=t;t=[],c.forEach(a),s=t}var u=function(){var m=s;s=[],m.forEach(a)},l=function(){return Promise.resolve().then(u)};l(),t={push:function(m){s.push(m),l()},filter:function(m){return s=s.filter(m),t}}}};return o}function wr(e){e===void 0&&(e={});var n=$r(null);return n.options=X({async:!0,ssr:!1},e),n}var Vt=function(e){var n=e.sideCar,t=Bt(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,X({},t))};Vt.isSideCarExport=!0;function yr(e,n){return e.useMedium(n),Vt}var zt=wr(),Xe=function(){},Me=i.forwardRef(function(e,n){var t=i.useRef(null),r=i.useState({onScrollCapture:Xe,onWheelCapture:Xe,onTouchMoveCapture:Xe}),o=r[0],a=r[1],s=e.forwardProps,c=e.children,u=e.className,l=e.removeScrollBar,m=e.enabled,d=e.shards,g=e.sideCar,v=e.noIsolation,T=e.inert,f=e.allowPinchZoom,E=e.as,p=E===void 0?"div":E,O=Bt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),$=g,w=gr([t,n]),h=X(X({},O),o);return i.createElement(i.Fragment,null,m&&i.createElement($,{sideCar:zt,removeScrollBar:l,shards:d,noIsolation:v,inert:T,setCallbacks:a,allowPinchZoom:!!f,lockRef:t}),s?i.cloneElement(i.Children.only(c),X(X({},h),{ref:w})):i.createElement(p,X({},h,{className:u,ref:w}),c))});Me.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Me.classNames={fullWidth:Pe,zeroRight:Ne};var Er=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Er();return n&&e.setAttribute("nonce",n),e}function Cr(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function Rr(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var Tr=function(){var e=0,n=null;return{add:function(t){e==0&&(n=Sr())&&(Cr(n,t),Rr(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},xr=function(){var e=Tr();return function(n,t){i.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},Yt=function(){var e=xr(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},Dr={left:0,top:0,right:0,gap:0},Ke=function(e){return parseInt(e||"",10)||0},Or=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[Ke(t),Ke(r),Ke(o)]},Ar=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Dr;var n=Or(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},Nr=Yt(),de="data-scroll-locked",Pr=function(e,n,t,r){var o=e.left,a=e.top,s=e.right,c=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(vr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(de,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ne,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Pe,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ne," .").concat(Ne,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pe," .").concat(Pe,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(de,`] {
    `).concat(mr,": ").concat(c,`px;
  }
`)},xt=function(){var e=parseInt(document.body.getAttribute(de)||"0",10);return isFinite(e)?e:0},_r=function(){i.useEffect(function(){return document.body.setAttribute(de,(xt()+1).toString()),function(){var e=xt()-1;e<=0?document.body.removeAttribute(de):document.body.setAttribute(de,e.toString())}},[])},Mr=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;_r();var a=i.useMemo(function(){return Ar(o)},[o]);return i.createElement(Nr,{styles:Pr(a,!n,o,t?"":"!important")})},nt=!1;if(typeof window<"u")try{var Se=Object.defineProperty({},"passive",{get:function(){return nt=!0,!0}});window.addEventListener("test",Se,Se),window.removeEventListener("test",Se,Se)}catch{nt=!1}var se=nt?{passive:!1}:!1,Ir=function(e){return e.tagName==="TEXTAREA"},Xt=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!Ir(e)&&t[n]==="visible")},Lr=function(e){return Xt(e,"overflowY")},kr=function(e){return Xt(e,"overflowX")},Dt=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=Kt(e,t);if(r){var o=Gt(e,t),a=o[1],s=o[2];if(a>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},Fr=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},jr=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},Kt=function(e,n){return e==="v"?Lr(n):kr(n)},Gt=function(e,n){return e==="v"?Fr(n):jr(n)},Ur=function(e,n){return e==="h"&&n==="rtl"?-1:1},Wr=function(e,n,t,r,o){var a=Ur(e,window.getComputedStyle(n).direction),s=a*r,c=t.target,u=n.contains(c),l=!1,m=s>0,d=0,g=0;do{var v=Gt(e,c),T=v[0],f=v[1],E=v[2],p=f-E-a*T;(T||p)&&Kt(e,c)&&(d+=p,g+=T),c=c.parentNode}while(!u&&c!==document.body||u&&(n.contains(c)||n===c));return(m&&(d===0||!o)||!m&&(g===0||!o))&&(l=!0),l},Ce=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ot=function(e){return[e.deltaX,e.deltaY]},At=function(e){return e&&"current"in e?e.current:e},Hr=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Br=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Vr=0,le=[];function zr(e){var n=i.useRef([]),t=i.useRef([0,0]),r=i.useRef(),o=i.useState(Vr++)[0],a=i.useState(function(){return Yt()})[0],s=i.useRef(e);i.useEffect(function(){s.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=fr([e.lockRef.current],(e.shards||[]).map(At),!0).filter(Boolean);return f.forEach(function(E){return E.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(f,E){if("touches"in f&&f.touches.length===2)return!s.current.allowPinchZoom;var p=Ce(f),O=t.current,$="deltaX"in f?f.deltaX:O[0]-p[0],w="deltaY"in f?f.deltaY:O[1]-p[1],h,M=f.target,y=Math.abs($)>Math.abs(w)?"h":"v";if("touches"in f&&y==="h"&&M.type==="range")return!1;var C=Dt(y,M);if(!C)return!0;if(C?h=y:(h=y==="v"?"h":"v",C=Dt(y,M)),!C)return!1;if(!r.current&&"changedTouches"in f&&($||w)&&(r.current=h),!h)return!0;var N=r.current||h;return Wr(N,E,f,N==="h"?$:w,!0)},[]),u=i.useCallback(function(f){var E=f;if(!(!le.length||le[le.length-1]!==a)){var p="deltaY"in E?Ot(E):Ce(E),O=n.current.filter(function(h){return h.name===E.type&&h.target===E.target&&Hr(h.delta,p)})[0];if(O&&O.should){E.cancelable&&E.preventDefault();return}if(!O){var $=(s.current.shards||[]).map(At).filter(Boolean).filter(function(h){return h.contains(E.target)}),w=$.length>0?c(E,$[0]):!s.current.noIsolation;w&&E.cancelable&&E.preventDefault()}}},[]),l=i.useCallback(function(f,E,p,O){var $={name:f,delta:E,target:p,should:O};n.current.push($),setTimeout(function(){n.current=n.current.filter(function(w){return w!==$})},1)},[]),m=i.useCallback(function(f){t.current=Ce(f),r.current=void 0},[]),d=i.useCallback(function(f){l(f.type,Ot(f),f.target,c(f,e.lockRef.current))},[]),g=i.useCallback(function(f){l(f.type,Ce(f),f.target,c(f,e.lockRef.current))},[]);i.useEffect(function(){return le.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",u,se),document.addEventListener("touchmove",u,se),document.addEventListener("touchstart",m,se),function(){le=le.filter(function(f){return f!==a}),document.removeEventListener("wheel",u,se),document.removeEventListener("touchmove",u,se),document.removeEventListener("touchstart",m,se)}},[]);var v=e.removeScrollBar,T=e.inert;return i.createElement(i.Fragment,null,T?i.createElement(a,{styles:Br(o)}):null,v?i.createElement(Mr,{gapMode:"margin"}):null)}const Yr=yr(zt,zr);var qt=i.forwardRef(function(e,n){return i.createElement(Me,X({},e,{ref:n,sideCar:Yr}))});qt.classNames=Me.classNames;var Xr=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},ue=new WeakMap,Re=new WeakMap,Te={},Ge=0,Zt=function(e){return e&&(e.host||Zt(e.parentNode))},Kr=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=Zt(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Gr=function(e,n,t,r){var o=Kr(n,Array.isArray(e)?e:[e]);Te[t]||(Te[t]=new WeakMap);var a=Te[t],s=[],c=new Set,u=new Set(o),l=function(d){!d||c.has(d)||(c.add(d),l(d.parentNode))};o.forEach(l);var m=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(g){if(c.has(g))m(g);else try{var v=g.getAttribute(r),T=v!==null&&v!=="false",f=(ue.get(g)||0)+1,E=(a.get(g)||0)+1;ue.set(g,f),a.set(g,E),s.push(g),f===1&&T&&Re.set(g,!0),E===1&&g.setAttribute(t,"true"),T||g.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",g,p)}})};return m(n),c.clear(),Ge++,function(){s.forEach(function(d){var g=ue.get(d)-1,v=a.get(d)-1;ue.set(d,g),a.set(d,v),g||(Re.has(d)||d.removeAttribute(r),Re.delete(d)),v||d.removeAttribute(t)}),Ge--,Ge||(ue=new WeakMap,ue=new WeakMap,Re=new WeakMap,Te={})}},qr=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Xr(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Gr(r,o,t,"aria-hidden")):function(){return null}};const Qt="Dialog",[Jt,Qo]=kn(Qt),[Zr,z]=Jt(Qt),Qr=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,c=i.useRef(null),u=i.useRef(null),[l=!1,m]=Wn({prop:r,defaultProp:o,onChange:a});return i.createElement(Zr,{scope:n,triggerRef:c,contentRef:u,contentId:He(),titleId:He(),descriptionId:He(),open:l,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(d=>!d),[m]),modal:s},t)},Jr="DialogTrigger",eo=i.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=z(Jr,t),a=fe(n,o.triggerRef);return i.createElement(J.button,j({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":st(o.open)},r,{ref:a,onClick:Q(e.onClick,o.onOpenToggle)}))}),en="DialogPortal",[to,tn]=Jt(en,{forceMount:void 0}),no=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:o}=e,a=z(en,n);return i.createElement(to,{scope:n,forceMount:t},i.Children.map(r,s=>i.createElement(_e,{present:t||a.open},i.createElement(sr,{asChild:!0,container:o},s))))},rt="DialogOverlay",ro=i.forwardRef((e,n)=>{const t=tn(rt,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=z(rt,e.__scopeDialog);return a.modal?i.createElement(_e,{present:r||a.open},i.createElement(oo,j({},o,{ref:n}))):null}),oo=i.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=z(rt,t);return i.createElement(qt,{as:ct,allowPinchZoom:!0,shards:[o.contentRef]},i.createElement(J.div,j({"data-state":st(o.open)},r,{ref:n,style:{pointerEvents:"auto",...r.style}})))}),ge="DialogContent",ao=i.forwardRef((e,n)=>{const t=tn(ge,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=z(ge,e.__scopeDialog);return i.createElement(_e,{present:r||a.open},a.modal?i.createElement(io,j({},o,{ref:n})):i.createElement(co,j({},o,{ref:n})))}),io=i.forwardRef((e,n)=>{const t=z(ge,e.__scopeDialog),r=i.useRef(null),o=fe(n,t.contentRef,r);return i.useEffect(()=>{const a=r.current;if(a)return qr(a)},[]),i.createElement(nn,j({},e,{ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=t.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&a.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault())}))}),co=i.forwardRef((e,n)=>{const t=z(ge,e.__scopeDialog),r=i.useRef(!1),o=i.useRef(!1);return i.createElement(nn,j({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,a),!a.defaultPrevented){var c;r.current||(c=t.triggerRef.current)===null||c===void 0||c.focus(),a.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:a=>{var s,c;(s=e.onInteractOutside)===null||s===void 0||s.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;((c=t.triggerRef.current)===null||c===void 0?void 0:c.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}}))}),nn=i.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,c=z(ge,t),u=i.useRef(null),l=fe(n,u);return dr(),i.createElement(i.Fragment,null,i.createElement(tr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a},i.createElement(Qn,j({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":st(c.open)},s,{ref:l,onDismiss:()=>c.onOpenChange(!1)}))),!1)}),so="DialogTitle",lo=i.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=z(so,t);return i.createElement(J.h2,j({id:o.titleId},r,{ref:n}))}),uo="DialogDescription",fo=i.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=z(uo,t);return i.createElement(J.p,j({id:o.descriptionId},r,{ref:n}))}),vo="DialogClose",mo=i.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=z(vo,t);return i.createElement(J.button,j({type:"button"},r,{ref:n,onClick:Q(e.onClick,()=>o.onOpenChange(!1))}))});function st(e){return e?"open":"closed"}const po=Qr,ho=eo,go=no,bo=ro,$o=ao,wo=lo,yo=fo,Eo=mo;function So(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const rn=b.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),lt=()=>b.useContext(rn);So("[vaul-drawer]{touch-action:none;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}");const Co=typeof window<"u"?i.useLayoutEffect:i.useEffect;function ot(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function Ro(){return ut(/^Mac/)}function To(){return ut(/^iPhone/)}function xo(){return ut(/^iPad/)||Ro()&&navigator.maxTouchPoints>1}function on(){return To()||xo()}function ut(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const qe=typeof document<"u"&&window.visualViewport;function Nt(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function an(e){for(Nt(e)&&(e=e.parentElement);e&&!Nt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Do=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let xe=0,Ze;function Oo(e={}){let{isDisabled:n}=e;Co(()=>{if(!n)return xe++,xe===1&&(on()?Ze=No():Ze=Ao()),()=>{xe--,xe===0&&Ze()}},[n])}function Ao(){return ot(cn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function No(){let e,n=0,t=u=>{e=an(u.target),!(e===document.documentElement&&e===document.body)&&(n=u.changedTouches[0].pageY)},r=u=>{if(!e||e===document.documentElement||e===document.body){u.preventDefault();return}let l=u.changedTouches[0].pageY,m=e.scrollTop,d=e.scrollHeight-e.clientHeight;d!==0&&((m<=0&&l>n||m>=d&&l<n)&&u.preventDefault(),n=l)},o=u=>{let l=u.target;at(l)&&l!==document.activeElement&&(u.preventDefault(),l.style.transform="translateY(-2000px)",l.focus(),requestAnimationFrame(()=>{l.style.transform=""}))},a=u=>{let l=u.target;at(l)&&(l.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{l.style.transform="",qe&&(qe.height<window.innerHeight?requestAnimationFrame(()=>{Pt(l)}):qe.addEventListener("resize",()=>Pt(l),{once:!0}))}))},s=ot(cn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`)),c=ot(De(document,"touchstart",t,{passive:!1,capture:!0}),De(document,"touchmove",r,{passive:!1,capture:!0}),De(document,"touchend",o,{passive:!1,capture:!0}),De(document,"focus",a,!0));return()=>{s(),c()}}function cn(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function De(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function Pt(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=an(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,o=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const s=t.getBoundingClientRect().bottom;a>s&&(t.scrollTop+=o-r)}e=t.parentElement}}function at(e){return e instanceof HTMLInputElement&&!Do.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Po(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function _o(...e){return n=>e.forEach(t=>Po(t,n))}function sn(...e){return i.useCallback(_o(...e),e)}let q=null;function Mo({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:o}){const[a,s]=b.useState(typeof window<"u"?window.location.href:""),c=b.useRef(0),u=b.useCallback(()=>{if(q===null&&e){q={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:m,innerHeight:d}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-c.current}px`,document.body.style.left=`${-m}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{console.log(["scrollPosition",c.current,d]),c.current>=d&&(document.body.style.top=`${-c.current}px`)}),300)}},[e]),l=b.useCallback(()=>{if(q!==null){const m=-parseInt(document.body.style.top,10),d=-parseInt(document.body.style.left,10);document.body.style.position=q.position,document.body.style.top=q.top,document.body.style.left=q.left,document.body.style.height=q.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(o&&a!==window.location.href){s(window.location.href);return}window.scrollTo(d,m)}),q=null}},[a]);return b.useEffect(()=>{function m(){c.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),b.useEffect(()=>{t||!r||(e?n||setTimeout(()=>{l()},500):l())},[e,r,a,n,t,u,l]),{restorePositionSetting:l}}const ln=new WeakMap;function P(e,n,t=!1){if(!e||!(e instanceof HTMLElement)||!n)return;let r={};Object.entries(n).forEach(([o,a])=>{if(o.startsWith("--")){e.style.setProperty(o,a);return}r[o]=e.style[o],e.style[o]=a}),!t&&ln.set(e,r)}function Oe(e,n){if(!e||!(e instanceof HTMLElement))return;let t=ln.get(e);t&&(n?e.style[n]=t[n]:Object.entries(t).forEach(([r,o])=>{e.style[r]=o}))}const F=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ae(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[F(n)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[F(n)?5:4]):null)}function Io(e){return 8*(Math.log(e+1)-2)}const A={DURATION:.5,EASE:[.32,.72,0,1]},un=.4;function dn(e){const n=b.useRef(e);return b.useEffect(()=>{n.current=e}),b.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function Lo({defaultProp:e,onChange:n}){const t=b.useState(e),[r]=t,o=b.useRef(r),a=dn(n);return b.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}function ko({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=Lo({defaultProp:n,onChange:t}),a=e!==void 0,s=a?e:r,c=dn(t),u=b.useCallback(l=>{if(a){const d=typeof l=="function"?l(e):l;d!==e&&c(d)}else o(l)},[a,e,o,c]);return[s,u]}function Fo({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:o,fadeFromIndex:a,onSnapPointChange:s,direction:c="bottom"}){const[u,l]=ko({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),m=b.useMemo(()=>u===(t==null?void 0:t[t.length-1])||null,[t,u]),d=t&&t.length>0&&(a||a===0)&&!Number.isNaN(a)&&t[a]===u||!t,g=b.useMemo(()=>t==null?void 0:t.findIndex($=>$===u),[t,u]),v=b.useMemo(()=>{var $;return($=t==null?void 0:t.map(w=>{const h=typeof window<"u",M=typeof w=="string";let y=0;if(M&&(y=parseInt(w,10)),F(c)){const N=M?y:h?w*window.innerHeight:0;return h?c==="bottom"?window.innerHeight-N:-window.innerHeight+N:N}const C=M?y:h?w*window.innerWidth:0;return h?c==="right"?window.innerWidth-C:-window.innerWidth+C:C}))!=null?$:[]},[t]),T=b.useMemo(()=>g!==null?v==null?void 0:v[g]:null,[v,g]),f=b.useCallback($=>{var w;const h=(w=v==null?void 0:v.findIndex(M=>M===$))!=null?w:null;s(h),P(r.current,{transition:`transform ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`,transform:F(c)?`translate3d(0, ${$}px, 0)`:`translate3d(${$}px, 0, 0)`}),v&&h!==v.length-1&&h!==a?P(o.current,{transition:`opacity ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`,opacity:"0"}):P(o.current,{transition:`opacity ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`,opacity:"1"}),l(h!==null?t==null?void 0:t[h]:null)},[r.current,t,v,a,o,l]);b.useEffect(()=>{if(e){var $;const w=($=t==null?void 0:t.findIndex(h=>h===e))!=null?$:-1;v&&w!==-1&&typeof v[w]=="number"&&f(v[w])}},[e,t,v,f]);function E({draggedDistance:$,closeDrawer:w,velocity:h,dismissible:M}){if(a===void 0)return;const y=c==="bottom"||c==="right"?(T??0)-$:(T??0)+$,C=g===a-1,N=g===0,U=$>0;if(C&&P(o.current,{transition:`opacity ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`}),h>2&&!U){M?w():f(v[0]);return}if(h>2&&U&&v&&t){f(v[t.length-1]);return}const H=v==null?void 0:v.reduce((W,V)=>typeof W!="number"||typeof V!="number"?W:Math.abs(V-y)<Math.abs(W-y)?V:W),K=F(c)?window.innerHeight:window.innerWidth;if(h>un&&Math.abs($)<K*.4){const W=U?1:-1;if(W>0&&m){f(v[t.length-1]);return}if(N&&W<0&&M&&w(),g===null)return;f(v[g+W]);return}f(H)}function p({draggedDistance:$}){if(T===null)return;const w=c==="bottom"||c==="right"?T-$:T+$;(c==="bottom"||c==="right")&&w<v[v.length-1]||(c==="top"||c==="left")&&w>v[v.length-1]||P(r.current,{transform:F(c)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`})}function O($,w){if(!t||typeof g!="number"||!v||a===void 0)return null;const h=g===a-1;if(g>=a&&w)return 0;if(h&&!w)return 1;if(!d&&!h)return null;const y=h?g+1:g-1,C=h?v[y]-v[y-1]:v[y+1]-v[y],N=$/Math.abs(C);return h?1-N:N}return{isLastSnapPoint:m,activeSnapPoint:u,shouldFade:d,getPercentageDragged:O,setActiveSnapPoint:l,activeSnapPointIndex:g,onRelease:E,onDrag:p,snapPointsOffset:v}}const jo=.25,Uo=100,_t=8,ne=16,Mt=26,Qe="vaul-dragging";function fn({open:e,onOpenChange:n,children:t,shouldScaleBackground:r,onDrag:o,onRelease:a,snapPoints:s,nested:c=!1,closeThreshold:u=jo,scrollLockTimeout:l=Uo,dismissible:m=!0,fadeFromIndex:d=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:T,modal:f=!0,onClose:E,direction:p="bottom",preventScrollRestoration:O=!0,disablePreventScroll:$=!1}){var w;const[h=!1,M]=b.useState(!1),[y,C]=b.useState(!1),[N,U]=b.useState(!1),[H,K]=b.useState(!1),[W,V]=b.useState(!1),[dt,Le]=b.useState(!1),ee=b.useRef(null),be=b.useRef(null),ke=b.useRef(null),Fe=b.useRef(null),ve=b.useRef(null),me=b.useRef(!1),je=b.useRef(null),Ue=b.useRef(0),ae=b.useRef(!1),ft=b.useRef(0),R=b.useRef(null),vt=b.useRef(((w=R.current)==null?void 0:w.getBoundingClientRect().height)||0),We=b.useRef(0),hn=b.useCallback(S=>{s&&S===he.length-1&&(be.current=new Date)},[]),{activeSnapPoint:gn,activeSnapPointIndex:pe,setActiveSnapPoint:mt,onRelease:bn,snapPointsOffset:he,onDrag:$n,shouldFade:pt,getPercentageDragged:wn}=Fo({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:R,fadeFromIndex:d,overlayRef:ee,onSnapPointChange:hn,direction:p});Oo({isDisabled:!h||W||!f||dt||!y||$});const{restorePositionSetting:yn}=Mo({isOpen:h,modal:f,nested:c,hasBeenOpened:y,preventScrollRestoration:O});function ie(){return(window.innerWidth-Mt)/window.innerWidth}function En(S){var x;!m&&!s||R.current&&!R.current.contains(S.target)||(vt.current=((x=R.current)==null?void 0:x.getBoundingClientRect().height)||0,V(!0),ke.current=new Date,on()&&window.addEventListener("touchend",()=>me.current=!1,{once:!0}),S.target.setPointerCapture(S.pointerId),Ue.current=F(p)?S.clientY:S.clientX)}function ht(S,x){var _;let D=S;const L=(_=window.getSelection())==null?void 0:_.toString(),k=R.current?Ae(R.current,p):null,B=new Date;if(D.hasAttribute("data-vaul-no-drag")||D.closest("[data-vaul-no-drag]"))return!1;if(p==="right"||p==="left")return!0;if(be.current&&B.getTime()-be.current.getTime()<500)return!1;if(k!==null&&(p==="bottom"?k>0:k<0))return!0;if(L&&L.length>0)return!1;if(ve.current&&B.getTime()-ve.current.getTime()<l&&k===0||x)return ve.current=B,!1;for(;D;){if(D.scrollHeight>D.clientHeight){if(D.scrollTop!==0)return ve.current=new Date,!1;if(D.getAttribute("role")==="dialog")return!0}D=D.parentNode}return!0}function Sn(S){if(R.current&&W){const x=p==="bottom"||p==="right"?1:-1,_=(Ue.current-(F(p)?S.clientY:S.clientX))*x,D=_>0,L=s&&!m&&!D;if(L&&pe===0)return;const k=Math.abs(_),B=document.querySelector("[vaul-drawer-wrapper]");let Y=k/vt.current;const G=wn(k,D);if(G!==null&&(Y=G),L&&Y>=1||!me.current&&!ht(S.target,D))return;if(R.current.classList.add(Qe),me.current=!0,P(R.current,{transition:"none"}),P(ee.current,{transition:"none"}),s&&$n({draggedDistance:_}),D&&!s){const te=Io(_),ye=Math.min(te*-1,0)*x;P(R.current,{transform:F(p)?`translate3d(0, ${ye}px, 0)`:`translate3d(${ye}px, 0, 0)`});return}const we=1-Y;if((pt||d&&pe===d-1)&&(o==null||o(S,Y),P(ee.current,{opacity:`${we}`,transition:"none"},!0)),B&&ee.current&&r){const te=Math.min(ie()+Y*(1-ie()),1),ye=8-Y*8,bt=Math.max(0,14-Y*14);P(B,{borderRadius:`${ye}px`,transform:F(p)?`scale(${te}) translate3d(0, ${bt}px, 0)`:`scale(${te}) translate3d(${bt}px, 0, 0)`,transition:"none"},!0)}if(!s){const te=k*x;P(R.current,{transform:F(p)?`translate3d(0, ${te}px, 0)`:`translate3d(${te}px, 0, 0)`})}}}b.useEffect(()=>()=>{$e(!1),yn()},[]),b.useEffect(()=>{var S;function x(){if(!R.current)return;const _=document.activeElement;if(at(_)||ae.current){var D;const L=((D=window.visualViewport)==null?void 0:D.height)||0;let k=window.innerHeight-L;const B=R.current.getBoundingClientRect().height||0;We.current||(We.current=B);const Y=R.current.getBoundingClientRect().top;if(Math.abs(ft.current-k)>60&&(ae.current=!ae.current),s&&s.length>0&&he&&pe){const G=he[pe]||0;k+=G}if(ft.current=k,B>L||ae.current){const G=R.current.getBoundingClientRect().height;let we=G;G>L&&(we=L-Mt),T?R.current.style.height=`${G-Math.max(k,0)}px`:R.current.style.height=`${Math.max(we,L-Y)}px`}else R.current.style.height=`${We.current}px`;s&&s.length>0&&!ae.current?R.current.style.bottom="0px":R.current.style.bottom=`${Math.max(k,0)}px`}}return(S=window.visualViewport)==null||S.addEventListener("resize",x),()=>{var _;return(_=window.visualViewport)==null?void 0:_.removeEventListener("resize",x)}},[pe,s,he]);function ce(){R.current&&(Cn(),E==null||E(),P(R.current,{transform:F(p)?`translate3d(0, ${p==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${p==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`}),P(ee.current,{opacity:"0",transition:`opacity ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`}),$e(!1),setTimeout(()=>{U(!1),M(!1)},300),setTimeout(()=>{s&&mt(s[0])},A.DURATION*1e3))}b.useEffect(()=>{if(!h&&r){const S=setTimeout(()=>{Oe(document.body)},200);return()=>clearTimeout(S)}},[h,r]),b.useLayoutEffect(()=>{e?(M(!0),C(!0)):ce()},[e]),b.useEffect(()=>{H&&(n==null||n(h))},[h]),b.useEffect(()=>{K(!0)},[]);function gt(){if(!R.current)return;const S=document.querySelector("[vaul-drawer-wrapper]"),x=Ae(R.current,p);P(R.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`}),P(ee.current,{transition:`opacity ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`,opacity:"1"}),r&&x&&x>0&&h&&P(S,{borderRadius:`${_t}px`,overflow:"hidden",...F(p)?{transform:`scale(${ie()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ie()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${A.DURATION}s`,transitionTimingFunction:`cubic-bezier(${A.EASE.join(",")})`},!0)}function Cn(){!W||!R.current||(R.current.classList.remove(Qe),me.current=!1,V(!1),Fe.current=new Date)}function Rn(S){if(!W||!R.current)return;R.current.classList.remove(Qe),me.current=!1,V(!1),Fe.current=new Date;const x=Ae(R.current,p);if(!ht(S.target,!1)||!x||Number.isNaN(x)||ke.current===null)return;const _=Fe.current.getTime()-ke.current.getTime(),D=Ue.current-(F(p)?S.clientY:S.clientX),L=Math.abs(D)/_;if(L>.05&&(Le(!0),setTimeout(()=>{Le(!1)},200)),s){bn({draggedDistance:D*(p==="bottom"||p==="right"?1:-1),closeDrawer:ce,velocity:L,dismissible:m}),a==null||a(S,!0);return}if(p==="bottom"||p==="right"?D>0:D<0){gt(),a==null||a(S,!0);return}if(L>un){ce(),a==null||a(S,!1);return}var k;const B=Math.min((k=R.current.getBoundingClientRect().height)!=null?k:0,window.innerHeight);if(x>=B*u){ce(),a==null||a(S,!1);return}a==null||a(S,!0),gt()}b.useEffect(()=>{h&&(P(document.documentElement,{scrollBehavior:"auto"}),be.current=new Date,$e(!0))},[h]),b.useEffect(()=>{if(R.current&&N){var S;const x=R==null||(S=R.current)==null?void 0:S.querySelectorAll("*");x==null||x.forEach(_=>{const D=_;(D.scrollHeight>D.clientHeight||D.scrollWidth>D.clientWidth)&&D.classList.add("vaul-scrollable")})}},[N]);function $e(S){const x=document.querySelector("[vaul-drawer-wrapper]");!x||!r||(S?(P(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),P(document.body,{background:"black"},!0),P(x,{borderRadius:`${_t}px`,overflow:"hidden",...F(p)?{transform:`scale(${ie()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ie()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${A.DURATION}s`,transitionTimingFunction:`cubic-bezier(${A.EASE.join(",")})`})):(Oe(x,"overflow"),Oe(x,"transform"),Oe(x,"borderRadius"),P(x,{transitionProperty:"transform, border-radius",transitionDuration:`${A.DURATION}s`,transitionTimingFunction:`cubic-bezier(${A.EASE.join(",")})`})))}function Tn(S){const x=S?(window.innerWidth-ne)/window.innerWidth:1,_=S?-ne:0;je.current&&window.clearTimeout(je.current),P(R.current,{transition:`transform ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`,transform:`scale(${x}) translate3d(0, ${_}px, 0)`}),!S&&R.current&&(je.current=setTimeout(()=>{const D=Ae(R.current,p);P(R.current,{transition:"none",transform:F(p)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})},500))}function xn(S,x){if(x<0)return;const _=F(p)?window.innerHeight:window.innerWidth,D=(_-ne)/_,L=D+x*(1-D),k=-ne+x*ne;P(R.current,{transform:F(p)?`scale(${L}) translate3d(0, ${k}px, 0)`:`scale(${L}) translate3d(${k}px, 0, 0)`,transition:"none"})}function Dn(S,x){const _=F(p)?window.innerHeight:window.innerWidth,D=x?(_-ne)/_:1,L=x?-ne:0;x&&P(R.current,{transition:`transform ${A.DURATION}s cubic-bezier(${A.EASE.join(",")})`,transform:F(p)?`scale(${D}) translate3d(0, ${L}px, 0)`:`scale(${D}) translate3d(${L}px, 0, 0)`})}return b.createElement(po,{modal:f,onOpenChange:S=>{if(e!==void 0){n==null||n(S);return}S?(C(!0),M(S)):ce()},open:h},b.createElement(rn.Provider,{value:{visible:N,activeSnapPoint:gn,snapPoints:s,setActiveSnapPoint:mt,drawerRef:R,overlayRef:ee,scaleBackground:$e,onOpenChange:n,onPress:En,setVisible:U,onRelease:Rn,onDrag:Sn,dismissible:m,isOpen:h,shouldFade:pt,closeDrawer:ce,onNestedDrag:xn,onNestedOpenChange:Tn,onNestedRelease:Dn,keyboardIsOpen:ae,openProp:e,modal:f,snapPointsOffset:he,direction:p}},t))}const vn=b.forwardRef(function({children:e,...n},t){const{overlayRef:r,snapPoints:o,onRelease:a,shouldFade:s,isOpen:c,visible:u}=lt(),l=sn(t,r),m=o&&o.length>0;return b.createElement(bo,{onMouseUp:a,ref:l,"vaul-drawer-visible":u?"true":"false","vaul-overlay":"","vaul-snap-points":c&&m?"true":"false","vaul-snap-points-overlay":c&&s?"true":"false",...n})});vn.displayName="Drawer.Overlay";const mn=b.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:n,onAnimationEnd:t,style:r,...o},a){const{drawerRef:s,onPress:c,onRelease:u,onDrag:l,dismissible:m,keyboardIsOpen:d,snapPointsOffset:g,visible:v,closeDrawer:T,modal:f,openProp:E,onOpenChange:p,setVisible:O,direction:$}=lt(),w=sn(a,s),h=b.useRef(null);b.useEffect(()=>{O(!0)},[]);const M=(y,C,N=0)=>{const U=Math.abs(y.x),H=Math.abs(y.y),K=U>H;return C==="left"||C==="right"?K&&U>N:!K&&H>N};return b.createElement($o,{"vaul-drawer":"","vaul-drawer-direction":$,"vaul-drawer-visible":v?"true":"false",...o,ref:w,style:g&&g.length>0?{"--snap-point-height":`${g[0]}px`,...r}:r,onOpenAutoFocus:y=>{if(e)e(y);else{var C;y.preventDefault(),(C=s.current)==null||C.focus()}},onPointerDown:y=>{o.onPointerDown==null||o.onPointerDown.call(o,y),h.current={x:y.clientX,y:y.clientY},c(y)},onPointerDownOutside:y=>{if(n==null||n(y),!f||y.defaultPrevented){y.preventDefault();return}d.current&&(d.current=!1),y.preventDefault(),p==null||p(!1),!(!m||E!==void 0)&&T()},onPointerMove:y=>{if(o.onPointerMove==null||o.onPointerMove.call(o,y),!h.current)return null;const C=y.clientY-h.current.y,N=y.clientX-h.current.x,U=["left","right"].includes($),H=["left","top"].includes($)?Math.min:Math.max,K=U?H(0,N):0,W=U?0:H(0,C),V=y.pointerType==="touch"?10:2;M({x:K,y:W},$,V)?l(y):(Math.abs(N)>V||Math.abs(C)>V)&&(h.current=null)},onPointerUp:y=>{o.onPointerUp==null||o.onPointerUp.call(o,y),h.current=null,u(y)}})});mn.displayName="Drawer.Content";function Wo({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:r,onNestedOpenChange:o,onNestedRelease:a}=lt();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return b.createElement(fn,{nested:!0,onClose:()=>{o(!1)},onDrag:(s,c)=>{r(s,c),e==null||e(s,c)},onOpenChange:s=>{s&&o(s),n==null||n(s)},onRelease:a,...t})}const re={Root:fn,NestedRoot:Wo,Content:mn,Overlay:vn,Trigger:ho,Portal:go,Close:Eo,Title:wo,Description:yo},Ho=e=>I.jsx(re.Close,it({asChild:!0},e)),Bo=e=>{let n=e;e.length===4&&(n=e.replace(/([^#])/g,"$1$1"));const t=parseInt(n.replace("#",""),16),r=t>>16,o=t>>8;return[r&255,o&255,t&255]},Vo=[255,255,255],zo=[33,33,33],pn=i.forwardRef((e,n)=>{var{className:t}=e,r=Lt(e,["className"]);const o=kt(),[a,s,c]=i.useMemo(()=>{const u=Nn();return u&&u.themeParams.bg_color?Bo(u.themeParams.bg_color):o.appearance==="light"?Vo:zo},[o.appearance]);return I.jsx(re.Overlay,it({ref:n,style:{background:`rgba(${a}, ${s}, ${c}, .4)`},className:Ft("tgui-3197096cb603b35a",t)},r))}),Ie=i.forwardRef((e,n)=>{var{overlayComponent:t=I.jsx(pn,{}),open:r,onOpenChange:o,header:a,className:s,children:c,nested:u,trigger:l,closeThreshold:m,scrollLockTimeout:d,snapPoints:g,fadeFromIndex:v,modal:T,preventScrollRestoration:f,dismissible:E}=e,p=Lt(e,["overlayComponent","open","onOpenChange","header","className","children","nested","trigger","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","modal","preventScrollRestoration","dismissible"]),O;const $=kt(),[w,h]=i.useState((O=$.portalContainer)===null||O===void 0?void 0:O.current);i.useEffect(()=>{var y;h((y=$.portalContainer)===null||y===void 0?void 0:y.current)},[$.portalContainer]);const M=u?re.NestedRoot:re.Root;return I.jsxs(M,{open:r,onOpenChange:o,closeThreshold:m,scrollLockTimeout:d,snapPoints:g,fadeFromIndex:v,modal:T,preventScrollRestoration:f,dismissible:E,children:[l&&I.jsx(re.Trigger,{asChild:!0,children:l}),I.jsxs(re.Portal,{container:w,children:[t,I.jsxs(re.Content,Pn(it({ref:n,className:Ft("tgui-cc76354712c6e8d9",s)},p),{children:[a,I.jsx("div",{className:"tgui-5dc6ad1ca3ac3ed4",children:c})]}))]})]})});Ie.Header=jt;Ie.Overlay=pn;Ie.Close=Ho;const Yo=b.lazy(()=>_n(()=>import("./calcDistance-DP--JZw4.js").then(e=>e.d),__vite__mapDeps([0,1,2,3]),import.meta.url).then(({MapContainerYandex:e})=>({default:e}))),Jo=({parent:e,tasks:n,position:t,radius:r=0})=>{const{available:o,latLong:a,address:s}=t,[c,u]=i.useState(!1),[l,m]=i.useState(),d=()=>{u(!0)},g=()=>{u(!1)};return o?I.jsxs("div",{className:"text-center",children:[I.jsxs("div",{children:["Current address: ",s==null?void 0:s.formattedAdress]}),I.jsxs("div",{className:"flex-col hidden",children:[I.jsx("span",{children:"Geolocation is available"}),I.jsxs("span",{children:["Latitude: ",a==null?void 0:a.latitude]}),I.jsxs("span",{children:["Longitude: ",a==null?void 0:a.longitude]})]}),a&&I.jsxs("div",{className:"flex flex-col gap-7",children:[I.jsx(i.Suspense,{fallback:I.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:I.jsx(Yo,{available:o,type:"self",className:"p-2 w-full h-[--tg-viewport-width] overflow-hidden z-0",center:{latitude:Number(a.latitude),longitude:Number(a.longitude)},points:n.map(v=>{var T,f;return{taskId:v.id,latitude:Number((T=v.location.latLong)==null?void 0:T.latitude),longitude:Number((f=v.location.latLong)==null?void 0:f.longitude),onBubbleClick:()=>{d(),m(v)}}}),radius:r})}),I.jsx(Ie,{header:I.jsx(jt,{}),className:"h-2/3",open:c,onOpenChange:v=>u(v),children:I.jsx(In,{taskId:l==null?void 0:l.id,mode:e==="Tasks"?"view":"edit",closeModal:g})})]})]}):I.jsx(Mn,{})};export{Jo as MapPage};
