const __vite__fileDeps=["./MapPage-Nnia1wFx.js","./index-DbMsnYKV.js","./index-DtMsLSMx.css","./Input-DN_3xv1c.js","./function-ChqatQlo.js","./Section-BOM-Wog2.js","./TasksList-BJjBGoAx.js","./List-CmJPxuCZ.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{R as g,w as k,J as S,j as e,P as v,r as n,x as w,k as h,l as N,y as b,q as y}from"./index-DbMsnYKV.js";import{S as P,a as x,M as A,b as E,F as O,T as R}from"./TaskCard-DYZxm8gq.js";import{S as L}from"./Section-BOM-Wog2.js";const D=g.lazy(()=>k(()=>import("./MapPage-Nnia1wFx.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(({MapPage:a})=>({default:a}))),u=g.lazy(()=>k(()=>import("./TasksList-BJjBGoAx.js"),__vite__mapDeps([6,1,2,4,5,7]),import.meta.url).then(({TasksList:a})=>({default:a}))),I=()=>{if(!S())return e.jsx(v,{header:"Oops",description:"Application was launched with missing init data",children:e.jsx("img",{alt:"Telegram sticker",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})});const[t,j]=n.useState("list"),c=s=>{console.log("Changing mode"),j(s)},[f,l]=n.useState(!1),T=()=>{l(!0),console.log("Modal opened")},d=()=>{l(!1),console.log("Modal closed")},[C,M]=n.useState(""),o=s=>{console.log("Selected task: "+s),M(s),T()},_=w(),i=h(N),r=h(b),m=r.filter(s=>s.acceptedBy!==i.id&&s.status==="open"&&s.customer!==i.id),p=r.filter(s=>s.acceptedBy===i.id&&s.status==="active");return e.jsxs("div",{className:"md:container md:mx-auto",children:[e.jsx(L,{className:"pt-4 h-full",header:e.jsxs("div",{className:"p-2 flex align-middle items-center justify-between w-full",children:[e.jsx(y,{className:"self-start",children:"Tasks"}),e.jsxs(P,{className:"w-40 h-8 self-end ",children:[e.jsx(x,{className:"w-4 h-8 align-middle p-1",selected:t==="list",onClick:()=>{c("list")},children:"List"}),e.jsx(x,{selected:t==="map",className:"w-4 h-8 align-middle p-1",onClick:()=>{c("map")},children:"Map"})]})]}),children:t==="list"?e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Active tasks",tasks:p,onCardClick:o,open:!0}),e.jsx(u,{title:"Available tasks",tasks:m,onCardClick:o,open:!0})]}):e.jsx(e.Fragment,{children:e.jsx(D,{tasks:[...p,...m],position:_,onBubbleClick:o})})}),e.jsx(A,{open:f,onOpenChange:s=>{l(s)},className:"z-10 h-3/4",header:e.jsx(E,{after:e.jsx(O,{className:"text-[--tg-theme-plain-foreground] h-4",onClick:d})}),children:e.jsx(R,{id:C,closeModal:d})})]})};export{I as TasksTab};
