import{k as W,j as d,z as le,_ as q,h as J,m as Z,l as ue,C as de,r as h,c as se,d as je,s as Oe,A as xe,D as Ce,R as m,b as we,T as ne,n as Ee,F as Ae}from"./index-B8HkePtc.js";import{I as Re,L as pe,C as oe,B as Ne}from"./Input-Cj31vOeN.js";const ke={bezeled:"tgui-93cba8aff2e72079",plain:"tgui-08ef1486bc111162",gray:"tgui-2250ff52f0b5cf71",outline:"tgui-53781f3cf83e8be1"},_e={s:"tgui-b92d762e02762017",m:"tgui-024dfe77a8f2cfb0",l:"tgui-8ca1879e1128c105"},Me=r=>{var{size:e="m",mode:s="bezeled",className:t,children:n}=r,i=W(r,["size","mode","className","children"]);return d.jsx(le,q(J({Component:"button",className:Z("tgui-dda0e80fdf796ba5",ke[s],_e[e],t)},i),{children:n}))},Pe=r=>{var{withoutAnimation:e,visible:s,className:t,children:n}=r,i=W(r,["withoutAnimation","visible","className","children"]);return d.jsx("div",q(J({className:Z("tgui-97f2df57786b02dc",s&&"tgui-3eb6091f664c15d6",e&&"tgui-ecf101b3117a96c8",t)},i),{children:n}))},Te=r=>{var{selected:e,className:s,children:t}=r,n=W(r,["selected","className","children"]);const i=ue();return d.jsx(le,q(J({role:"tab",Component:"button",className:Z("tgui-bbfb272d22eb23e8",i==="ios"&&"tgui-513fce1023cbbd63",s)},n),{children:d.jsx(de,{weight:e?"2":"3",children:t})}))},Ie=r=>{var{className:e,children:s}=r,t=W(r,["className","children"]);const n=ue(),i=h.Children.toArray(s),a=i.findIndex(c=>h.isValidElement(c)&&c.props.selected),u=`translateX(${100*a}%)`;return d.jsx("div",q(J({role:"tablist",className:Z("tgui-71259e3311d7116e",n==="ios"&&"tgui-16c6b1986a48e2b5",e)},t),{children:d.jsxs("div",{className:"tgui-b0a9057ab5d33005",children:[a>-1&&d.jsx("div",{"aria-hidden":!0,className:"tgui-31f461ccfea23ec3",style:{width:`${100/i.length}%`,transform:u}}),s]})}))};Ie.Item=Te;function Se({title:r,titleId:e,...s},t){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":e},s),r?h.createElement("title",{id:e},r):null,h.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Le=h.forwardRef(Se);let re;const De=({geoposition:r,setGeoposition:e,status:s})=>{const t=se(je),n=se(Oe),i=h.createRef(),[a,u]=h.useState(""),[c,o]=h.useState([]),[b,g]=h.useState(!1),[j,O]=h.useState(!1),N=()=>{O(!0)},x=()=>{O(!1)};h.useEffect(()=>{clearTimeout(re),a.length>0&&!b?re=setTimeout(()=>{xe(n.languageCode||"en",a).then(f=>{console.log(f),o(f)}),N()},500):(o([]),x())},[a,b,n]);const U=f=>{const C=f.currentTarget.value;g(!1),u(C),o([]),x()};h.useEffect(()=>{x(),o([])},[r]);const L=(f,C)=>{console.log("Selected address"),u(f),g(!0),Ce(n.languageCode||"en",a,C).then(w=>{console.log(w),e(w[0])}),x()},k=()=>{u(""),o([]),x()};return d.jsxs("div",{className:"relative overflow-visible self-stretch",ref:i,children:[d.jsx(Re,{after:a.length>0&&d.jsx(Me,{onClick:k,children:d.jsx(Le,{className:"w-4 h-4"})}),value:a,status:s,placeholder:"Enter your address",onChange:U,onFocus:()=>{c.length>0&&N()}}),t.available&&d.jsx(de,{className:"pl-8 text-[--tg-theme-link-color]",onClick:()=>{var f;e(t),u(((f=t==null?void 0:t.address)==null?void 0:f.formattedAdress)||""),g(!0)},children:"My address"}),j&&d.jsx("div",{className:"top-22 absolute z-20 -mt-2 w-full",children:d.jsxs(pe,{className:"mr-8 ml-8 rounded-xl border border-solid border-gray-600 bg-[--tg-theme-secondary-bg-color]",children:[c.length>0&&c.map(f=>d.jsx("div",{onTouchEnd:C=>{C.preventDefault(),L(f.title,f.uri)},children:d.jsx(oe,{Component:"div",className:"w-full",subtitle:f.subtitle,onClick:C=>{C.preventDefault(),L(f.title,f.uri)},children:f.title})},f.uri)),c.length===0&&d.jsx(oe,{className:"w-full",children:"Not found"})]})})]})};function R(){return R=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}return r},R.apply(this,arguments)}const me=(r,e)=>{const s={};for(const t in r)e.indexOf(t)===-1&&(s[t]=r[t]);return s},fe=m.createContext(null),$=m.createContext(null),he=r=>e=>m.createElement($.Consumer,null,s=>m.createElement(r,R({parent:s},e))),ze=(r=[])=>{const[e,s]=h.useState(!1),t=h.useRef(r),n=(()=>{const a=h.useContext(fe);if(a===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return a})(),i=n.getApi();return h.useEffect(()=>{n.load().then(()=>Promise.all(t.current.map(n.loadModule))).then(()=>s(!0))},[]),e&&i?i:null},Ue=()=>{},Ge=["onLoad","onError","modules","apiLoader"];function H(r,e=!1,s=[]){return t=>{const{width:n,height:i,modules:a=[],onLoad:u=Ue}=t,c=ze(s.concat(a)),o=!e||!!c,b=me(t,Ge);return h.useEffect(()=>c?u(c):void 0,[c]),o?m.createElement(r,R({ymaps:c},b)):m.createElement("div",{style:{width:n,height:i}})}}const Be=typeof window<"u",ae={lang:"ru_RU",load:"",ns:"",mode:"release"},Ke=r=>{const{version:e="2.1",enterprise:s=!1,query:t={lang:"ru_RU",load:"",ns:""},preload:n=!1,children:i}=r,a=h.useRef((u=>{const{query:c=ae}=u,o=Date.now().toString(32),b=c.ns||"",g="__yandex-maps-api-onload__$$"+o,j="__yandex-maps-api-onerror__$$"+o,O=Be?window:{},N={};let x;const U=()=>b?O[b]:x,L=()=>{delete O[g],delete O[j]};return{load:()=>{if(U())return Promise.resolve(x);if(N[b])return N[b];const k={onload:g,onerror:j,...ae,...c},f=Object.keys(k).map(w=>`${w}=${k[w]}`).join("&"),C=[`https://${u.enterprise?"enterprise.":""}api-maps.yandex.ru`,u.version,"?"+f].join("/");return N[b]=new Promise((w,Y)=>{O[g]=E=>{L(),E.ready(()=>{x=E,w(E)})},O[j]=E=>{L(),Y(E)},(E=>new Promise((D,X)=>{const A=document.createElement("script");A.type="text/javascript",A.onload=D,A.onerror=X,A.src=E,A.async=!0,document.head.appendChild(A)}))(C).catch(O[j])}),N[b]},getApi:U,loadModule:k=>new Promise((f,C)=>{x.modules.require(k).done(w=>{w.forEach(Y=>{((E,D,X,A=!1)=>{const Q=typeof D=="string"?D.split("."):D.slice();let G,P=E;for(;Q.length>1;)G=Q.shift(),P[G]||(P[G]={}),P=P[G];const te=Q[0];P[te]=A===!0&&P[te]||X})(x,k,Y,!0)}),f(x)},C)})}})({version:e,enterprise:s,query:t,preload:n}));return h.useEffect(()=>{n&&a.current.load()},[a.current]),m.createElement(fe.Provider,{value:a.current},i)},ie=/^on(?=[A-Z])/;function p(r){return Object.keys(r).reduce((e,s)=>{if(ie.test(s)){const t=s.replace(ie,"").toLowerCase();e._events[t]=r[s]}else e[s]=r[s];return e},{_events:{}})}function _(r,e,s){typeof s=="function"&&r.events.add(e,s)}function M(r,e,s){typeof s=="function"&&r.events.remove(e,s)}function S(r,e,s){Object.keys(Object.assign({},e,s)).forEach(t=>{e[t]!==s[t]&&(M(r,t,e[t]),_(r,t,s[t]))})}const ge=r=>"default"+r.charAt(0).toUpperCase()+r.slice(1);function y(r,e){return r[e]!==void 0||r[ge(e)]===void 0}function l(r,e,s){return(y(r,e)?r[e]:r[ge(e)])||s}function v(r,e,s=null){if(r!==e){if(r&&("current"in r?r.current=null:typeof r=="function"&&r(null)),!e)return;"current"in e?e.current=s:typeof e=="function"&&e(s)}}function be(r){const{width:e,height:s,style:t,className:n}=r;return t!==void 0||n!==void 0?Object.assign({},t&&{style:t},n&&{className:n}):{style:{width:e,height:s}}}class Fe extends m.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,s){const{onError:t=()=>{}}=this.props;t(e),this.setState({error:e,errorInfo:s})}render(){return this.state.error?null:this.props.children}}const ee=r=>({onError:e,...s})=>m.createElement(Fe,{onError:e},m.createElement(r,s));class z extends m.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=e=>{this._parentElement=e}}componentDidMount(){this.instance=z.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(e){this.instance!==null&&z.updateObject(this.instance,e,this.props)}componentWillUnmount(){z.unmountObject(this.instance,this.props)}render(){const e=be(this.props),s=p(this.props),t=me(s,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return m.createElement($.Provider,{value:this.state.instance},m.createElement("div",R({ref:this._getRef},e,t),this.props.children))}static mountObject(e,s,t){const{instanceRef:n,_events:i}=p(t),a=new s(e,l(t,"state"),l(t,"options"));return Object.keys(i).forEach(u=>_(a,u,i[u])),v(null,n,a),a}static updateObject(e,s,t){const{_events:n,instanceRef:i}=p(t),{_events:a,instanceRef:u}=p(s);if(y(t,"state")){const c=l(s,"state",{}),o=l(t,"state",{});c.type!==o.type&&e.setType(o.type),c.behaviors!==o.behaviors&&(c.behaviors&&e.behaviors.disable(c.behaviors),o.behaviors&&e.behaviors.enable(o.behaviors)),o.zoom&&c.zoom!==o.zoom&&e.setZoom(o.zoom),o.center&&c.center!==o.center&&e.setCenter(o.center),o.bounds&&c.bounds!==o.bounds&&e.setBounds(o.bounds)}if(y(t,"options")){const c=l(s,"options"),o=l(t,"options",{});c!==o&&e.options.set(o)}l(s,"width")===l(t,"width")&&l(s,"height")===l(t,"height")||e.container.fitToViewport(),S(e,a,n),v(u,i,e)}static unmountObject(e,s){const{instanceRef:t,_events:n}=p(s);e!==null&&(Object.keys(n).forEach(i=>M(e,i,n[i])),e.destroy(),v(t))}}const ye=ee(H(z,!0,["Map"]));ye.defaultProps={width:320,height:240};class B extends m.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=e=>{this._parentElement=e}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&B.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(e=>this._mounted&&this.setState({instance:e}))}componentDidUpdate(e){this.state.instance!==null&&B.updateObject(this.state.instance,e,this.props)}componentWillUnmount(){this._mounted=!1,B.unmountObject(this.state.instance,this.props)}render(){const e=be(this.props);return m.createElement("div",R({ref:this._getRef},e))}static mountObject(e,s,t){const{instanceRef:n,_events:i}=p(t),a=l(t,"point"),u=l(t,"locateOptions"),c=l(t,"options");return new Promise((o,b)=>{s.locate(a,u).done(g=>{if(g.length>0){const j=new s.Player(e,g[0],c);v(null,n,j),Object.keys(i).forEach(O=>_(j,O,i[O])),o(j)}},b)})}static updateObject(e,s,t){const{_events:n,instanceRef:i}=p(t),{_events:a,instanceRef:u}=p(s);if(y(t,"options")){const c=l(s,"options"),o=l(t,"options");c!==o&&e.options.set(o)}if(y(t,"point")){const c=l(t,"point"),o=l(s,"point"),b=l(t,"locateOptions");c!==o&&e.moveTo(c,b)}S(e,a,n),v(u,i,e)}static unmountObject(e,s){const{instanceRef:t,_events:n}=p(s);e!==null&&(Object.keys(n).forEach(i=>M(e,i,n[i])),v(t))}}class K extends m.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const e=K.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){this.instance!==null&&K.updateControl(this.instance,e,this.props)}componentWillUnmount(){K.unmountControl(this.instance,this.props)}render(){return m.createElement($.Provider,{value:this.state.instance},this.props.children)}static mountControl(e,s){const{instanceRef:t,parent:n,lazy:i,_events:a}=p(s),u=new e({data:l(s,"data"),options:l(s,"options"),state:l(s,"state"),mapTypes:l(s,"mapTypes"),lazy:i});if(Object.keys(a).forEach(c=>_(u,c,a[c])),n&&n.controls&&typeof n.controls.add=="function")n.controls.add(u);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${s.name}`);n.add(u)}return v(null,t,u),u}static updateControl(e,s,t){const{_events:n,instanceRef:i}=p(t),{_events:a,instanceRef:u}=p(s);if(y(t,"options")){const c=l(s,"options"),o=l(t,"options");c!==o&&e.options.set(o)}if(y(t,"data")){const c=l(s,"data"),o=l(t,"data");c!==o&&e.data.set(o)}if(y(t,"state")){const c=l(s,"state"),o=l(t,"state");c!==o&&e.state.set(o)}if(y(t,"mapTypes")){const c=l(s,"mapTypes"),o=l(t,"mapTypes");c!==o&&(e.removeAllMapTypes(),o.forEach(b=>e.addMapType(b)))}S(e,a,n),v(u,i,e)}static unmountControl(e,s){const{instanceRef:t,parent:n,_events:i}=p(s);e!==null&&(Object.keys(i).forEach(a=>M(e,a,i[a])),n.controls&&typeof n.controls.remove=="function"?n.controls.remove(e):n.remove&&typeof n.remove=="function"&&n.remove(e),v(t))}}class F extends m.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const e=F.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){this.state.instance!==null&&F.updateObject(this.instance,e,this.props)}componentWillUnmount(){F.unmountObject(this.instance,this.props)}render(){return m.createElement($.Provider,{value:this.state.instance},this.props.children)}static mountObject(e,s){const{instanceRef:t,parent:n,_events:i}=p(s),a=new e(l(s,"options"));if(Object.keys(i).forEach(u=>_(a,u,i[u])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(a);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount Clusterer");n.add(a)}return v(null,t,a),a}static updateObject(e,s,t){const{_events:n,instanceRef:i}=p(t),{_events:a,instanceRef:u}=p(s);if(y(t,"options")){const c=l(s,"options"),o=l(t,"options");c!==o&&e.options.set(o)}S(e,a,n),v(u,i,e)}static unmountObject(e,s){const{instanceRef:t,parent:n,_events:i}=p(s);e!==null&&(Object.keys(i).forEach(a=>M(e,a,i[a])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(e):n.remove&&typeof n.remove=="function"&&n.remove(e),v(t))}}class V extends m.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const e=V.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=e,this.setState({instance:e})}componentDidUpdate(e){this.instance!==null&&V.updateObject(this.instance,e,this.props)}componentWillUnmount(){V.unmountObject(this.instance,this.props)}render(){return null}static mountObject(e,s){const{instanceRef:t,parent:n,_events:i}=p(s),a=l(s,"options",{}),u=l(s,"features",{}),c=l(s,"filter",null),o=l(s,"objects",{}),b=l(s,"clusters",{}),g=new e(a);if(g.add(u||[]),g.setFilter(c),g.objects.options.set(o),g.clusters.options.set(b),Object.keys(i).forEach(j=>_(g,j,i[j])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(g);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount ObjectManager");n.add(g)}return v(null,t,g),g}static updateObject(e,s,t){const{_events:n,instanceRef:i}=p(t),{_events:a,instanceRef:u}=p(s);if(y(t,"options")){const c=l(s,"options"),o=l(t,"options");c!==o&&e.options.set(o)}if(y(t,"objects")){const c=l(s,"objects"),o=l(t,"objects");c!==o&&e.objects.options.set(o)}if(y(t,"clusters")){const c=l(s,"clusters"),o=l(t,"clusters");c!==o&&e.clusters.options.set(o)}if(y(t,"filter")){const c=l(s,"filter"),o=l(t,"filter");c!==o&&e.setFilter(o)}if(y(t,"features")){const c=l(s,"features"),o=l(t,"features");c!==o&&(e.remove(c),e.add(o))}S(e,a,n),v(u,i,e)}static unmountObject(e,s){const{instanceRef:t,parent:n,_events:i}=p(s);e!==null&&(Object.keys(i).forEach(a=>M(e,a,i[a])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(e):n.remove&&typeof n.remove=="function"&&n.remove(e),v(t))}}class I extends m.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:e,ymaps:s,dangerZone:t}=this.props,n=I.mountObject(t&&typeof t.modifyConstructor=="function"?t.modifyConstructor(s[e]):s[e],this.props);this.instance=n,this.setState({instance:n})}componentDidUpdate(e){this.instance!==null&&I.updateObject(this.instance,e,this.props)}componentWillUnmount(){I.unmountObject(this.instance,this.props)}render(){return null}static mountObject(e,s){const{instanceRef:t,parent:n,_events:i}=p(s),a=new e(l(s,"geometry"),l(s,"properties"),l(s,"options"));if(Object.keys(i).forEach(u=>_(a,u,i[u])),n&&n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(a);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${s.name}`);n.add(a)}return v(null,t,a),a}static updateObject(e,s,t){const{_events:n,instanceRef:i}=p(t),{_events:a,instanceRef:u}=p(s);if(y(t,"geometry")){const c=l(s,"geometry",{}),o=l(t,"geometry",{});Array.isArray(o)&&o!==c?Array.isArray(o[0])&&typeof o[1]=="number"?(e.geometry.setCoordinates(o[0]),e.geometry.setRadius(o[1])):e.geometry.setCoordinates(o):typeof o=="object"&&(o.coordinates!==c.coordinates&&e.geometry.setCoordinates(o.coordinates),o.radius!==c.radius&&e.geometry.setRadius(o.radius))}if(y(t,"properties")){const c=l(s,"properties"),o=l(t,"properties");c!==o&&e.properties.set(o)}if(y(t,"options")){const c=l(s,"options"),o=l(t,"options");c!==o&&e.options.set(o)}S(e,a,n),v(u,i,e)}static unmountObject(e,s){const{instanceRef:t,parent:n,_events:i}=p(s);e!==null&&(Object.keys(i).forEach(a=>M(e,a,i[a])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(e):n.remove&&typeof n.remove=="function"&&n.remove(e),v(t))}}var Ve=ee(he(H(r=>m.createElement(I,R({},r,{name:"Circle"})),!0,["Circle"]))),ce=ee(he(H(r=>m.createElement(I,R({},r,{name:"Placemark"})),!0,["Placemark"])));const We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAYCAYAAADOMhxqAAAAAXNSR0IArs4c6QAAAZtJREFUOE+V079rFUEQwPHPXDAqJgpKiCKoKGKKKCL+QGzs5Floq00KKy3F1t5GLGwsBAVt1EZsBP8BGysJIaJFEhAkKCkkQhKTN3L37oJ5+J66sMXuzXd35jt74T9H/E/8Jk4HxRPaE/8IfipvuKzQ0na9gQZorfFa+TVdw2NDRix61KS0hJe4WkLBcorBMrpCKDCP8x1g0JgV05jCePAxOVzD35K7wh2pWC86eJVcwsp29nznobB1c7q5LD6QTzHRbWlVGIis8mhJbyKspiiM5LCvFruBcWGyBspi5qT9xCI5XKfYJTRMS2PNbkeUW7j3Z4DdwZfKz/oYHWL+Ry+g1LpW5d3RuiGu19P4TOytgZ+V+G6yq5I57Ks7vYBdfwOWm1ODmeRgXyDIrI8PppLxfsBJvKtmOCW9x/F+wNvgbNq5g4VZlPNEP6B0OYljeI5DKG/d6Lez3HKApZnaSmmnFdxOzvUAivuifUE6UgcM4QUu9gBiljxT/yxVTMGDNjd6AZPk0d+bOMCVNZ71AEa3NY+sCUii7Euz/gWH83ELgnv1NgAAAABJRU5ErkJggg==",ve=({available:r,className:e,type:s,center:t,points:n,radius:i=0})=>d.jsx(Ke,{query:{lang:"en_US"},children:r?d.jsxs(ye,{className:e,state:{center:[t.latitude,t.longitude],zoom:12.5,controls:["zoomControl","fullscreenControl"]},modules:["control.ZoomControl","control.FullscreenControl"],options:{autoFitToViewport:"always"},children:[d.jsx(ce,{id:"self",geometry:[t.latitude,t.longitude],options:s==="self"?{iconLayout:"default#image",iconImageClipRect:[[0,0],[12,24]],iconImageHref:We,iconImageSize:[12,24],iconImageOffset:[-6,-12]}:{iconColor:"red"}}),n&&(n==null?void 0:n.length)>0&&n.map(a=>d.jsx(ce,{id:"taskNo"+a.taskId,geometry:[a.latitude,a.longitude],onClick:a.onBubbleClick},a.taskId)),i<1/0&&d.jsx(Ve,{geometry:[[t.latitude,t.longitude],i],options:{fillOpacity:.2,fillColor:"#dde6d5",strokeColor:"#a3b899"}})]}):d.jsx(Pe,{visible:!0,className:"w-96 h-48"})}),Ze=Object.freeze(Object.defineProperty({__proto__:null,MapContainerYandex:ve},Symbol.toStringTag,{value:"Module"})),$e=()=>{var n,i,a,u,c;const r=we(),[e,s]=h.useState({available:!1,latLong:{latitude:"",longitude:""},address:{formattedAdress:"",country:"",city:"",street:"",house:""}}),t=()=>{r(Ae(e))};return d.jsxs(pe,{className:"overflow-visible bg-[--tg-theme-bg-color] mt-4",children:[d.jsxs("div",{className:"flex flex-col gap-4 p-4 text-center",children:[d.jsx(ne,{children:"To provide accurate information we need your geolocation."}),d.jsx(Ee,{children:"We cannot automatically determine your location, so please let us know where you are"})]}),d.jsx(De,{geoposition:e,setGeoposition:s}),e.available&&d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(ne,{children:"Chosen geolocation"}),d.jsxs("span",{children:["Address: ",(n=e.address)==null?void 0:n.formattedAdress]}),d.jsxs("span",{children:["Latitude, Longitude:"," ",((i=e.latLong)==null?void 0:i.latitude)+", "+((a=e.latLong)==null?void 0:a.longitude)]}),d.jsx(ve,{available:e.available,type:"self",className:"p-2 w-full h-64 self-center",center:{latitude:Number((u=e.latLong)==null?void 0:u.latitude),longitude:Number((c=e.latLong)==null?void 0:c.longitude)}}),d.jsx(Ne,{onClick:t,children:"Confirm"})]})]})},T=r=>Number(r)*Math.PI/180,Ye=(r,e)=>{if(!r||!e)return 0;const s=6378.137,t=T(e.latitude)-T(r.latitude),n=T(e.longitude)-T(r.longitude),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(T(r.latitude))*Math.cos(T(e.latitude))*Math.sin(n/2)*Math.sin(n/2),a=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),u=s*a;return Number(u.toFixed(3))};export{Le as F,$e as G,ve as M,Ie as S,Te as a,De as b,Ye as c,Ze as d};
