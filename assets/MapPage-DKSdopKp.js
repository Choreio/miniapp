const __vite__fileDeps=["./GeolocationRequest-BFNnbTdg.js","./index-CCnSMLCa.js","./index-DFbujpgL.css","./Input-CH71GcSL.js","./MapContainerLeafets-B2_VKIMi.js","./MapContainerGoogle-C_Rl09S2.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{R as r,_ as n,r as s,j as e}from"./index-CCnSMLCa.js";import{G as g}from"./GeolocationRequest-BFNnbTdg.js";import{M as b,T as _}from"./TaskCard-DzhCk9sN.js";import{M as w}from"./ModalHeader-Dit18kRc.js";import"./Input-CH71GcSL.js";import"./Avatar-Q7kAwF_c.js";import"./FileInput-MbJxmDZT.js";const M=r.lazy(()=>n(()=>import("./GeolocationRequest-BFNnbTdg.js").then(a=>a.M),__vite__mapDeps([0,1,2,3]),import.meta.url).then(({MapContainerYandex:a})=>({default:a}))),N=r.lazy(()=>n(()=>import("./MapContainerLeafets-B2_VKIMi.js"),__vite__mapDeps([4,1,2]),import.meta.url).then(({MapContainerLeafets:a})=>({default:a}))),C=r.lazy(()=>n(()=>import("./MapContainerGoogle-C_Rl09S2.js"),__vite__mapDeps([5,1,2]),import.meta.url).then(({MapContainerGoogle:a})=>({default:a}))),y=({parent:a,tasks:m,position:p})=>{const{available:h,latLong:t,address:o}=p,[f,i]=s.useState(!1),[d,x]=s.useState(),j=()=>{i(!0)},v=()=>{i(!1)};return h?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{children:["Current address: ",o==null?void 0:o.formattedAdress]}),e.jsxs("div",{className:"text-slate-400",children:["You are looking for tasks in"," 'сколько хочешь' ","meters from you"]}),e.jsxs("div",{className:"flex-col hidden",children:[e.jsx("span",{children:"Geolocation is available"}),e.jsxs("span",{children:["Latitude: ",t==null?void 0:t.latitude]}),e.jsxs("span",{children:["Longitude: ",t==null?void 0:t.longitude]})]}),t&&e.jsxs("div",{className:"flex flex-col gap-7",children:[e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:e.jsx(M,{type:"self",className:"p-2 w-full h-[--tg-viewport-width] overflow-hidden z-0",center:{latitude:Number(t.latitude),longitude:Number(t.longitude)},points:m.map(l=>{var u,c;return{taskId:l.id,latitude:Number((u=l.location.latLong)==null?void 0:u.latitude),longitude:Number((c=l.location.latLong)==null?void 0:c.longitude),onBubbleClick:()=>{j(),x(l)}}}),radius:0})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:e.jsx(C,{latitude:Number(t.latitude),longitude:Number(t.longitude),radius:0})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:e.jsx(N,{latitude:Number(t.latitude),longitude:Number(t.longitude),radius:0})}),e.jsx(b,{header:e.jsx(w,{}),className:"h-2/3",open:f,onOpenChange:l=>i(l),children:e.jsx(_,{taskId:d==null?void 0:d.id,mode:a==="Tasks"?"view":"edit",closeModal:v})})]})]}):e.jsx(g,{})};export{y as MapPage};
