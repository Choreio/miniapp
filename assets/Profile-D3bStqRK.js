import{r as o,_ as b,b as C,j as e,T as E,c as w,h as g,d as h,e as j,f as _,t as D,J as M,i as I,k as H,s as L,P as O,l as J}from"./index-BmBRKuTQ.js";import{S as P,_ as T,a as B,C as Z,b as V,c as m,B as R,d as x}from"./Section-DPXuMx4r.js";import{c as F,A as Y}from"./Avatar-D5Lqs1Wp.js";const q=o.forwardRef((s,t)=>{var{mode:n="default",before:r,after:a,className:i,children:c,Component:d}=s,u=b(s,["mode","before","after","className","children","Component"]);const f=C(),p=f==="ios"?P:_;return e.jsxs(E,w(h({ref:t,Component:d||"button",className:j("tgui-a8ce18a8594cea9b",n==="destructive"&&"tgui-6e7ca796043fe6ca",f==="ios"&&"tgui-f464dba82cb8b46e",i)},u),{children:[g(r)&&r,g(c)&&e.jsx(p,{children:c}),g(a)&&a]}))}),z=o.forwardRef((s,t)=>{var{Component:n="span",className:r}=s,a=b(s,["Component","className"]);return e.jsx(n,w(h({},a),{ref:t,className:j("tgui-b9fd8cdf929947df",r)}))}),K=s=>{var t=T({},B(s));return C()==="ios"?e.jsx(Z,h({caps:!0},t)):e.jsx(P,h({level:"2",weight:"2"},t))},W={base:"tgui-8ca550c2fc85eff5",ios:"tgui-7707c5d942b7b9af"},G={default:"tgui-7584398855f80ae6",error:"tgui-41b168516bddcf4b",focused:"tgui-89277928456f0e30"},Q=o.forwardRef((s,t)=>{var{status:n,header:r,before:a,after:i,disabled:c,children:d,className:u,onFocus:f,onBlur:p}=s,y=b(s,["status","header","before","after","disabled","children","className","onFocus","onBlur"]);const v=C(),[S,l]=o.useState(!1),N=n||(S?"focused":"default"),A=F(f,()=>{c||l(!0)}),k=F(p,()=>l(!1));return e.jsxs("div",{ref:t,className:j("tgui-92da7016c7125c02",W[v],G[N],c&&"tgui-4a83fef1f04acb0e"),"aria-disabled":c,children:[e.jsxs("label",w(h({"aria-disabled":c,className:j("tgui-0f5050defacbf813",u),onFocus:A,onBlur:k},y),{children:[g(a)&&e.jsx("div",{className:"tgui-8f04eff653cfa5e5",children:a}),d,g(i)&&e.jsx("div",{className:"tgui-16b3783d394bc7db",children:i})]})),g(r)&&v==="base"&&e.jsx(K,{className:"tgui-9f9a52f695b85cc9",children:r})]})}),X=s=>{var t=T({},B(s));return e.jsx("svg",w(h({width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.286 6.445c-2.342-2.307-6.19-2.307-8.53 0l-5.353 5.272a.99.99 0 0 1-1.388-1.41l5.352-5.272c3.112-3.065 8.196-3.065 11.307 0a7.598 7.598 0 0 1 0 10.885l-7.347 7.238c-2.355 2.32-6.198 2.32-8.553 0a5.762 5.762 0 0 1 0-8.253l7.381-7.27c1.585-1.56 4.141-1.632 5.814-.167a4.06 4.06 0 0 1 .082 6.068l-6.158 5.688a.99.99 0 0 1-1.343-1.454l6.16-5.687c.93-.859.91-2.29-.044-3.127a2.315 2.315 0 0 0-3.122.088l-7.381 7.27a3.784 3.784 0 0 0 0 5.435c1.584 1.56 4.191 1.56 5.775 0l7.348-7.238a5.62 5.62 0 0 0 0-8.066Z",fill:"currentColor"})}))},$=o.forwardRef((s,t)=>{var{label:n="Attach file",className:r,children:a}=s,i=b(s,["label","className","children"]);return e.jsxs("div",{ref:t,className:r,children:[a,e.jsxs(q,{Component:"label",before:e.jsx(X,{}),children:[e.jsx(z,{children:e.jsx("input",h({type:"file",placeholder:n},i))}),n]})]})}),U=s=>{var{type:t="text",header:n,before:r,after:a,status:i,className:c,disabled:d}=s,u=b(s,["type","header","before","after","status","className","disabled"]);const f=C(),p=f==="ios"?_:P;return e.jsx(Q,{header:n,before:r,after:a,status:i,disabled:d,className:j("tgui-d9de1f32aee12a15",f==="ios"&&"tgui-9b2ad13855aef059",c),children:e.jsx(p,h({Component:"input",className:"tgui-c4863cd4c893a047",type:t,disabled:d},u))})};function ee({title:s,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),s?o.createElement("title",{id:t},s):null,o.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),o.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))}const ae=o.forwardRef(ee),se=""+new URL("avatar_placeholder_black-DRyce69K.png",import.meta.url).href,te=""+new URL("avatar_placeholder_white-CbxutB7M.png",import.meta.url).href,ce=()=>{const s=D(),t=M(),n=I(),r=H(L),[a,i]=o.useState({...r});o.useEffect(()=>{i({...r}),console.log("Sync user")},[r]),o.useEffect(()=>{JSON.stringify(r)!==JSON.stringify(a)?f(!0):f(!1)},[a]);const[c,d]=o.useState(!1),[u,f]=o.useState(!1),p=l=>{l.preventDefault(),console.log("Edit mode handler"),d(!0),c&&!u&&d(!1)},y=l=>{l.preventDefault(),console.log("Avatar change");const N=l.currentTarget.files;N&&(a.photoUrl=URL.createObjectURL(N[0]))},v=l=>{l.preventDefault(),console.log("Changes saved"),n(J(a)),d(!1)},S=l=>{l.preventDefault(),console.log("Changes canceled"),i({...r}),d(!1)};return t?e.jsx("div",{className:"md:container md:mx-auto",children:e.jsxs(V,{className:"flex flex-col h-full pt-4 gap-2",header:e.jsx(m,{large:!0,children:e.jsxs("span",{className:"flex gap-2",children:[e.jsx("div",{children:"Your profile"}),e.jsx(ae,{className:"w-6 hover:opacity-90",onClick:p})]})}),footer:c&&e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"bg-green-400",onClick:v,children:"Confirm"}),e.jsx(R,{className:"bg-red-400",onClick:S,children:"Cancel"})]}),children:[u&&e.jsx("div",{className:"bg-red-300 text-center transition-transform transform",children:"You have uncommited changes!!!"}),e.jsxs("div",{children:[e.jsx(m,{children:"Avatar"}),e.jsx(x,{after:c&&e.jsx($,{id:"input_file",onChange:y,accept:"image/png, image/jpeg"}),children:e.jsx(Y,{size:96,src:a.photoUrl&&a.photoUrl.length>0?a.photoUrl:s.isDark?te:se})})]}),e.jsxs("div",{children:[e.jsx(m,{children:"User id"}),e.jsx(x,{children:a.id})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Username"}),c?e.jsx(U,{className:"w-full m-auto",placeholder:"Username",value:a.username,onChange:l=>{i({...a,username:l.currentTarget.value})}}):e.jsx(x,{children:e.jsx("span",{children:a==null?void 0:a.username})})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Full name"}),c?e.jsx(U,{className:"w-full m-auto",placeholder:"Full name",value:a.fullname,onChange:l=>{i({...a,fullname:l.currentTarget.value,firstName:l.currentTarget.value.split(" ")[0],lastName:l.currentTarget.value.split(" ")[1]})}}):e.jsx(x,{children:a.fullname})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Locale"}),e.jsx(x,{children:a==null?void 0:a.languageCode})]})]})}):e.jsx(O,{header:"Oops",description:"Application was launched with missing init data",children:e.jsx("img",{alt:"Telegram sticker",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})})};export{ce as Profile};
