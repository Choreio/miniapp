const __vite__fileDeps=["./GeolocationRequest-y9O9ikFk.js","./index-DYJjYIRZ.js","./index-Di83uqpA.css","./Input-1JVYM8o-.js","./MapContainerLeafets-DtHHkKIt.js","./MapContainerGoogle-BPj89MoI.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{R as r,_ as d,J as p,j as e,P as m,r as s}from"./index-DYJjYIRZ.js";import{G as h}from"./GeolocationRequest-y9O9ikFk.js";import"./Input-1JVYM8o-.js";const x=r.lazy(()=>d(()=>import("./GeolocationRequest-y9O9ikFk.js").then(i=>i.c),__vite__mapDeps([0,1,2,3]),import.meta.url).then(({MapContainerYandex:i})=>({default:i}))),f=r.lazy(()=>d(()=>import("./MapContainerLeafets-DtHHkKIt.js"),__vite__mapDeps([4,1,2]),import.meta.url).then(({MapContainerLeafets:i})=>({default:i}))),g=r.lazy(()=>d(()=>import("./MapContainerGoogle-BPj89MoI.js"),__vite__mapDeps([5,1,2]),import.meta.url).then(({MapContainerGoogle:i})=>({default:i}))),b=({tasks:i,position:u})=>{if(!p())return e.jsx(m,{header:"Oops",description:"Application was launched with missing init data",children:e.jsx("img",{alt:"Telegram sticker",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})});const{available:c,latLong:t,address:a}=u;return c?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{children:["Current address: ",a==null?void 0:a.formattedAdress]}),e.jsxs("div",{className:"text-slate-400",children:["You are looking for tasks in"," 'сколько хочешь' ","meters from you"]}),e.jsxs("div",{className:"flex-col hidden",children:[e.jsx("span",{children:"Geolocation is available"}),e.jsxs("span",{children:["Latitude: ",t==null?void 0:t.latitude]}),e.jsxs("span",{children:["Longitude: ",t==null?void 0:t.longitude]})]}),t&&e.jsxs("div",{className:"flex flex-col gap-7",children:[e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:e.jsx(x,{type:"self",className:"p-2 w-full h-[--tg-viewport-width] overflow-hidden z-0",center:{latitude:Number(t.latitude),longitude:Number(t.longitude)},points:i.map(l=>{var o,n;return{taskId:l.id,latitude:Number((o=l.location.latLong)==null?void 0:o.latitude),longitude:Number((n=l.location.latLong)==null?void 0:n.longitude)}}),radius:0})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:e.jsx(g,{latitude:Number(t.latitude),longitude:Number(t.longitude),radius:0})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:e.jsx(f,{latitude:Number(t.latitude),longitude:Number(t.longitude),radius:0})})]})]}):e.jsx(h,{})};export{b as MapPage};
