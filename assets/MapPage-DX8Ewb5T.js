const __vite__fileDeps=["./MapContainerYandex-B7A3V7d5.js","./index-U8tIbSpk.js","./index-CTJZ8dJx.css","./MapContainerLeafets-DN1SX0pq.js","./MapContainerGoogle-B6qV6Vaq.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{R as l,w as n,J as j,r as s,j as t,P as f}from"./index-U8tIbSpk.js";import{I as v}from"./Input-ZVJasjWp.js";import"./function-ChqatQlo.js";import"./Section-mniEePPg.js";const _=l.lazy(()=>n(()=>import("./MapContainerYandex-B7A3V7d5.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(({MapContainerYandex:a})=>({default:a}))),w=l.lazy(()=>n(()=>import("./MapContainerLeafets-DN1SX0pq.js"),__vite__mapDeps([3,1,2]),import.meta.url).then(({MapContainerLeafets:a})=>({default:a}))),y=l.lazy(()=>n(()=>import("./MapContainerGoogle-B6qV6Vaq.js"),__vite__mapDeps([4,1,2]),import.meta.url).then(({MapContainerGoogle:a})=>({default:a}))),k=({tasks:a,position:d,onBubbleClick:r})=>{const o=j(),{coords:e,isGeolocationAvailable:u,isGeolocationEnabled:c,positionError:p}=d,[i,h]=s.useState({latitude:0,longitude:0,address:void 0}),x=g=>{h({...i,address:g.currentTarget.value}),setTimeout(()=>{const m="https://suggest-maps.yandex.ru/v1/suggest?apikey=&lang=en&text="+i.address+"&print_address=1&attrs=uri";fetch(m)})};return o?t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-slate-400",children:["You are looking for tasks in"," 'сколько хочешь' ","meters from you"]}),!u||!c?t.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[t.jsx("span",{children:"Geolocation is not enabled"}),t.jsx("span",{children:"Please tell us where are you settled"}),t.jsx(v,{value:i.address,placeholder:"Enter your address",onChange:x})]}):p?t.jsx("div",{children:"positionError"}):t.jsxs("div",{className:"flex-col hidden",children:[t.jsx("span",{children:"Geolocation is available"}),t.jsxs("span",{children:["Accuracy: ",e==null?void 0:e.accuracy]}),t.jsxs("span",{children:["Altitude: ",e==null?void 0:e.altitude]}),t.jsxs("span",{children:["Altitude accuracy: ",e==null?void 0:e.altitudeAccuracy]}),t.jsxs("span",{children:["Heading: ",e==null?void 0:e.heading]}),t.jsxs("span",{children:["Latitude: ",e==null?void 0:e.latitude]}),t.jsxs("span",{children:["Longitude: ",e==null?void 0:e.longitude]}),t.jsxs("span",{children:["Speed: ",e==null?void 0:e.speed]})]}),e&&t.jsxs("div",{className:"flex flex-col gap-7",children:[t.jsx(s.Suspense,{fallback:t.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:t.jsx(_,{latitude:e.latitude,longitude:e.longitude,radius:0,tasks:a,onBubbleClick:r})}),t.jsx(s.Suspense,{fallback:t.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:t.jsx(y,{latitude:e.latitude,longitude:e.longitude,radius:0})}),t.jsx(s.Suspense,{fallback:t.jsx("div",{className:"w-full h-[--tg-viewport-width] bg-slate-300 rounded-full overflow-hidden"}),children:t.jsx(w,{latitude:e.latitude,longitude:e.longitude,radius:0})})]})]}):t.jsx(f,{header:"Oops",description:"Application was launched with missing init data",children:t.jsx("img",{alt:"Telegram sticker",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})})};export{k as MapPage};
