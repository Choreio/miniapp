import{r as o,_ as yt,o as Lt,j as Ce,p as gn,l as Nt,m as Ot,n as Rt,q as vn,C as En,N as bn,$ as wn}from"./index-B9LBRVgm.js";const Tt=o.createContext({}),xn={bezeled:"tgui-99a630d0096f2169",gray:"tgui-30bf4976f818e8bf"},Cn=e=>{var{mode:t="plain",className:r,text:n,children:i}=e,s=yt(e,["mode","className","text","children"]);const c=Lt(),{mode:l}=o.useContext(Tt),a=l||t;return Ce.jsxs(gn,Nt(Ot({Component:"button",className:Rt("tgui-c5545e0bc6105e48",c==="ios"&&"tgui-bf32cd3c110b8729",a!=="plain"&&xn[a],r)},s),{children:[i,vn(n)&&Ce.jsx(En,{className:"tgui-c0c9bf3b1a53a8a4",level:"1",weight:"2",children:n})]}))},_n=o.forwardRef((e,t)=>{var{mode:r,className:n,children:i}=e,s=yt(e,["mode","className","children"]);const c=Lt(),l=bn({mode:r});return Ce.jsx("div",Nt(Ot({ref:t,className:Rt("tgui-39e9f02ce4b4b950",c==="ios"&&"tgui-b3d7f75461a64b76",n)},s),{children:Ce.jsx(Tt.Provider,{value:l,children:i})}))});_n.Item=Cn;const kt="carousel",Dt="controller",Pn="navigation",Mn="no-scroll",Ye="portal",In="root",At="toolbar",ft="zoom",ke="loading",De="error",Ae="complete",Sn="placeholder",yn=e=>`active-slide-${e}`,Ln="fullsize",ze="flex_center",Nn="no_scroll",Wt="no_scroll_padding",Zt="slide_wrapper",On="slide_wrapper_interactive",ce="prev",se="next",ht="swipe",ue="close",$t="onPointerDown",Ft="onPointerMove",Vt="onPointerUp",Ut="onPointerLeave",Xt="onPointerCancel",Be="onKeyDown",Rn="onKeyUp",He="onWheel",Tn="Escape",kn="ArrowLeft",Dn="ArrowRight",An="button",Fe="icon",Yt="contain",mt="cover",zt="Unknown action type",Bt="yarl__";function Q(...e){return[...e].filter(Boolean).join(" ")}function O(e){return`${Bt}${e}`}function Y(e){return`--${Bt}${e}`}function ge(e,t){return`${e}${t?`_${t}`:""}`}function Ke(e){return t=>ge(e,t)}function Wn(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function je(...e){return()=>{e.forEach(t=>{t()})}}function ne(e,t,r){return()=>{const n=o.useContext(r);if(!n)throw new Error(`${e} must be used within a ${t}.Provider`);return n}}function Ge(){return typeof window<"u"}function qe(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function de(e){return e.type===void 0||e.type==="image"}function Qe(e,t){return e.imageFit===mt||e.imageFit!==Yt&&t===mt}function Me(e){return typeof e=="string"?Number.parseInt(e,10):e}function _e(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Me(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Zn(e,t){const r=_e(t),n=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*n,0),height:Math.max(e.height-2*n,0)}}function $n(){return(Ge()?window==null?void 0:window.devicePixelRatio:void 0)||1}function Ht(e,t){return t>0?(e%t+t)%t:0}function Kt(e){return e.length>0}function jt(e,t){return e[Ht(t,e.length)]}function Ve(e,t){return Kt(e)?jt(e,t):void 0}function Fn(e){return de(e)?e.src:void 0}function Vn(e,t,r){if(!r)return e;const{buttons:n,...i}=e,s=n.findIndex(l=>l===t),c=o.isValidElement(r)?o.cloneElement(r,{key:t},null):r;if(s>=0){const l=[...n];return l.splice(s,1,c),{buttons:l,...i}}return{buttons:[c,...n],...i}}function Un(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Ue={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[ue]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Yt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function oe(e,t){return{name:e,component:t}}function $(e,t){return{module:e,children:t}}function Gt(e,t,r){return e.module.name===t?r(e):e.children?[$(e.module,e.children.flatMap(n=>{var i;return(i=Gt(n,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ae(e,t,r){return e.flatMap(n=>{var i;return(i=Gt(n,t,r))!==null&&i!==void 0?i:[]})}function Xn(e,t=[],r=[]){let n=e;const i=p=>{const h=[...n];for(;h.length>0;){const m=h.pop();if((m==null?void 0:m.module.name)===p)return!0;m!=null&&m.children&&h.push(...m.children)}return!1},s=(p,h)=>{if(p===""){n=[$(h,n)];return}n=ae(n,p,m=>[$(h,[m])])},c=(p,h)=>{n=ae(n,p,m=>[$(m.module,[$(h,m.children)])])},l=(p,h,m)=>{n=ae(n,p,b=>{var x;return[$(b.module,[...m?[$(h)]:[],...(x=b.children)!==null&&x!==void 0?x:[],...m?[]:[$(h)]])]})},a=(p,h,m)=>{n=ae(n,p,b=>[...m?[$(h)]:[],b,...m?[]:[$(h)]])},u=p=>{c(Dt,p)},d=(p,h)=>{n=ae(n,p,m=>[$(h,m.children)])},f=p=>{n=ae(n,p,h=>h.children)},g=p=>{r.push(p)};return t.forEach(p=>{p({contains:i,addParent:s,append:c,addChild:l,addSibling:a,addModule:u,replace:d,remove:f,augment:g})}),{config:n,augmentation:p=>r.reduce((h,m)=>m(h),p)}}const qt=o.createContext(null),Je=ne("useDocument","DocumentContext",qt);function Yn({nodeRef:e,children:t}){const r=o.useMemo(()=>{const n=s=>{var c;return((c=s||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:n,getOwnerWindow:s=>{var c;return((c=n(s))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return o.createElement(qt.Provider,{value:r},t)}const Qt=o.createContext(null),Ie=ne("useEvents","EventsContext",Qt);function zn({children:e}){const[t]=o.useState({});o.useEffect(()=>()=>{Object.keys(t).forEach(n=>delete t[n])},[t]);const r=o.useMemo(()=>{const n=(c,l)=>{var a;(a=t[c])===null||a===void 0||a.splice(0,t[c].length,...t[c].filter(u=>u!==l))};return{publish:(...[c,l])=>{var a;(a=t[c])===null||a===void 0||a.forEach(u=>u(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>n(c,l)),unsubscribe:n}},[t]);return o.createElement(Qt.Provider,{value:r},e)}const Jt=o.createContext(null),H=ne("useLightboxProps","LightboxPropsContext",Jt);function Bn({children:e,...t}){return o.createElement(Jt.Provider,{value:t},e)}const en=o.createContext(null),re=ne("useLightboxState","LightboxStateContext",en),tn=o.createContext(null),Hn=ne("useLightboxDispatch","LightboxDispatchContext",tn);function Kn(e,t){switch(t.type){case"swipe":{const{slides:r}=e,n=(t==null?void 0:t.increment)||0,i=e.globalIndex+n,s=Ht(i,r.length),c=Ve(r,s),l=n||t.duration?{increment:n,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ve(t.slides,t.index)}:e;default:throw new Error(zt)}}function jn({slides:e,index:t,children:r}){const[n,i]=o.useReducer(Kn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ve(e,t)});o.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=o.useMemo(()=>({...n,state:n,dispatch:i}),[n,i]);return o.createElement(tn.Provider,{value:i},o.createElement(en.Provider,{value:s},r))}const nn=o.createContext(null),Se=ne("useTimeouts","TimeoutsContext",nn);function Gn({children:e}){const[t]=o.useState([]);o.useEffect(()=>()=>{t.forEach(n=>window.clearTimeout(n)),t.splice(0,t.length)},[t]);const r=o.useMemo(()=>{const n=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const a=window.setTimeout(()=>{n(a),c()},l);return t.push(a),a},clearTimeout:c=>{c!==void 0&&(n(c),window.clearTimeout(c))}}},[t]);return o.createElement(nn.Provider,{value:r},e)}const et=o.forwardRef(function({label:t,className:r,icon:n,renderIcon:i,onClick:s,style:c,...l},a){const{styles:u,labels:d}=H(),f=Wn(d,t);return o.createElement("button",{ref:a,type:"button",title:f,"aria-label":f,className:Q(O(An),r),onClick:s,style:{...c,...u.button},...l},i?i():o.createElement(n,{className:O(Fe),style:u.icon}))});function qn(e,t){const r=n=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...n},t);return r.displayName=e,r}function le(e,t){return qn(e,o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Qn=le("Close",o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Jn=le("Previous",o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),eo=le("Next",o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),to=le("Loading",o.createElement(o.Fragment,null,Array.from({length:8}).map((e,t,r)=>o.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),no=le("Error",o.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),J=Ge()?o.useLayoutEffect:o.useEffect;function tt(){const[e,t]=o.useState(!1);return o.useEffect(()=>{var r,n;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=c=>t(c.matches);return(n=i==null?void 0:i.addEventListener)===null||n===void 0||n.call(i,"change",s),()=>{var c;return(c=i==null?void 0:i.removeEventListener)===null||c===void 0?void 0:c.call(i,"change",s)}},[]),e}function oo(e){let t=0,r=0,n=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const c=s[1].split(",").map(Me);c.length===6?(t=c[4],r=c[5]):c.length===16&&(t=c[12],r=c[13],n=c[14])}return{x:t,y:r,z:n}}function pt(e,t){const r=o.useRef(),n=o.useRef(),i=tt();return J(()=>{var s,c,l;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:u,easing:d,onfinish:f}=t(r.current,e.current.getBoundingClientRect(),oo(e.current))||{};if(a&&u){(s=n.current)===null||s===void 0||s.cancel(),n.current=void 0;try{n.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,a,{duration:u,easing:d})}catch(g){console.error(g)}n.current&&(n.current.onfinish=()=>{n.current=void 0,f==null||f()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=n.current)===null||s===void 0?void 0:s.playState)==="running"}}}function on(){const e=o.useRef(null),t=o.useRef(),[r,n]=o.useState();return{setContainerRef:o.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(s){const l=window.getComputedStyle(s),a=u=>parseFloat(u)||0;n({width:Math.round(s.clientWidth-a(l.paddingLeft)-a(l.paddingRight)),height:Math.round(s.clientHeight-a(l.paddingTop)-a(l.paddingBottom))})}else n(void 0)};c(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function xe(){const e=o.useRef(),{setTimeout:t,clearTimeout:r}=Se();return o.useCallback((n,i)=>{r(e.current),e.current=t(n,i>0?i:0)},[t,r])}function R(e){const t=o.useRef(e);return J(()=>{t.current=e}),o.useCallback((...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function gt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Xe(e,t){return o.useMemo(()=>e==null&&t==null?null:r=>{gt(e,r),gt(t,r)},[e,t])}function ro(e,t=!1){const r=o.useRef();J(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const n=o.useCallback(()=>{r.current=!0},[]),i=o.useCallback(()=>{r.current=!1},[]);return{onFocus:n,onBlur:i}}function nt(){const[e,t]=o.useState(!1);return J(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function io(){const[e]=o.useState({}),t=o.useCallback((i,s)=>{var c;(c=e[i])===null||c===void 0||c.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),r=o.useMemo(()=>({onPointerDown:i=>t($t,i),onPointerMove:i=>t(Ft,i),onPointerUp:i=>t(Vt,i),onPointerLeave:i=>t(Ut,i),onPointerCancel:i=>t(Xt,i),onKeyDown:i=>t(Be,i),onKeyUp:i=>t(Rn,i),onWheel:i=>t(He,i)}),[t]),n=o.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const c=e[i];c&&c.splice(0,c.length,...c.filter(l=>l!==s))}),[e]);return{registerSensors:r,subscribeSensors:n}}function vt(e,t){const r=o.useRef(0),n=xe(),i=R((...s)=>{r.current=Date.now(),e(s)});return o.useCallback((...s)=>{n(()=>{i(s)},t-(Date.now()-r.current))},[t,i,n])}const We=Ke("slide"),Ze=Ke("slide_image");function Pe({slide:e,offset:t,render:r,rect:n,imageFit:i,imageProps:s,onClick:c,onLoad:l,onError:a,style:u}){var d,f,g,p,h,m,b;const[x,P]=o.useState(ke),{publish:L}=Ie(),{setTimeout:Z}=Se(),_=o.useRef(null);o.useEffect(()=>{t===0&&L(yn(x))},[t,x,L]);const M=R(y=>{("decode"in y?y.decode():Promise.resolve()).catch(()=>{}).then(()=>{y.parentNode&&(P(Ae),Z(()=>{l==null||l(y)},0))})}),S=o.useCallback(y=>{_.current=y,y!=null&&y.complete&&M(y)},[M]),T=o.useCallback(y=>{M(y.currentTarget)},[M]),w=R(()=>{P(De),a==null||a()}),C=Qe(e,i),N=(y,z)=>Number.isFinite(y)?y:z,U=N(Math.max(...((f=(d=e.srcSet)===null||d===void 0?void 0:d.map(y=>y.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((g=_.current)===null||g===void 0?void 0:g.naturalWidth)||0),A=N(Math.max(...((h=(p=e.srcSet)===null||p===void 0?void 0:p.map(y=>y.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((m=_.current)===null||m===void 0?void 0:m.naturalHeight)||0),E=U&&A?{maxWidth:`min(${U}px, 100%)`,maxHeight:`min(${A}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},I=(b=e.srcSet)===null||b===void 0?void 0:b.sort((y,z)=>y.width-z.width).map(y=>`${y.src} ${y.width}w`).join(", "),W=()=>n&&!C&&e.width&&e.height?n.height/e.height*e.width:Number.MAX_VALUE,k=I&&n&&Ge()?`${Math.round(Math.min(W(),n.width))}px`:void 0,{style:F,className:K,...ee}=s||{};return o.createElement(o.Fragment,null,o.createElement("img",{ref:S,onLoad:T,onError:w,onClick:c,draggable:!1,className:Q(O(Ze()),C&&O(Ze("cover")),x!==Ae&&O(Ze("loading")),K),style:{...E,...u,...F},...ee,alt:e.alt,sizes:k,srcSet:I,src:e.src}),x!==Ae&&o.createElement("div",{className:O(We(Sn))},x===ke&&(r!=null&&r.iconLoading?r.iconLoading():o.createElement(to,{className:Q(O(Fe),O(We(ke)))})),x===De&&(r!=null&&r.iconError?r.iconError():o.createElement(no,{className:Q(O(Fe),O(We(De)))}))))}const co=o.forwardRef(function({className:t,children:r,...n},i){const s=o.useRef(null);return o.createElement(Yn,{nodeRef:s},o.createElement("div",{ref:Xe(i,s),className:Q(O("root"),t),...n},r))});var V;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(V||(V={}));function rn(e,t,r,n,i){o.useEffect(()=>i?()=>{}:je(e($t,t),e(Ft,r),e(Vt,n),e(Ut,n),e(Xt,n)),[e,t,r,n,i])}var j;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(j||(j={}));const $e=30;function so(e,t,r,n,i,s,c,l,a,u,d,f,g,p){const h=o.useRef(0),m=o.useRef([]),b=o.useRef(),x=o.useRef(0),P=o.useRef(j.NONE),L=o.useCallback(w=>{b.current===w.pointerId&&(b.current=void 0,P.current=j.NONE);const C=m.current;C.splice(0,C.length,...C.filter(N=>N.pointerId!==w.pointerId))},[]),Z=o.useCallback(w=>{L(w),w.persist(),m.current.push(w)},[L]),_=R(w=>{Z(w)}),M=(w,C)=>u&&w>C||a&&w<-C,S=R(w=>{if(m.current.find(C=>C.pointerId===w.pointerId)&&b.current===w.pointerId){const C=Date.now()-x.current,N=h.current;P.current===j.SWIPE?Math.abs(N)>.3*r||Math.abs(N)>5&&C<n?c(N,C):l(N):P.current===j.PULL&&(M(N,2*$e)?g(N,C):p(N)),h.current=0,P.current=j.NONE}L(w)}),T=R(w=>{const C=m.current.find(N=>N.pointerId===w.pointerId);if(C){const N=b.current===w.pointerId;if(w.buttons===0){N&&h.current!==0?S(w):L(C);return}const U=w.clientX-C.clientX,A=w.clientY-C.clientY;if(b.current===void 0){const E=I=>{Z(w),b.current=w.pointerId,x.current=Date.now(),P.current=I};Math.abs(U)>Math.abs(A)&&Math.abs(U)>$e&&t(U)?(E(j.SWIPE),i()):Math.abs(A)>Math.abs(U)&&M(A,$e)&&(E(j.PULL),d())}else N&&(P.current===j.SWIPE?(h.current=U,s(U)):P.current===j.PULL&&(h.current=A,f(A)))}});rn(e,_,T,S)}function lo({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=o.useRef(null),n=R(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return o.useCallback(i=>{var s;i?i.addEventListener("wheel",n,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",n),r.current=i},[n])}function ao(e,t,r,n,i,s,c,l,a){const u=o.useRef(0),d=o.useRef(0),f=o.useRef(),g=o.useRef(),p=o.useRef(0),h=o.useRef(0),{setTimeout:m,clearTimeout:b}=Se(),x=o.useCallback(()=>{f.current&&(b(f.current),f.current=void 0)},[b]),P=o.useCallback(()=>{g.current&&(b(g.current),g.current=void 0)},[b]),L=R(()=>{e!==V.SWIPE&&(u.current=0,h.current=0,x(),P())});o.useEffect(L,[e,L]);const Z=R(M=>{g.current=void 0,u.current===M&&a(u.current)}),_=R(M=>{if(!M.ctrlKey&&!(Math.abs(M.deltaY)>Math.abs(M.deltaX)))if(e===V.NONE){if(Math.abs(M.deltaX)<=1.2*Math.abs(p.current)){p.current=M.deltaX;return}if(!r(-M.deltaX))return;if(d.current+=M.deltaX,x(),Math.abs(d.current)>30)d.current=0,p.current=0,h.current=Date.now(),s();else{const S=d.current;f.current=m(()=>{f.current=void 0,S===d.current&&(d.current=0)},i)}}else if(e===V.SWIPE){let S=u.current-M.deltaX;if(S=Math.min(Math.abs(S),n)*Math.sign(S),u.current=S,c(S),P(),Math.abs(S)>.2*n){p.current=M.deltaX,l(S,Date.now()-h.current);return}g.current=m(()=>Z(S),2*i)}else p.current=M.deltaX});o.useEffect(()=>t(He,_),[t,_])}const Et=Ke("container"),cn=o.createContext(null),te=ne("useController","ControllerContext",cn);function uo({children:e,...t}){var r;const{carousel:n,animation:i,controller:s,on:c,styles:l,render:a}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:g}=s,[p,h]=o.useState(),m=re(),b=Hn(),[x,P]=o.useState(V.NONE),L=o.useRef(0),Z=o.useRef(0),_=o.useRef(1),{registerSensors:M,subscribeSensors:S}=io(),{subscribe:T,publish:w}=Ie(),C=xe(),N=xe(),U=xe(),{containerRef:A,setContainerRef:E,containerRect:I}=on(),W=Xe(lo({preventDefaultWheelX:f,preventDefaultWheelY:g}),E),k=o.useRef(null),F=Xe(k,void 0),{getOwnerDocument:K}=Je(),ee=nt(),y=v=>(ee?-1:1)*(typeof v=="number"?v:1),z=R(()=>{var v;return(v=A.current)===null||v===void 0?void 0:v.focus()}),rt=R(()=>t),it=R(()=>m),ve=o.useCallback(v=>w(ce,v),[w]),Ee=o.useCallback(v=>w(se,v),[w]),fe=o.useCallback(()=>w(ue),[w]),Le=v=>!(n.finite&&(y(v)>0&&m.currentIndex===0||y(v)<0&&m.currentIndex===m.slides.length-1)),ct=v=>{var D;L.current=v,(D=A.current)===null||D===void 0||D.style.setProperty(Y("swipe_offset"),`${Math.round(v)}px`)},Ne=v=>{var D,X;Z.current=v,_.current=(()=>{const me=d&&v>0?v:u&&v<0?-v:0;return Math.min(Math.max(qe(1-me/60*(1-.5),2),.5),1)})(),(D=A.current)===null||D===void 0||D.style.setProperty(Y("pull_offset"),`${Math.round(v)}px`),(X=A.current)===null||X===void 0||X.style.setProperty(Y("pull_opacity"),`${_.current}`)},{prepareAnimation:dn}=pt(k,(v,D,X)=>{if(k.current&&I)return{keyframes:[{transform:`translate(0, ${v.rect.y-D.y+X.y}px)`,opacity:v.opacity},{transform:"translate(0, 0)",opacity:1}],duration:v.duration,easing:i.easing.fade}}),st=(v,D)=>{if(u||d){Ne(v);let X=0;k.current&&(X=i.fade*(D?2:1),dn({rect:k.current.getBoundingClientRect(),opacity:_.current,duration:X})),U(()=>{Ne(0),P(V.NONE)},X),P(V.ANIMATION),D||fe()}},{prepareAnimation:fn,isAnimationPlaying:hn}=pt(k,(v,D,X)=>{var G;if(k.current&&I&&(!((G=m.animation)===null||G===void 0)&&G.duration)){const B=_e(n.spacing),me=(B.percent?B.percent*I.width/100:B.pixel)||0;return{keyframes:[{transform:`translate(${y(m.globalIndex-v.index)*(I.width+me)+v.rect.x-D.x+X.x}px, 0)`},{transform:"translate(0, 0)"}],duration:m.animation.duration,easing:m.animation.easing}}}),he=R(v=>{var D,X;const G=v.offset||0,B=G?i.swipe:(D=i.navigation)!==null&&D!==void 0?D:i.swipe,me=!G&&!hn()?i.easing.navigation:i.easing.swipe;let{direction:be}=v;const we=(X=v.count)!==null&&X!==void 0?X:1;let Oe=V.ANIMATION,q=B*we;if(!be){const pe=I==null?void 0:I.width,dt=v.duration||0,Te=pe?B/pe*Math.abs(G):B;we!==0?(dt<Te?q=q/Te*Math.max(dt,Te/5):pe&&(q=B/pe*(pe-Math.abs(G))),be=y(G)>0?ce:se):q=B/2}let Re=0;be===ce?Le(y(1))?Re=-we:(Oe=V.NONE,q=B):be===se&&(Le(y(-1))?Re=we:(Oe=V.NONE,q=B)),q=Math.round(q),N(()=>{ct(0),P(V.NONE)},q),k.current&&fn({rect:k.current.getBoundingClientRect(),index:m.globalIndex}),P(Oe),w(ht,{type:"swipe",increment:Re,duration:q,easing:me})});o.useEffect(()=>{var v,D;!((v=m.animation)===null||v===void 0)&&v.increment&&(!((D=m.animation)===null||D===void 0)&&D.duration)&&C(()=>b({type:"swipe",increment:0}),m.animation.duration)},[m.animation,b,C]);const lt=[S,Le,(I==null?void 0:I.width)||0,i.swipe,()=>P(V.SWIPE),v=>ct(v),(v,D)=>he({offset:v,duration:D,count:1}),v=>he({offset:v,count:0})],mn=[()=>{d&&P(V.PULL)},v=>Ne(v),v=>st(v),v=>st(v,!0)];so(...lt,u,d,...mn),ao(x,...lt);const at=R(()=>{s.focus&&K().querySelector(`.${O(Ye)} .${O(Et())}`)&&z()});o.useEffect(at,[at]);const ut=R(()=>{var v;(v=c.view)===null||v===void 0||v.call(c,{index:m.currentIndex})});o.useEffect(ut,[m.globalIndex,ut]),o.useEffect(()=>je(T(ce,v=>he({direction:ce,...v})),T(se,v=>he({direction:se,...v})),T(ht,v=>b(v))),[T,he,b]);const pn=o.useMemo(()=>({prev:ve,next:Ee,close:fe,focus:z,slideRect:I?Zn(I,n.padding):{width:0,height:0},containerRect:I||{width:0,height:0},subscribeSensors:S,containerRef:A,setCarouselRef:F,toolbarWidth:p,setToolbarWidth:h}),[ve,Ee,fe,z,S,I,A,F,p,h,n.padding]);return o.useImperativeHandle(s.ref,()=>({prev:ve,next:Ee,close:fe,focus:z,getLightboxProps:rt,getLightboxState:it}),[ve,Ee,fe,z,rt,it]),o.createElement("div",{ref:W,className:Q(O(Et()),O(ze)),style:{...x===V.SWIPE?{[Y("swipe_offset")]:`${Math.round(L.current)}px`}:null,...x===V.PULL?{[Y("pull_offset")]:`${Math.round(Z.current)}px`,[Y("pull_opacity")]:`${_.current}`}:null,...s.touchAction!=="none"?{[Y("controller_touch_action")]:s.touchAction}:null,...l.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...M},I&&o.createElement(cn.Provider,{value:pn},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const fo=oe(Dt,uo);function ie(e){return ge(kt,e)}function bt(e){return ge("slide",e)}function ho({slide:e,offset:t}){const r=o.useRef(null),{currentIndex:n}=re(),{slideRect:i,close:s}=te(),{render:c,carousel:{imageFit:l,imageProps:a},on:{click:u},controller:{closeOnBackdropClick:d},styles:{slide:f}}=H(),g=()=>{var h,m,b,x;let P=(h=c.slide)===null||h===void 0?void 0:h.call(c,{slide:e,offset:t,rect:i});return!P&&de(e)&&(P=o.createElement(Pe,{slide:e,offset:t,render:c,rect:i,imageFit:l,imageProps:a,onClick:t===0?()=>u==null?void 0:u({index:n}):void 0})),P?o.createElement(o.Fragment,null,(m=c.slideHeader)===null||m===void 0?void 0:m.call(c,{slide:e}),((b=c.slideContainer)!==null&&b!==void 0?b:({children:L})=>L)({slide:e,children:P}),(x=c.slideFooter)===null||x===void 0?void 0:x.call(c,{slide:e})):null},p=h=>{const m=r.current,b=h.target instanceof HTMLElement?h.target:void 0;d&&b&&m&&(b===m||Array.from(m.children).find(x=>x===b)&&b.classList.contains(O(Zt)))&&s()};return o.createElement("div",{ref:r,className:Q(O(bt()),t===0&&O(bt("current")),O(ze)),"aria-hidden":t!==0,onClick:p,style:f},g())}function mo(){const e=H().styles.slide;return o.createElement("div",{className:O("slide"),style:e})}function po({carousel:e}){const{slides:t,currentIndex:r,globalIndex:n}=re(),{setCarouselRef:i}=te(),s=_e(e.spacing),c=_e(e.padding),l=Un(e,t,1),a=[];if(Kt(t))for(let u=r-l;u<=r+l;u+=1){const d=jt(t,u),f=n-r+u,g=e.finite&&(u<0||u>t.length-1);a.push(g?{key:f}:{key:[`${f}`,Fn(d)].filter(Boolean).join("|"),offset:u-r,slide:d})}return o.createElement("div",{ref:i,className:Q(O(ie()),a.length>0&&O(ie("with_slides"))),style:{[`${Y(ie("slides_count"))}`]:a.length,[`${Y(ie("spacing_px"))}`]:s.pixel||0,[`${Y(ie("spacing_percent"))}`]:s.percent||0,[`${Y(ie("padding_px"))}`]:c.pixel||0,[`${Y(ie("padding_percent"))}`]:c.percent||0}},a.map(({key:u,slide:d,offset:f})=>d?o.createElement(ho,{key:u,slide:d,offset:f}):o.createElement(mo,{key:u})))}const go=oe(kt,po);function sn(){const{carousel:e}=H(),{slides:t,currentIndex:r}=re(),n=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:n,nextDisabled:i}}function vo(e){var t;const r=nt(),{publish:n}=Ie(),{animation:i}=H(),{prevDisabled:s,nextDisabled:c}=sn(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=vt(()=>n(ce),l),u=vt(()=>n(se),l),d=R(f=>{switch(f.key){case Tn:n(ue);break;case kn:(r?c:s)||(r?u:a)();break;case Dn:(r?s:c)||(r?a:u)();break}});o.useEffect(()=>e(Be,d),[e,d])}function wt({label:e,icon:t,renderIcon:r,action:n,onClick:i,disabled:s,style:c}){return o.createElement(et,{label:e,icon:t,renderIcon:r,className:O(`navigation_${n}`),disabled:s,onClick:i,style:c,...ro(te().focus,s)})}function Eo({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:n},styles:i}){const{prev:s,next:c,subscribeSensors:l}=te(),{prevDisabled:a,nextDisabled:u}=sn();return vo(l),o.createElement(o.Fragment,null,e?e():o.createElement(wt,{label:"Previous",action:ce,icon:Jn,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:s}),t?t():o.createElement(wt,{label:"Next",action:se,icon:eo,renderIcon:n,style:i.navigationNext,disabled:u,onClick:c}))}const bo=oe(Pn,Eo),xt=O(Nn),wo=O(Wt);function xo(e){return"style"in e}function Ct(e,t,r){const n=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?n.paddingLeft:n.paddingRight,c=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Me(s)||0)+t}px`),()=>{c?e.style.setProperty(i,c):e.style.removeProperty(i)}}function Co({noScroll:{disabled:e},children:t}){const r=nt(),{getOwnerDocument:n,getOwnerWindow:i}=Je();return o.useEffect(()=>{if(e)return()=>{};const s=[],c=i(),{body:l,documentElement:a}=n(),u=Math.round(c.innerWidth-a.clientWidth);if(u>0){s.push(Ct(l,u,r));const d=l.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const g=d[f];xo(g)&&c.getComputedStyle(g).getPropertyValue("position")==="fixed"&&!g.classList.contains(wo)&&s.push(Ct(g,u,r))}}return l.classList.add(xt),()=>{l.classList.remove(xt),s.forEach(d=>d())}},[r,e,n,i]),o.createElement(o.Fragment,null,t)}const _o=oe(Mn,Co);function _t(e){return ge(Ye,e)}function Pt(e,t,r){const n=e.getAttribute(t);return e.setAttribute(t,r),()=>{n?e.setAttribute(t,n):e.removeAttribute(t)}}function Po({children:e,animation:t,styles:r,className:n,on:i,portal:s,close:c}){const[l,a]=o.useState(!1),[u,d]=o.useState(!1),f=o.useRef([]),g=o.useRef(null),{setTimeout:p}=Se(),{subscribe:h}=Ie(),b=tt()?0:t.fade;o.useEffect(()=>(a(!0),()=>{a(!1),d(!1)}),[]);const x=R(()=>{f.current.forEach(_=>_()),f.current=[]}),P=R(()=>{var _;d(!1),x(),(_=i.exiting)===null||_===void 0||_.call(i),p(()=>{var M;(M=i.exited)===null||M===void 0||M.call(i),c()},b)});o.useEffect(()=>h(ue,P),[h,P]);const L=R(_=>{var M,S,T;_.scrollTop,d(!0),(M=i.entering)===null||M===void 0||M.call(i);const w=(T=(S=_.parentNode)===null||S===void 0?void 0:S.children)!==null&&T!==void 0?T:[];for(let C=0;C<w.length;C+=1){const N=w[C];["TEMPLATE","SCRIPT","STYLE"].indexOf(N.tagName)===-1&&N!==_&&(f.current.push(Pt(N,"inert","true")),f.current.push(Pt(N,"aria-hidden","true")))}f.current.push(()=>{var C,N;(N=(C=g.current)===null||C===void 0?void 0:C.focus)===null||N===void 0||N.call(C)}),p(()=>{var C;(C=i.entered)===null||C===void 0||C.call(i)},b)}),Z=o.useCallback(_=>{_?L(_):x()},[L,x]);return l?wn.createPortal(o.createElement(co,{ref:Z,className:Q(n,O(_t()),O(Wt),u&&O(_t("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Ue.animation.fade?{[Y("fade_animation_duration")]:`${b}ms`}:null,...t.easing.fade!==Ue.animation.easing.fade?{[Y("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:_=>{g.current||(g.current=_.relatedTarget)}},e),s.root||document.body):null}const Mo=oe(Ye,Po);function Io({children:e}){return o.createElement(o.Fragment,null,e)}const So=oe(In,Io);function yo(e){return ge(At,e)}function Lo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:n}){const{close:i,setToolbarWidth:s}=te(),{setContainerRef:c,containerRect:l}=on();J(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const a=()=>t?t():o.createElement(et,{key:ue,label:"Close",icon:Qn,renderIcon:r,onClick:i});return o.createElement("div",{ref:c,style:n.toolbar,className:O(yo())},e==null?void 0:e.map(u=>u===ue?a():u))}const No=oe(At,Lo);function ln(e,t){var r;return o.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(n=>ln(n,t)))}function Oo(e,t={}){const{easing:r,...n}=e,{easing:i,...s}=t;return{easing:{...r,...i},...n,...s}}function Ko({carousel:e,animation:t,render:r,toolbar:n,controller:i,noScroll:s,on:c,plugins:l,slides:a,index:u,...d}){const{animation:f,carousel:g,render:p,toolbar:h,controller:m,noScroll:b,on:x,slides:P,index:L,plugins:Z,..._}=Ue,{config:M,augmentation:S}=Xn([$(Mo,[$(_o,[$(fo,[$(go),$(No),$(bo)])])])],l||Z),T=S({animation:Oo(f,t),carousel:{...g,...e},render:{...p,...r},toolbar:{...h,...n},controller:{...m,...i},noScroll:{...b,...s},on:{...x,...c},..._,...d});return T.open?o.createElement(Bn,{...T},o.createElement(jn,{slides:a||P,index:Me(u||L)},o.createElement(Gn,null,o.createElement(zn,null,ln($(So,M),T))))):null}const Ro={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},an=e=>({...Ro,...e});function To(e,t,r,n){const i=o.useRef(),s=o.useRef(),{zoom:c}=H().animation,l=tt(),a=R(()=>{var u,d,f;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,s.current&&(n!=null&&n.current)){try{i.current=(f=(d=n.current).animate)===null||f===void 0?void 0:f.call(d,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:l?0:c??500,easing:i.current?"ease-out":"ease-in-out"})}catch(g){console.error(g)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return J(a,[e,t,r,a]),o.useCallback(()=>{s.current=n!=null&&n.current?window.getComputedStyle(n.current).transform:void 0},[n])}function ko(e,t){const{on:r}=H(),n=R(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});o.useEffect(n,[e,n])}function ye(){const{zoom:e}=H();return an(e)}function Do(e,t){var r,n;let i={width:0,height:0},s={width:0,height:0};const{currentSlide:c}=re(),{imageFit:l}=H().carousel,{maxZoomPixelRatio:a}=ye();if(e&&c){const d={...c,...t};if(de(d)){const f=Qe(d,l),g=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(h=>h.width))||[]).concat(d.width?[d.width]:[])),p=Math.max(...(((n=d.srcSet)===null||n===void 0?void 0:n.map(h=>h.height))||[]).concat(d.height?[d.height]:[]));g>0&&p>0&&e.width>0&&e.height>0&&(s=f?{width:Math.round(Math.min(g,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*g))}:{width:g,height:p},s={width:s.width*a,height:s.height*a},i=f?{width:Math.min(e.width,s.width,g),height:Math.min(e.height,s.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*g,g)),height:Math.round(Math.min(e.height,e.width/g*p,p))})}}const u=i.width?Math.max(qe(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function Mt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function It(e,t,r=100,n=2){return e*Math.min(1+Math.abs(t/r),n)**Math.sign(t)}function Ao(e,t,r,n,i,s){const c=o.useRef([]),l=o.useRef(0),a=o.useRef(),{globalIndex:u}=re(),{getOwnerWindow:d}=Je(),{containerRef:f,subscribeSensors:g}=te(),{keyboardMoveDistance:p,zoomInMultiplier:h,wheelZoomDistanceFactor:m,scrollToZoom:b,doubleTapDelay:x,doubleClickDelay:P,doubleClickMaxStops:L,pinchZoomDistanceFactor:Z}=ye(),_=o.useCallback(E=>{if(f.current){const{pageX:I,pageY:W}=E,{scrollX:k,scrollY:F}=d(),{left:K,top:ee,width:y,height:z}=f.current.getBoundingClientRect();return[I-K-k-y/2,W-ee-F-z/2]}return[]},[f,d]),M=R(E=>{const I=()=>{E.preventDefault(),E.stopPropagation()};if(e>1){const F=(K,ee)=>{I(),i(K,ee)};E.key==="ArrowDown"?F(0,p):E.key==="ArrowUp"?F(0,-p):E.key==="ArrowLeft"?F(-p,0):E.key==="ArrowRight"&&F(p,0)}const W=F=>{I(),n(F)},k=()=>E.getModifierState("Meta");E.key==="+"||E.key==="="&&k()?W(e*h):E.key==="-"||E.key==="_"&&k()?W(e/h):E.key==="0"&&k()&&W(1)}),S=R(E=>{if((E.ctrlKey||b)&&Math.abs(E.deltaY)>Math.abs(E.deltaX)){E.stopPropagation(),n(It(e,-E.deltaY,m),!0,..._(E));return}e>1&&(E.stopPropagation(),b||i(E.deltaX,E.deltaY))}),T=o.useCallback(E=>{const I=c.current;I.splice(0,I.length,...I.filter(W=>W.pointerId!==E.pointerId))},[]),w=o.useCallback(E=>{T(E),E.persist(),c.current.push(E)},[T]),C=R(E=>{var I;const W=c.current;if(E.pointerType==="mouse"&&E.buttons>1||!(!((I=s==null?void 0:s.current)===null||I===void 0)&&I.contains(E.target)))return;e>1&&E.stopPropagation();const{timeStamp:k}=E;W.length===0&&k-l.current<(E.pointerType==="touch"?x:P)?(l.current=0,n(e!==t?e*Math.max(t**(1/L),h):1,!1,..._(E))):l.current=k,w(E),W.length===2&&(a.current=Mt(W[0],W[1]))}),N=R(E=>{const I=c.current,W=I.find(k=>k.pointerId===E.pointerId);if(I.length===2&&a.current){E.stopPropagation(),w(E);const k=Mt(I[0],I[1]),F=k-a.current;Math.abs(F)>0&&(n(It(e,F,Z),!0,...I.map(K=>_(K)).reduce((K,ee)=>ee.map((y,z)=>K[z]+y/2))),a.current=k);return}e>1&&(E.stopPropagation(),W&&(I.length===1&&i((W.clientX-E.clientX)/e,(W.clientY-E.clientY)/e),w(E)))}),U=o.useCallback(E=>{const I=c.current;I.length===2&&I.find(W=>W.pointerId===E.pointerId)&&(a.current=void 0),T(E)},[T]),A=o.useCallback(()=>{const E=c.current;E.splice(0,E.length),l.current=0,a.current=void 0},[]);rn(g,C,N,U,r),o.useEffect(A,[u,A]),o.useEffect(()=>r?()=>{}:je(A,g(Be,M),g(He,S)),[r,g,A,M,S])}function Wo(e,t,r){const[n,i]=o.useState(1),[s,c]=o.useState(0),[l,a]=o.useState(0),u=To(n,s,l,r),{currentSlide:d,globalIndex:f}=re(),{containerRect:g,slideRect:p}=te(),{zoomInMultiplier:h}=ye(),m=d&&de(d)?d.src:void 0,b=!m||!(r!=null&&r.current);J(()=>{i(1),c(0),a(0)},[f,m]);const x=o.useCallback((M,S,T)=>{const w=T||n,C=s-(M||0),N=l-(S||0),U=(e.width*w-p.width)/2/w,A=(e.height*w-p.height)/2/w;c(Math.min(Math.abs(C),Math.max(U,0))*Math.sign(C)),a(Math.min(Math.abs(N),Math.max(A,0))*Math.sign(N))},[n,s,l,p,e.width,e.height]),P=o.useCallback((M,S,T,w)=>{const C=qe(Math.min(Math.max(M+.001<t?M:t,1),t),5);C!==n&&(S||u(),x(T?T*(1/n-1/C):0,w?w*(1/n-1/C):0,C),i(C))},[n,t,x,u]),L=R(()=>{n>1&&(n>t&&P(t,!0),x())});J(L,[g.width,g.height,L]);const Z=o.useCallback(()=>P(n*h),[n,h,P]),_=o.useCallback(()=>P(n/h),[n,h,P]);return{zoom:n,offsetX:s,offsetY:l,disabled:b,changeOffsets:x,changeZoom:P,zoomIn:Z,zoomOut:_}}const un=o.createContext(null),ot=ne("useZoom","ZoomControllerContext",un);function Zo({children:e}){const[t,r]=o.useState(),{slideRect:n}=te(),{imageRect:i,maxZoom:s}=Do(n,t==null?void 0:t.imageDimensions),{zoom:c,offsetX:l,offsetY:a,disabled:u,changeZoom:d,changeOffsets:f,zoomIn:g,zoomOut:p}=Wo(i,s,t==null?void 0:t.zoomWrapperRef);ko(c,u),Ao(c,s,u,d,f,t==null?void 0:t.zoomWrapperRef);const h=o.useMemo(()=>({zoom:c,maxZoom:s,offsetX:l,offsetY:a,disabled:u,zoomIn:g,zoomOut:p,changeZoom:d}),[c,s,l,a,u,g,p,d]);o.useImperativeHandle(ye().ref,()=>h,[h]);const m=o.useMemo(()=>({...h,setZoomWrapper:r}),[h,r]);return o.createElement(un.Provider,{value:m},e)}const $o=le("ZoomIn",o.createElement(o.Fragment,null,o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Fo=le("ZoomOut",o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),St=o.forwardRef(function({zoomIn:t,onLoseFocus:r},n){const i=o.useRef(!1),s=o.useRef(!1),{zoom:c,maxZoom:l,zoomIn:a,zoomOut:u,disabled:d}=ot(),{render:f}=H(),g=d||(t?c>=l:c<=1);return o.useEffect(()=>{g&&i.current&&s.current&&r(),g||(i.current=!0)},[g,r]),o.createElement(et,{ref:n,disabled:g,label:t?"Zoom in":"Zoom out",icon:t?$o:Fo,renderIcon:t?f.iconZoomIn:f.iconZoomOut,onClick:t?a:u,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Vo(){const e=o.useRef(null),t=o.useRef(null),{focus:r}=te(),n=o.useCallback(c=>{var l,a;!((l=c.current)===null||l===void 0)&&l.disabled?r():(a=c.current)===null||a===void 0||a.focus()},[r]),i=o.useCallback(()=>n(e),[n]),s=o.useCallback(()=>n(t),[n]);return o.createElement(o.Fragment,null,o.createElement(St,{zoomIn:!0,ref:e,onLoseFocus:s}),o.createElement(St,{ref:t,onLoseFocus:i}))}function Uo(){const{render:e}=H(),t=ot();return e.buttonZoom?o.createElement(o.Fragment,null,e.buttonZoom(t)):o.createElement(Vo,null)}function Xo(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Yo({current:e,preload:t},{type:r,source:n}){switch(r){case"fetch":return e?{current:e,preload:n}:{current:n};case"done":return n===t?{current:n}:{current:e,preload:t};default:throw new Error(zt)}}function zo(e){var t,r;const[{current:n,preload:i},s]=o.useReducer(Yo,{}),{slide:c,rect:l,imageFit:a,render:u,interactive:d}=e,f=c.srcSet.sort((_,M)=>_.width-M.width),g=(t=c.width)!==null&&t!==void 0?t:f[f.length-1].width,p=(r=c.height)!==null&&r!==void 0?r:f[f.length-1].height,h=Qe(c,a),m=Math.max(...f.map(_=>_.width)),b=Math.min((h?Math.max:Math.min)(l.width,g*(l.height/p)),m),x=$n(),P=R(()=>{var _;const M=(_=f.find(S=>S.width>=b*x))!==null&&_!==void 0?_:f[f.length-1];(!n||f.findIndex(S=>S.src===n)<f.findIndex(S=>S===M))&&s({type:"fetch",source:M.src})});J(P,[l.width,l.height,x,P]);const L=R(_=>s({type:"done",source:_})),Z={WebkitTransform:d?"initial":"translateZ(0)"};return h||Object.assign(Z,l.width/l.height<g/p?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),o.createElement(o.Fragment,null,i&&i!==n&&o.createElement(Pe,{key:"preload",...e,slide:{...c,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...Z},onLoad:()=>L(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),n&&o.createElement(Pe,{key:"current",...e,slide:{...c,src:n,srcSet:void 0},style:Z}))}function Bo({render:e,slide:t,offset:r,rect:n}){var i;const[s,c]=o.useState(),l=o.useRef(null),{zoom:a,maxZoom:u,offsetX:d,offsetY:f,setZoomWrapper:g}=ot(),p=a>1,{carousel:h,on:m}=H(),{currentIndex:b}=re();J(()=>r===0?(g({zoomWrapperRef:l,imageDimensions:s}),()=>g(void 0)):()=>{},[r,s,g]);let x=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:n,zoom:a,maxZoom:u});if(!x&&de(t)){const P={slide:t,offset:r,rect:n,render:e,imageFit:h.imageFit,imageProps:h.imageProps,onClick:r===0?()=>{var L;return(L=m.click)===null||L===void 0?void 0:L.call(m,{index:b})}:void 0};x=Xo(t)?o.createElement(zo,{...P,slide:t,interactive:p,rect:r===0?{width:n.width*a,height:n.height*a}:n}):o.createElement(Pe,{onLoad:L=>c({width:L.naturalWidth,height:L.naturalHeight}),...P})}return x?o.createElement("div",{ref:l,className:Q(O(Ln),O(ze),O(Zt),p&&O(On)),style:r===0?{transform:`scale(${a}) translateX(${d}px) translateY(${f}px)`}:void 0},x):null}const jo=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:n,render:i,controller:s,...c})=>{const l=an(r);return{zoom:l,toolbar:Vn(n,ft,o.createElement(Uo,null)),render:{...i,slide:a=>{var u;return de(a.slide)?o.createElement(Bo,{render:i,...a}):(u=i.slide)===null||u===void 0?void 0:u.call(i,a)}},controller:{...s,preventDefaultWheelY:l.scrollToZoom},...c}}),t(oe(ft,Zo))};export{_n as I,Ko as L,jo as Z,Cn as a};
