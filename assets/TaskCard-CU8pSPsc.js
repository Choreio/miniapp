import{j as f,n as Zt,p as Me,k as $t,l as Hn,q as Et,y as dt,S as Jt,r as s,I as Vn,K as Qt,$ as zn,R as y,L as en,M as Yn,c as Ee,d as Xn,N as ft,B as mt,b as Kn,s as Gn,O as qn,Q as Zn,U as Jn,E as Mt,T as Qn,C as de,V as er,W as jt,X as tr}from"./index-DO2_rIAT.js";import{M as xt}from"./ModalHeader-Ch4pk0Mu.js";import{F as tn,b as nr,M as rr}from"./GeolocationRequest-CVe1YDTx.js";import{_ as or,a as ar,F as sr,C as re,B as ee,L as cr,I as Qe}from"./Input-DrR5Hm1P.js";import{A as ir}from"./Avatar-CloWoUGH.js";import{F as lr}from"./FileInput-oC7ynekZ.js";const ur=e=>{var n=or({},ar(e));return f.jsx("svg",Zt(Me({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 6.29289c.39053-.39052 1.02369-.39052 1.41422 0L10 11.5858l5.2929-5.29291c.3905-.39052 1.0237-.39052 1.4142 0 .3905.39053.3905 1.02369 0 1.41422l-6 5.99999c-.3905.3905-1.02368.3905-1.41421 0l-6-5.99999c-.39052-.39053-.39052-1.02369 0-1.41422Z",fill:"currentColor"})}))},dr=e=>{var{header:n,before:t,status:r,className:o}=e,a=$t(e,["header","before","status","className"]);const l=Hn(),c=l==="ios"?dt:Jt;return f.jsxs(sr,{header:n,before:t,status:r,className:Et("tgui-919c5658483cae11",l==="ios"&&"tgui-5edcb8465ee11055",o),children:[f.jsx(c,Me({Component:"select",className:"tgui-a0742fd4c73756f7",multiple:!1},a)),f.jsx(ur,{"aria-hidden":!0,className:"tgui-025a45d791e466f6"})]})};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U.apply(null,arguments)}function ae(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function fr(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function nn(...e){return n=>e.forEach(t=>fr(t,n))}function Ce(...e){return s.useCallback(nn(...e),e)}function mr(e,n=[]){let t=[];function r(a,l){const c=s.createContext(l),m=t.length;t=[...t,l];function d(u){const{scope:b,children:i,...R}=u,v=(b==null?void 0:b[e][m])||c,C=s.useMemo(()=>R,Object.values(R));return s.createElement(v.Provider,{value:C},i)}function h(u,b){const i=(b==null?void 0:b[e][m])||c,R=s.useContext(i);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,h]}const o=()=>{const a=t.map(l=>s.createContext(l));return function(c){const m=(c==null?void 0:c[e])||a;return s.useMemo(()=>({[`__scope${e}`]:{...c,[e]:m}}),[c,m])}};return o.scopeName=e,[r,vr(o,...n)]}function vr(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((c,{useScope:m,scopeName:d})=>{const u=m(a)[`__scope${d}`];return{...c,...u}},{});return s.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return t.scopeName=n.scopeName,t}const vt=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},hr=Vn.useId||(()=>{});let pr=0;function et(e){const[n,t]=s.useState(hr());return vt(()=>{e||t(r=>r??String(pr++))},[e]),e||(n?`radix-${n}`:"")}function ve(e){const n=s.useRef(e);return s.useEffect(()=>{n.current=e}),s.useMemo(()=>(...t)=>{var r;return(r=n.current)===null||r===void 0?void 0:r.call(n,...t)},[])}function gr({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=br({defaultProp:n,onChange:t}),a=e!==void 0,l=a?e:r,c=ve(t),m=s.useCallback(d=>{if(a){const u=typeof d=="function"?d(e):d;u!==e&&c(u)}else o(d)},[a,e,o,c]);return[l,m]}function br({defaultProp:e,onChange:n}){const t=s.useState(e),[r]=t,o=s.useRef(r),a=ve(n);return s.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}const Ct=s.forwardRef((e,n)=>{const{children:t,...r}=e,o=s.Children.toArray(t),a=o.find(yr);if(a){const l=a.props.children,c=o.map(m=>m===a?s.Children.count(l)>1?s.Children.only(null):s.isValidElement(l)?l.props.children:null:m);return s.createElement(ht,U({},r,{ref:n}),s.isValidElement(l)?s.cloneElement(l,void 0,c):null)}return s.createElement(ht,U({},r,{ref:n}),t)});Ct.displayName="Slot";const ht=s.forwardRef((e,n)=>{const{children:t,...r}=e;return s.isValidElement(t)?s.cloneElement(t,{...$r(r,t.props),ref:n?nn(n,t.ref):t.ref}):s.Children.count(t)>1?s.Children.only(null):null});ht.displayName="SlotClone";const wr=({children:e})=>s.createElement(s.Fragment,null,e);function yr(e){return s.isValidElement(e)&&e.type===wr}function $r(e,n){const t={...n};for(const r in n){const o=e[r],a=n[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...c)=>{a(...c),o(...c)}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...e,...t}}const Er=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],se=Er.reduce((e,n)=>{const t=s.forwardRef((r,o)=>{const{asChild:a,...l}=r,c=a?Ct:n;return s.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),s.createElement(c,U({},l,{ref:o}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function xr(e,n){e&&Qt.flushSync(()=>e.dispatchEvent(n))}function Cr(e,n=globalThis==null?void 0:globalThis.document){const t=ve(e);s.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)},[t,n])}const pt="dismissableLayer.update",Sr="dismissableLayer.pointerDownOutside",Tr="dismissableLayer.focusOutside";let It;const Dr=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rr=s.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:m,...d}=e,h=s.useContext(Dr),[u,b]=s.useState(null),i=(t=u==null?void 0:u.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,R]=s.useState({}),v=Ce(n,S=>b(S)),C=Array.from(h.layers),[p]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=C.indexOf(p),w=u?C.indexOf(u):-1,x=h.layersWithOutsidePointerEventsDisabled.size>0,g=w>=A,j=Nr(S=>{const P=S.target,W=[...h.branches].some(V=>V.contains(P));!g||W||(a==null||a(S),c==null||c(S),S.defaultPrevented||m==null||m())},i),E=Or(S=>{const P=S.target;[...h.branches].some(V=>V.contains(P))||(l==null||l(S),c==null||c(S),S.defaultPrevented||m==null||m())},i);return Cr(S=>{w===h.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&m&&(S.preventDefault(),m()))},i),s.useEffect(()=>{if(u)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(It=i.body.style.pointerEvents,i.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(u)),h.layers.add(u),_t(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(i.body.style.pointerEvents=It)}},[u,i,r,h]),s.useEffect(()=>()=>{u&&(h.layers.delete(u),h.layersWithOutsidePointerEventsDisabled.delete(u),_t())},[u,h]),s.useEffect(()=>{const S=()=>R({});return document.addEventListener(pt,S),()=>document.removeEventListener(pt,S)},[]),s.createElement(se.div,U({},d,{ref:v,style:{pointerEvents:x?g?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,E.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,j.onPointerDownCapture)}))});function Nr(e,n=globalThis==null?void 0:globalThis.document){const t=ve(e),r=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){rn(Sr,t,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=d,n.addEventListener("click",o.current,{once:!0})):d()}else n.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",a),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function Or(e,n=globalThis==null?void 0:globalThis.document){const t=ve(e),r=s.useRef(!1);return s.useEffect(()=>{const o=a=>{a.target&&!r.current&&rn(Tr,t,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _t(){const e=new CustomEvent(pt);document.dispatchEvent(e)}function rn(e,n,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?xr(o,a):o.dispatchEvent(a)}const tt="focusScope.autoFocusOnMount",nt="focusScope.autoFocusOnUnmount",Lt={bubbles:!1,cancelable:!0},Ar=s.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[c,m]=s.useState(null),d=ve(o),h=ve(a),u=s.useRef(null),b=Ce(n,v=>m(v)),i=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let v=function(w){if(i.paused||!c)return;const x=w.target;c.contains(x)?u.current=x:oe(u.current,{select:!0})},C=function(w){if(i.paused||!c)return;const x=w.relatedTarget;x!==null&&(c.contains(x)||oe(u.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const g of w)g.removedNodes.length>0&&oe(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",C);const A=new MutationObserver(p);return c&&A.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",C),A.disconnect()}}},[r,c,i.paused]),s.useEffect(()=>{if(c){kt.add(i);const v=document.activeElement;if(!c.contains(v)){const p=new CustomEvent(tt,Lt);c.addEventListener(tt,d),c.dispatchEvent(p),p.defaultPrevented||(Pr(Lr(on(c)),{select:!0}),document.activeElement===v&&oe(c))}return()=>{c.removeEventListener(tt,d),setTimeout(()=>{const p=new CustomEvent(nt,Lt);c.addEventListener(nt,h),c.dispatchEvent(p),p.defaultPrevented||oe(v??document.body,{select:!0}),c.removeEventListener(nt,h),kt.remove(i)},0)}}},[c,d,h,i]);const R=s.useCallback(v=>{if(!t&&!r||i.paused)return;const C=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(C&&p){const A=v.currentTarget,[w,x]=Mr(A);w&&x?!v.shiftKey&&p===x?(v.preventDefault(),t&&oe(w,{select:!0})):v.shiftKey&&p===w&&(v.preventDefault(),t&&oe(x,{select:!0})):p===A&&v.preventDefault()}},[t,r,i.paused]);return s.createElement(se.div,U({tabIndex:-1},l,{ref:b,onKeyDown:R}))});function Pr(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(oe(r,{select:n}),document.activeElement!==t)return}function Mr(e){const n=on(e),t=Ft(n,e),r=Ft(n.reverse(),e);return[t,r]}function on(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Ft(e,n){for(const t of e)if(!jr(t,{upTo:n}))return t}function jr(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ir(e){return e instanceof HTMLInputElement&&"select"in e}function oe(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Ir(e)&&n&&e.select()}}const kt=_r();function _r(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Ut(e,n),e.unshift(n)},remove(n){var t;e=Ut(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function Ut(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function Lr(e){return e.filter(n=>n.tagName!=="A")}const Fr=s.forwardRef((e,n)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...o}=e;return r?zn.createPortal(s.createElement(se.div,U({},o,{ref:n})),r):null});function kr(e,n){return s.useReducer((t,r)=>{const o=n[t][r];return o??t},e)}const qe=e=>{const{present:n,children:t}=e,r=Ur(n),o=typeof t=="function"?t({present:r.isPresent}):s.Children.only(t),a=Ce(r.ref,o.ref);return typeof t=="function"||r.isPresent?s.cloneElement(o,{ref:a}):null};qe.displayName="Presence";function Ur(e){const[n,t]=s.useState(),r=s.useRef({}),o=s.useRef(e),a=s.useRef("none"),l=e?"mounted":"unmounted",[c,m]=kr(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const d=ke(r.current);a.current=c==="mounted"?d:"none"},[c]),vt(()=>{const d=r.current,h=o.current;if(h!==e){const b=a.current,i=ke(d);e?m("MOUNT"):i==="none"||(d==null?void 0:d.display)==="none"?m("UNMOUNT"):m(h&&b!==i?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),vt(()=>{if(n){const d=u=>{const i=ke(r.current).includes(u.animationName);u.target===n&&i&&Qt.flushSync(()=>m("ANIMATION_END"))},h=u=>{u.target===n&&(a.current=ke(r.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",d),n.addEventListener("animationend",d),()=>{n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",d),n.removeEventListener("animationend",d)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:s.useCallback(d=>{d&&(r.current=getComputedStyle(d)),t(d)},[])}}function ke(e){return(e==null?void 0:e.animationName)||"none"}let rt=0;function Br(){s.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:Bt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:Bt()),rt++,()=>{rt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),rt--}},[])}function Bt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Z=function(){return Z=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Z.apply(this,arguments)};function an(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function Wr(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,a;r<o;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var Ke="right-scroll-bar-position",Ge="width-before-scroll-bar",Hr="with-scroll-bars-hidden",Vr="--removed-body-scroll-bar-size";function ot(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function zr(e,n){var t=s.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var Yr=typeof window<"u"?s.useLayoutEffect:s.useEffect,Wt=new WeakMap;function Xr(e,n){var t=zr(null,function(r){return e.forEach(function(o){return ot(o,r)})});return Yr(function(){var r=Wt.get(t);if(r){var o=new Set(r),a=new Set(e),l=t.current;o.forEach(function(c){a.has(c)||ot(c,null)}),a.forEach(function(c){o.has(c)||ot(c,l)})}Wt.set(t,e)},[e]),t}function Kr(e){return e}function Gr(e,n){n===void 0&&(n=Kr);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(a){var l=n(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var m=function(){var h=l;l=[],h.forEach(a)},d=function(){return Promise.resolve().then(m)};d(),t={push:function(h){l.push(h),d()},filter:function(h){return l=l.filter(h),t}}}};return o}function qr(e){e===void 0&&(e={});var n=Gr(null);return n.options=Z({async:!0,ssr:!1},e),n}var sn=function(e){var n=e.sideCar,t=an(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return s.createElement(r,Z({},t))};sn.isSideCarExport=!0;function Zr(e,n){return e.useMedium(n),sn}var cn=qr(),at=function(){},Ze=s.forwardRef(function(e,n){var t=s.useRef(null),r=s.useState({onScrollCapture:at,onWheelCapture:at,onTouchMoveCapture:at}),o=r[0],a=r[1],l=e.forwardProps,c=e.children,m=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,b=e.sideCar,i=e.noIsolation,R=e.inert,v=e.allowPinchZoom,C=e.as,p=C===void 0?"div":C,A=an(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=b,x=Xr([t,n]),g=Z(Z({},A),o);return s.createElement(s.Fragment,null,h&&s.createElement(w,{sideCar:cn,removeScrollBar:d,shards:u,noIsolation:i,inert:R,setCallbacks:a,allowPinchZoom:!!v,lockRef:t}),l?s.cloneElement(s.Children.only(c),Z(Z({},g),{ref:x})):s.createElement(p,Z({},g,{className:m,ref:x}),c))});Ze.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ze.classNames={fullWidth:Ge,zeroRight:Ke};var Jr=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Jr();return n&&e.setAttribute("nonce",n),e}function eo(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function to(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var no=function(){var e=0,n=null;return{add:function(t){e==0&&(n=Qr())&&(eo(n,t),to(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},ro=function(){var e=no();return function(n,t){s.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},ln=function(){var e=ro(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},oo={left:0,top:0,right:0,gap:0},st=function(e){return parseInt(e||"",10)||0},ao=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[st(t),st(r),st(o)]},so=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oo;var n=ao(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},co=ln(),xe="data-scroll-locked",io=function(e,n,t,r){var o=e.left,a=e.top,l=e.right,c=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Hr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(xe,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ke,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ge,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ke," .").concat(Ke,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ge," .").concat(Ge,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xe,`] {
    `).concat(Vr,": ").concat(c,`px;
  }
`)},Ht=function(){var e=parseInt(document.body.getAttribute(xe)||"0",10);return isFinite(e)?e:0},lo=function(){s.useEffect(function(){return document.body.setAttribute(xe,(Ht()+1).toString()),function(){var e=Ht()-1;e<=0?document.body.removeAttribute(xe):document.body.setAttribute(xe,e.toString())}},[])},uo=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;lo();var a=s.useMemo(function(){return so(o)},[o]);return s.createElement(co,{styles:io(a,!n,o,t?"":"!important")})},gt=!1;if(typeof window<"u")try{var Ue=Object.defineProperty({},"passive",{get:function(){return gt=!0,!0}});window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{gt=!1}var be=gt?{passive:!1}:!1,fo=function(e){return e.tagName==="TEXTAREA"},un=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!fo(e)&&t[n]==="visible")},mo=function(e){return un(e,"overflowY")},vo=function(e){return un(e,"overflowX")},Vt=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=dn(e,t);if(r){var o=fn(e,t),a=o[1],l=o[2];if(a>l)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},ho=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},po=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},dn=function(e,n){return e==="v"?mo(n):vo(n)},fn=function(e,n){return e==="v"?ho(n):po(n)},go=function(e,n){return e==="h"&&n==="rtl"?-1:1},bo=function(e,n,t,r,o){var a=go(e,window.getComputedStyle(n).direction),l=a*r,c=t.target,m=n.contains(c),d=!1,h=l>0,u=0,b=0;do{var i=fn(e,c),R=i[0],v=i[1],C=i[2],p=v-C-a*R;(R||p)&&dn(e,c)&&(u+=p,b+=R),c=c.parentNode}while(!m&&c!==document.body||m&&(n.contains(c)||n===c));return(h&&(u===0||!o)||!h&&(b===0||!o))&&(d=!0),d},Be=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zt=function(e){return[e.deltaX,e.deltaY]},Yt=function(e){return e&&"current"in e?e.current:e},wo=function(e,n){return e[0]===n[0]&&e[1]===n[1]},yo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$o=0,we=[];function Eo(e){var n=s.useRef([]),t=s.useRef([0,0]),r=s.useRef(),o=s.useState($o++)[0],a=s.useState(function(){return ln()})[0],l=s.useRef(e);s.useEffect(function(){l.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=Wr([e.lockRef.current],(e.shards||[]).map(Yt),!0).filter(Boolean);return v.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=s.useCallback(function(v,C){if("touches"in v&&v.touches.length===2)return!l.current.allowPinchZoom;var p=Be(v),A=t.current,w="deltaX"in v?v.deltaX:A[0]-p[0],x="deltaY"in v?v.deltaY:A[1]-p[1],g,j=v.target,E=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in v&&E==="h"&&j.type==="range")return!1;var S=Vt(E,j);if(!S)return!0;if(S?g=E:(g=E==="v"?"h":"v",S=Vt(E,j)),!S)return!1;if(!r.current&&"changedTouches"in v&&(w||x)&&(r.current=g),!g)return!0;var P=r.current||g;return bo(P,C,v,P==="h"?w:x,!0)},[]),m=s.useCallback(function(v){var C=v;if(!(!we.length||we[we.length-1]!==a)){var p="deltaY"in C?zt(C):Be(C),A=n.current.filter(function(g){return g.name===C.type&&g.target===C.target&&wo(g.delta,p)})[0];if(A&&A.should){C.cancelable&&C.preventDefault();return}if(!A){var w=(l.current.shards||[]).map(Yt).filter(Boolean).filter(function(g){return g.contains(C.target)}),x=w.length>0?c(C,w[0]):!l.current.noIsolation;x&&C.cancelable&&C.preventDefault()}}},[]),d=s.useCallback(function(v,C,p,A){var w={name:v,delta:C,target:p,should:A};n.current.push(w),setTimeout(function(){n.current=n.current.filter(function(x){return x!==w})},1)},[]),h=s.useCallback(function(v){t.current=Be(v),r.current=void 0},[]),u=s.useCallback(function(v){d(v.type,zt(v),v.target,c(v,e.lockRef.current))},[]),b=s.useCallback(function(v){d(v.type,Be(v),v.target,c(v,e.lockRef.current))},[]);s.useEffect(function(){return we.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:b}),document.addEventListener("wheel",m,be),document.addEventListener("touchmove",m,be),document.addEventListener("touchstart",h,be),function(){we=we.filter(function(v){return v!==a}),document.removeEventListener("wheel",m,be),document.removeEventListener("touchmove",m,be),document.removeEventListener("touchstart",h,be)}},[]);var i=e.removeScrollBar,R=e.inert;return s.createElement(s.Fragment,null,R?s.createElement(a,{styles:yo(o)}):null,i?s.createElement(uo,{gapMode:"margin"}):null)}const xo=Zr(cn,Eo);var mn=s.forwardRef(function(e,n){return s.createElement(Ze,Z({},e,{ref:n,sideCar:xo}))});mn.classNames=Ze.classNames;var Co=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},ye=new WeakMap,We=new WeakMap,He={},ct=0,vn=function(e){return e&&(e.host||vn(e.parentNode))},So=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=vn(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},To=function(e,n,t,r){var o=So(n,Array.isArray(e)?e:[e]);He[t]||(He[t]=new WeakMap);var a=He[t],l=[],c=new Set,m=new Set(o),d=function(u){!u||c.has(u)||(c.add(u),d(u.parentNode))};o.forEach(d);var h=function(u){!u||m.has(u)||Array.prototype.forEach.call(u.children,function(b){if(c.has(b))h(b);else try{var i=b.getAttribute(r),R=i!==null&&i!=="false",v=(ye.get(b)||0)+1,C=(a.get(b)||0)+1;ye.set(b,v),a.set(b,C),l.push(b),v===1&&R&&We.set(b,!0),C===1&&b.setAttribute(t,"true"),R||b.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",b,p)}})};return h(n),c.clear(),ct++,function(){l.forEach(function(u){var b=ye.get(u)-1,i=a.get(u)-1;ye.set(u,b),a.set(u,i),b||(We.has(u)||u.removeAttribute(r),We.delete(u)),i||u.removeAttribute(t)}),ct--,ct||(ye=new WeakMap,ye=new WeakMap,We=new WeakMap,He={})}},Do=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Co(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),To(r,o,t,"aria-hidden")):function(){return null}};const hn="Dialog",[pn,Oa]=mr(hn),[Ro,X]=pn(hn),No=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,c=s.useRef(null),m=s.useRef(null),[d=!1,h]=gr({prop:r,defaultProp:o,onChange:a});return s.createElement(Ro,{scope:n,triggerRef:c,contentRef:m,contentId:et(),titleId:et(),descriptionId:et(),open:d,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(u=>!u),[h]),modal:l},t)},Oo="DialogTrigger",Ao=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=X(Oo,t),a=Ce(n,o.triggerRef);return s.createElement(se.button,U({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":St(o.open)},r,{ref:a,onClick:ae(e.onClick,o.onOpenToggle)}))}),gn="DialogPortal",[Po,bn]=pn(gn,{forceMount:void 0}),Mo=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:o}=e,a=X(gn,n);return s.createElement(Po,{scope:n,forceMount:t},s.Children.map(r,l=>s.createElement(qe,{present:t||a.open},s.createElement(Fr,{asChild:!0,container:o},l))))},bt="DialogOverlay",jo=s.forwardRef((e,n)=>{const t=bn(bt,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=X(bt,e.__scopeDialog);return a.modal?s.createElement(qe,{present:r||a.open},s.createElement(Io,U({},o,{ref:n}))):null}),Io=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=X(bt,t);return s.createElement(mn,{as:Ct,allowPinchZoom:!0,shards:[o.contentRef]},s.createElement(se.div,U({"data-state":St(o.open)},r,{ref:n,style:{pointerEvents:"auto",...r.style}})))}),Pe="DialogContent",_o=s.forwardRef((e,n)=>{const t=bn(Pe,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=X(Pe,e.__scopeDialog);return s.createElement(qe,{present:r||a.open},a.modal?s.createElement(Lo,U({},o,{ref:n})):s.createElement(Fo,U({},o,{ref:n})))}),Lo=s.forwardRef((e,n)=>{const t=X(Pe,e.__scopeDialog),r=s.useRef(null),o=Ce(n,t.contentRef,r);return s.useEffect(()=>{const a=r.current;if(a)return Do(a)},[]),s.createElement(wn,U({},e,{ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,a=>a.preventDefault())}))}),Fo=s.forwardRef((e,n)=>{const t=X(Pe,e.__scopeDialog),r=s.useRef(!1),o=s.useRef(!1);return s.createElement(wn,U({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,a),!a.defaultPrevented){var c;r.current||(c=t.triggerRef.current)===null||c===void 0||c.focus(),a.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)===null||l===void 0||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const m=a.target;((c=t.triggerRef.current)===null||c===void 0?void 0:c.contains(m))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}}))}),wn=s.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=e,c=X(Pe,t),m=s.useRef(null),d=Ce(n,m);return Br(),s.createElement(s.Fragment,null,s.createElement(Ar,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a},s.createElement(Rr,U({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":St(c.open)},l,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)}),ko="DialogTitle",Uo=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=X(ko,t);return s.createElement(se.h2,U({id:o.titleId},r,{ref:n}))}),Bo="DialogDescription",Wo=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=X(Bo,t);return s.createElement(se.p,U({id:o.descriptionId},r,{ref:n}))}),Ho="DialogClose",Vo=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=X(Ho,t);return s.createElement(se.button,U({type:"button"},r,{ref:n,onClick:ae(e.onClick,()=>o.onOpenChange(!1))}))});function St(e){return e?"open":"closed"}const zo=No,Yo=Ao,Xo=Mo,Ko=jo,Go=_o,qo=Uo,Zo=Wo,Jo=Vo;function Qo(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const yn=y.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),Tt=()=>y.useContext(yn);Qo("[vaul-drawer]{touch-action:none;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}");const ea=typeof window<"u"?s.useLayoutEffect:s.useEffect;function wt(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function ta(){return Dt(/^Mac/)}function na(){return Dt(/^iPhone/)}function ra(){return Dt(/^iPad/)||ta()&&navigator.maxTouchPoints>1}function $n(){return na()||ra()}function Dt(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const it=typeof document<"u"&&window.visualViewport;function Xt(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function En(e){for(Xt(e)&&(e=e.parentElement);e&&!Xt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const oa=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ve=0,lt;function aa(e={}){let{isDisabled:n}=e;ea(()=>{if(!n)return Ve++,Ve===1&&($n()?lt=ca():lt=sa()),()=>{Ve--,Ve===0&&lt()}},[n])}function sa(){return wt(xn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function ca(){let e,n=0,t=m=>{e=En(m.target),!(e===document.documentElement&&e===document.body)&&(n=m.changedTouches[0].pageY)},r=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let d=m.changedTouches[0].pageY,h=e.scrollTop,u=e.scrollHeight-e.clientHeight;u!==0&&((h<=0&&d>n||h>=u&&d<n)&&m.preventDefault(),n=d)},o=m=>{let d=m.target;yt(d)&&d!==document.activeElement&&(m.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},a=m=>{let d=m.target;yt(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",it&&(it.height<window.innerHeight?requestAnimationFrame(()=>{Kt(d)}):it.addEventListener("resize",()=>Kt(d),{once:!0}))}))},l=wt(xn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`)),c=wt(ze(document,"touchstart",t,{passive:!1,capture:!0}),ze(document,"touchmove",r,{passive:!1,capture:!0}),ze(document,"touchend",o,{passive:!1,capture:!0}),ze(document,"focus",a,!0));return()=>{l(),c()}}function xn(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function ze(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function Kt(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=En(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,o=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const l=t.getBoundingClientRect().bottom;a>l&&(t.scrollTop+=o-r)}e=t.parentElement}}function yt(e){return e instanceof HTMLInputElement&&!oa.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ia(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function la(...e){return n=>e.forEach(t=>ia(t,n))}function Cn(...e){return s.useCallback(la(...e),e)}let ne=null;function ua({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:o}){const[a,l]=y.useState(typeof window<"u"?window.location.href:""),c=y.useRef(0),m=y.useCallback(()=>{if(ne===null&&e){ne={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:h,innerHeight:u}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-c.current}px`,document.body.style.left=`${-h}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{console.log(["scrollPosition",c.current,u]),c.current>=u&&(document.body.style.top=`${-c.current}px`)}),300)}},[e]),d=y.useCallback(()=>{if(ne!==null){const h=-parseInt(document.body.style.top,10),u=-parseInt(document.body.style.left,10);document.body.style.position=ne.position,document.body.style.top=ne.top,document.body.style.left=ne.left,document.body.style.height=ne.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(o&&a!==window.location.href){l(window.location.href);return}window.scrollTo(u,h)}),ne=null}},[a]);return y.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),y.useEffect(()=>{t||!r||(e?n||setTimeout(()=>{d()},500):d())},[e,r,a,n,t,m,d]),{restorePositionSetting:d}}const Sn=new WeakMap;function I(e,n,t=!1){if(!e||!(e instanceof HTMLElement)||!n)return;let r={};Object.entries(n).forEach(([o,a])=>{if(o.startsWith("--")){e.style.setProperty(o,a);return}r[o]=e.style[o],e.style[o]=a}),!t&&Sn.set(e,r)}function Ye(e,n){if(!e||!(e instanceof HTMLElement))return;let t=Sn.get(e);t&&(n?e.style[n]=t[n]:Object.entries(t).forEach(([r,o])=>{e.style[r]=o}))}const k=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Xe(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[k(n)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[k(n)?5:4]):null)}function da(e){return 8*(Math.log(e+1)-2)}const M={DURATION:.5,EASE:[.32,.72,0,1]},Tn=.4;function Dn(e){const n=y.useRef(e);return y.useEffect(()=>{n.current=e}),y.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function fa({defaultProp:e,onChange:n}){const t=y.useState(e),[r]=t,o=y.useRef(r),a=Dn(n);return y.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}function ma({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=fa({defaultProp:n,onChange:t}),a=e!==void 0,l=a?e:r,c=Dn(t),m=y.useCallback(d=>{if(a){const u=typeof d=="function"?d(e):d;u!==e&&c(u)}else o(d)},[a,e,o,c]);return[l,m]}function va({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:o,fadeFromIndex:a,onSnapPointChange:l,direction:c="bottom"}){const[m,d]=ma({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),h=y.useMemo(()=>m===(t==null?void 0:t[t.length-1])||null,[t,m]),u=t&&t.length>0&&(a||a===0)&&!Number.isNaN(a)&&t[a]===m||!t,b=y.useMemo(()=>t==null?void 0:t.findIndex(w=>w===m),[t,m]),i=y.useMemo(()=>{var w;return(w=t==null?void 0:t.map(x=>{const g=typeof window<"u",j=typeof x=="string";let E=0;if(j&&(E=parseInt(x,10)),k(c)){const P=j?E:g?x*window.innerHeight:0;return g?c==="bottom"?window.innerHeight-P:-window.innerHeight+P:P}const S=j?E:g?x*window.innerWidth:0;return g?c==="right"?window.innerWidth-S:-window.innerWidth+S:S}))!=null?w:[]},[t]),R=y.useMemo(()=>b!==null?i==null?void 0:i[b]:null,[i,b]),v=y.useCallback(w=>{var x;const g=(x=i==null?void 0:i.findIndex(j=>j===w))!=null?x:null;l(g),I(r.current,{transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,transform:k(c)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`}),i&&g!==i.length-1&&g!==a?I(o.current,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,opacity:"0"}):I(o.current,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,opacity:"1"}),d(g!==null?t==null?void 0:t[g]:null)},[r.current,t,i,a,o,d]);y.useEffect(()=>{if(e){var w;const x=(w=t==null?void 0:t.findIndex(g=>g===e))!=null?w:-1;i&&x!==-1&&typeof i[x]=="number"&&v(i[x])}},[e,t,i,v]);function C({draggedDistance:w,closeDrawer:x,velocity:g,dismissible:j}){if(a===void 0)return;const E=c==="bottom"||c==="right"?(R??0)-w:(R??0)+w,S=b===a-1,P=b===0,W=w>0;if(S&&I(o.current,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`}),g>2&&!W){j?x():v(i[0]);return}if(g>2&&W&&i&&t){v(i[t.length-1]);return}const V=i==null?void 0:i.reduce((H,z)=>typeof H!="number"||typeof z!="number"?H:Math.abs(z-E)<Math.abs(H-E)?z:H),K=k(c)?window.innerHeight:window.innerWidth;if(g>Tn&&Math.abs(w)<K*.4){const H=W?1:-1;if(H>0&&h){v(i[t.length-1]);return}if(P&&H<0&&j&&x(),b===null)return;v(i[b+H]);return}v(V)}function p({draggedDistance:w}){if(R===null)return;const x=c==="bottom"||c==="right"?R-w:R+w;(c==="bottom"||c==="right")&&x<i[i.length-1]||(c==="top"||c==="left")&&x>i[i.length-1]||I(r.current,{transform:k(c)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})}function A(w,x){if(!t||typeof b!="number"||!i||a===void 0)return null;const g=b===a-1;if(b>=a&&x)return 0;if(g&&!x)return 1;if(!u&&!g)return null;const E=g?b+1:b-1,S=g?i[E]-i[E-1]:i[E+1]-i[E],P=w/Math.abs(S);return g?1-P:P}return{isLastSnapPoint:h,activeSnapPoint:m,shouldFade:u,getPercentageDragged:A,setActiveSnapPoint:d,activeSnapPointIndex:b,onRelease:C,onDrag:p,snapPointsOffset:i}}const ha=.25,pa=100,Gt=8,fe=16,qt=26,ut="vaul-dragging";function Rn({open:e,onOpenChange:n,children:t,shouldScaleBackground:r,onDrag:o,onRelease:a,snapPoints:l,nested:c=!1,closeThreshold:m=ha,scrollLockTimeout:d=pa,dismissible:h=!0,fadeFromIndex:u=l&&l.length-1,activeSnapPoint:b,setActiveSnapPoint:i,fixed:R,modal:v=!0,onClose:C,direction:p="bottom",preventScrollRestoration:A=!0,disablePreventScroll:w=!1}){var x;const[g=!1,j]=y.useState(!1),[E,S]=y.useState(!1),[P,W]=y.useState(!1),[V,K]=y.useState(!1),[H,z]=y.useState(!1),[Se,Te]=y.useState(!1),G=y.useRef(null),he=y.useRef(null),ce=y.useRef(null),De=y.useRef(null),ie=y.useRef(null),le=y.useRef(!1),Re=y.useRef(null),Ne=y.useRef(0),J=y.useRef(!1),Oe=y.useRef(0),T=y.useRef(null),$=y.useRef(((x=T.current)==null?void 0:x.getBoundingClientRect().height)||0),B=y.useRef(0),Ie=y.useCallback(D=>{l&&D===Ae.length-1&&(he.current=new Date)},[]),{activeSnapPoint:Je,activeSnapPointIndex:Q,setActiveSnapPoint:Rt,onRelease:Pn,snapPointsOffset:Ae,onDrag:Mn,shouldFade:Nt,getPercentageDragged:jn}=va({snapPoints:l,activeSnapPointProp:b,setActiveSnapPointProp:i,drawerRef:T,fadeFromIndex:u,overlayRef:G,onSnapPointChange:Ie,direction:p});aa({isDisabled:!g||H||!v||Se||!E||w});const{restorePositionSetting:In}=ua({isOpen:g,modal:v,nested:c,hasBeenOpened:E,preventScrollRestoration:A});function pe(){return(window.innerWidth-qt)/window.innerWidth}function _n(D){var N;!h&&!l||T.current&&!T.current.contains(D.target)||($.current=((N=T.current)==null?void 0:N.getBoundingClientRect().height)||0,z(!0),ce.current=new Date,$n()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),D.target.setPointerCapture(D.pointerId),Ne.current=k(p)?D.clientY:D.clientX)}function Ot(D,N){var _;let O=D;const L=(_=window.getSelection())==null?void 0:_.toString(),F=T.current?Xe(T.current,p):null,Y=new Date;if(O.hasAttribute("data-vaul-no-drag")||O.closest("[data-vaul-no-drag]"))return!1;if(p==="right"||p==="left")return!0;if(he.current&&Y.getTime()-he.current.getTime()<500)return!1;if(F!==null&&(p==="bottom"?F>0:F<0))return!0;if(L&&L.length>0)return!1;if(ie.current&&Y.getTime()-ie.current.getTime()<d&&F===0||N)return ie.current=Y,!1;for(;O;){if(O.scrollHeight>O.clientHeight){if(O.scrollTop!==0)return ie.current=new Date,!1;if(O.getAttribute("role")==="dialog")return!0}O=O.parentNode}return!0}function Ln(D){if(T.current&&H){const N=p==="bottom"||p==="right"?1:-1,_=(Ne.current-(k(p)?D.clientY:D.clientX))*N,O=_>0,L=l&&!h&&!O;if(L&&Q===0)return;const F=Math.abs(_),Y=document.querySelector("[vaul-drawer-wrapper]");let q=F/$.current;const te=jn(F,O);if(te!==null&&(q=te),L&&q>=1||!le.current&&!Ot(D.target,O))return;if(T.current.classList.add(ut),le.current=!0,I(T.current,{transition:"none"}),I(G.current,{transition:"none"}),l&&Mn({draggedDistance:_}),O&&!l){const ue=da(_),Fe=Math.min(ue*-1,0)*N;I(T.current,{transform:k(p)?`translate3d(0, ${Fe}px, 0)`:`translate3d(${Fe}px, 0, 0)`});return}const Le=1-q;if((Nt||u&&Q===u-1)&&(o==null||o(D,q),I(G.current,{opacity:`${Le}`,transition:"none"},!0)),Y&&G.current&&r){const ue=Math.min(pe()+q*(1-pe()),1),Fe=8-q*8,Pt=Math.max(0,14-q*14);I(Y,{borderRadius:`${Fe}px`,transform:k(p)?`scale(${ue}) translate3d(0, ${Pt}px, 0)`:`scale(${ue}) translate3d(${Pt}px, 0, 0)`,transition:"none"},!0)}if(!l){const ue=F*N;I(T.current,{transform:k(p)?`translate3d(0, ${ue}px, 0)`:`translate3d(${ue}px, 0, 0)`})}}}y.useEffect(()=>()=>{_e(!1),In()},[]),y.useEffect(()=>{var D;function N(){if(!T.current)return;const _=document.activeElement;if(yt(_)||J.current){var O;const L=((O=window.visualViewport)==null?void 0:O.height)||0;let F=window.innerHeight-L;const Y=T.current.getBoundingClientRect().height||0;B.current||(B.current=Y);const q=T.current.getBoundingClientRect().top;if(Math.abs(Oe.current-F)>60&&(J.current=!J.current),l&&l.length>0&&Ae&&Q){const te=Ae[Q]||0;F+=te}if(Oe.current=F,Y>L||J.current){const te=T.current.getBoundingClientRect().height;let Le=te;te>L&&(Le=L-qt),R?T.current.style.height=`${te-Math.max(F,0)}px`:T.current.style.height=`${Math.max(Le,L-q)}px`}else T.current.style.height=`${B.current}px`;l&&l.length>0&&!J.current?T.current.style.bottom="0px":T.current.style.bottom=`${Math.max(F,0)}px`}}return(D=window.visualViewport)==null||D.addEventListener("resize",N),()=>{var _;return(_=window.visualViewport)==null?void 0:_.removeEventListener("resize",N)}},[Q,l,Ae]);function ge(){T.current&&(Fn(),C==null||C(),I(T.current,{transform:k(p)?`translate3d(0, ${p==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${p==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`}),I(G.current,{opacity:"0",transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`}),_e(!1),setTimeout(()=>{W(!1),j(!1)},300),setTimeout(()=>{l&&Rt(l[0])},M.DURATION*1e3))}y.useEffect(()=>{if(!g&&r){const D=setTimeout(()=>{Ye(document.body)},200);return()=>clearTimeout(D)}},[g,r]),y.useLayoutEffect(()=>{e?(j(!0),S(!0)):ge()},[e]),y.useEffect(()=>{V&&(n==null||n(g))},[g]),y.useEffect(()=>{K(!0)},[]);function At(){if(!T.current)return;const D=document.querySelector("[vaul-drawer-wrapper]"),N=Xe(T.current,p);I(T.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`}),I(G.current,{transition:`opacity ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,opacity:"1"}),r&&N&&N>0&&g&&I(D,{borderRadius:`${Gt}px`,overflow:"hidden",...k(p)?{transform:`scale(${pe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${pe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${M.DURATION}s`,transitionTimingFunction:`cubic-bezier(${M.EASE.join(",")})`},!0)}function Fn(){!H||!T.current||(T.current.classList.remove(ut),le.current=!1,z(!1),De.current=new Date)}function kn(D){if(!H||!T.current)return;T.current.classList.remove(ut),le.current=!1,z(!1),De.current=new Date;const N=Xe(T.current,p);if(!Ot(D.target,!1)||!N||Number.isNaN(N)||ce.current===null)return;const _=De.current.getTime()-ce.current.getTime(),O=Ne.current-(k(p)?D.clientY:D.clientX),L=Math.abs(O)/_;if(L>.05&&(Te(!0),setTimeout(()=>{Te(!1)},200)),l){Pn({draggedDistance:O*(p==="bottom"||p==="right"?1:-1),closeDrawer:ge,velocity:L,dismissible:h}),a==null||a(D,!0);return}if(p==="bottom"||p==="right"?O>0:O<0){At(),a==null||a(D,!0);return}if(L>Tn){ge(),a==null||a(D,!1);return}var F;const Y=Math.min((F=T.current.getBoundingClientRect().height)!=null?F:0,window.innerHeight);if(N>=Y*m){ge(),a==null||a(D,!1);return}a==null||a(D,!0),At()}y.useEffect(()=>{g&&(I(document.documentElement,{scrollBehavior:"auto"}),he.current=new Date,_e(!0))},[g]),y.useEffect(()=>{if(T.current&&P){var D;const N=T==null||(D=T.current)==null?void 0:D.querySelectorAll("*");N==null||N.forEach(_=>{const O=_;(O.scrollHeight>O.clientHeight||O.scrollWidth>O.clientWidth)&&O.classList.add("vaul-scrollable")})}},[P]);function _e(D){const N=document.querySelector("[vaul-drawer-wrapper]");!N||!r||(D?(I(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),I(document.body,{background:"black"},!0),I(N,{borderRadius:`${Gt}px`,overflow:"hidden",...k(p)?{transform:`scale(${pe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${pe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${M.DURATION}s`,transitionTimingFunction:`cubic-bezier(${M.EASE.join(",")})`})):(Ye(N,"overflow"),Ye(N,"transform"),Ye(N,"borderRadius"),I(N,{transitionProperty:"transform, border-radius",transitionDuration:`${M.DURATION}s`,transitionTimingFunction:`cubic-bezier(${M.EASE.join(",")})`})))}function Un(D){const N=D?(window.innerWidth-fe)/window.innerWidth:1,_=D?-fe:0;Re.current&&window.clearTimeout(Re.current),I(T.current,{transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,transform:`scale(${N}) translate3d(0, ${_}px, 0)`}),!D&&T.current&&(Re.current=setTimeout(()=>{const O=Xe(T.current,p);I(T.current,{transition:"none",transform:k(p)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`})},500))}function Bn(D,N){if(N<0)return;const _=k(p)?window.innerHeight:window.innerWidth,O=(_-fe)/_,L=O+N*(1-O),F=-fe+N*fe;I(T.current,{transform:k(p)?`scale(${L}) translate3d(0, ${F}px, 0)`:`scale(${L}) translate3d(${F}px, 0, 0)`,transition:"none"})}function Wn(D,N){const _=k(p)?window.innerHeight:window.innerWidth,O=N?(_-fe)/_:1,L=N?-fe:0;N&&I(T.current,{transition:`transform ${M.DURATION}s cubic-bezier(${M.EASE.join(",")})`,transform:k(p)?`scale(${O}) translate3d(0, ${L}px, 0)`:`scale(${O}) translate3d(${L}px, 0, 0)`})}return y.createElement(zo,{modal:v,onOpenChange:D=>{if(e!==void 0){n==null||n(D);return}D?(S(!0),j(D)):ge()},open:g},y.createElement(yn.Provider,{value:{visible:P,activeSnapPoint:Je,snapPoints:l,setActiveSnapPoint:Rt,drawerRef:T,overlayRef:G,scaleBackground:_e,onOpenChange:n,onPress:_n,setVisible:W,onRelease:kn,onDrag:Ln,dismissible:h,isOpen:g,shouldFade:Nt,closeDrawer:ge,onNestedDrag:Bn,onNestedOpenChange:Un,onNestedRelease:Wn,keyboardIsOpen:J,openProp:e,modal:v,snapPointsOffset:Ae,direction:p}},t))}const Nn=y.forwardRef(function({children:e,...n},t){const{overlayRef:r,snapPoints:o,onRelease:a,shouldFade:l,isOpen:c,visible:m}=Tt(),d=Cn(t,r),h=o&&o.length>0;return y.createElement(Ko,{onMouseUp:a,ref:d,"vaul-drawer-visible":m?"true":"false","vaul-overlay":"","vaul-snap-points":c&&h?"true":"false","vaul-snap-points-overlay":c&&l?"true":"false",...n})});Nn.displayName="Drawer.Overlay";const On=y.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:n,onAnimationEnd:t,style:r,...o},a){const{drawerRef:l,onPress:c,onRelease:m,onDrag:d,dismissible:h,keyboardIsOpen:u,snapPointsOffset:b,visible:i,closeDrawer:R,modal:v,openProp:C,onOpenChange:p,setVisible:A,direction:w}=Tt(),x=Cn(a,l),g=y.useRef(null);y.useEffect(()=>{A(!0)},[]);const j=(E,S,P=0)=>{const W=Math.abs(E.x),V=Math.abs(E.y),K=W>V;return S==="left"||S==="right"?K&&W>P:!K&&V>P};return y.createElement(Go,{"vaul-drawer":"","vaul-drawer-direction":w,"vaul-drawer-visible":i?"true":"false",...o,ref:x,style:b&&b.length>0?{"--snap-point-height":`${b[0]}px`,...r}:r,onOpenAutoFocus:E=>{if(e)e(E);else{var S;E.preventDefault(),(S=l.current)==null||S.focus()}},onPointerDown:E=>{o.onPointerDown==null||o.onPointerDown.call(o,E),g.current={x:E.clientX,y:E.clientY},c(E)},onPointerDownOutside:E=>{if(n==null||n(E),!v||E.defaultPrevented){E.preventDefault();return}u.current&&(u.current=!1),E.preventDefault(),p==null||p(!1),!(!h||C!==void 0)&&R()},onPointerMove:E=>{if(o.onPointerMove==null||o.onPointerMove.call(o,E),!g.current)return null;const S=E.clientY-g.current.y,P=E.clientX-g.current.x,W=["left","right"].includes(w),V=["left","top"].includes(w)?Math.min:Math.max,K=W?V(0,P):0,H=W?0:V(0,S),z=E.pointerType==="touch"?10:2;j({x:K,y:H},w,z)?d(E):(Math.abs(P)>z||Math.abs(S)>z)&&(g.current=null)},onPointerUp:E=>{o.onPointerUp==null||o.onPointerUp.call(o,E),g.current=null,m(E)}})});On.displayName="Drawer.Content";function ga({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:r,onNestedOpenChange:o,onNestedRelease:a}=Tt();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return y.createElement(Rn,{nested:!0,onClose:()=>{o(!1)},onDrag:(l,c)=>{r(l,c),e==null||e(l,c)},onOpenChange:l=>{l&&o(l),n==null||n(l)},onRelease:a,...t})}const me={Root:Rn,NestedRoot:ga,Content:On,Overlay:Nn,Trigger:Yo,Portal:Xo,Close:Jo,Title:qo,Description:Zo},ba=e=>f.jsx(me.Close,Me({asChild:!0},e)),wa=e=>{let n=e;e.length===4&&(n=e.replace(/([^#])/g,"$1$1"));const t=parseInt(n.replace("#",""),16),r=t>>16,o=t>>8;return[r&255,o&255,t&255]},ya=[255,255,255],$a=[33,33,33],An=s.forwardRef((e,n)=>{var{className:t}=e,r=$t(e,["className"]);const o=en(),[a,l,c]=s.useMemo(()=>{const m=Yn();return m&&m.themeParams.bg_color?wa(m.themeParams.bg_color):o.appearance==="light"?ya:$a},[o.appearance]);return f.jsx(me.Overlay,Me({ref:n,style:{background:`rgba(${a}, ${l}, ${c}, .4)`},className:Et("tgui-3197096cb603b35a",t)},r))}),je=s.forwardRef((e,n)=>{var{overlayComponent:t=f.jsx(An,{}),open:r,onOpenChange:o,header:a,className:l,children:c,nested:m,trigger:d,closeThreshold:h,scrollLockTimeout:u,snapPoints:b,fadeFromIndex:i,modal:R,preventScrollRestoration:v,dismissible:C}=e,p=$t(e,["overlayComponent","open","onOpenChange","header","className","children","nested","trigger","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","modal","preventScrollRestoration","dismissible"]),A;const w=en(),[x,g]=s.useState((A=w.portalContainer)===null||A===void 0?void 0:A.current);s.useEffect(()=>{var E;g((E=w.portalContainer)===null||E===void 0?void 0:E.current)},[w.portalContainer]);const j=m?me.NestedRoot:me.Root;return f.jsxs(j,{open:r,onOpenChange:o,closeThreshold:h,scrollLockTimeout:u,snapPoints:b,fadeFromIndex:i,modal:R,preventScrollRestoration:v,dismissible:C,children:[d&&f.jsx(me.Trigger,{asChild:!0,children:d}),f.jsxs(me.Portal,{container:x,children:[t,f.jsxs(me.Content,Zt(Me({ref:n,className:Et("tgui-cc76354712c6e8d9",l)},p),{children:[a,f.jsx("div",{className:"tgui-5dc6ad1ca3ac3ed4",children:c})]}))]})]})});je.Header=xt;je.Overlay=An;je.Close=ba;const $e=e=>Number(e)*Math.PI/180,Ea=(e,n)=>{if(!e||!n)return 0;const t=6378.137,r=$e(n.latitude)-$e(e.latitude),o=$e(n.longitude)-$e(e.longitude),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos($e(e.latitude))*Math.cos($e(n.latitude))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),c=t*l;return Number(c.toFixed(3))},Aa=({task:e,mode:n})=>{const t=Ee(Xn),r=Ee(h=>ft(h,e.id)),[o,a]=s.useState(!1),l=()=>{a(!0),console.log("Modal opened")},c=()=>{a(!1),console.log("Modal closed")},[m,d]=s.useState();return s.useEffect(()=>{var h;d(Ea((h=e.location)==null?void 0:h.latLong,t.latLong))},[t,e]),f.jsxs(f.Fragment,{children:[f.jsx(re,{before:f.jsx(ir,{children:"CS"}),id:e.id,className:"w-full select-none",multiline:!1,description:e.desc,after:f.jsx("span",{children:e.reward}),titleBadge:r?f.jsx(mt,{className:"bg-yellow-600",mode:"critical",type:"number",children:"!"}):f.jsx(f.Fragment,{}),subhead:m+" km",onClick:l,children:e.title}),f.jsx(je,{open:o,onOpenChange:h=>a(h),className:"z-10 h-3/4",header:f.jsx(xt,{after:f.jsx(tn,{className:"text-[--tg-theme-plain-foreground] h-4",onClick:c})}),children:f.jsx(xa,{taskId:e.id,closeModal:c,mode:n})})]})},xa=({taskId:e="-1",closeModal:n,mode:t})=>{var J,Oe,T;const r=Kn(),o=Ee(Gn),[a,l]=s.useState(Ee($=>ft($,e))),[c,m]=s.useState(Ee($=>ft($,e))),[d,h]=s.useState([]),u=Ee($=>qn($,e)),b=JSON.parse(sessionStorage.getItem("task-"+e)||"{}"),[i,R]=s.useState(c?b:u),[v,C]=s.useState(Number(i==null?void 0:i.reward.split(" ")[0])||0),[p,A]=s.useState((i==null?void 0:i.reward.split(" ")[1])||"RP");s.useEffect(()=>{i&&R({...i,reward:v+" "+p})},[i,v,p]);const w=$=>{i&&($.preventDefault(),console.log("Edit mode handler"),o.id===i.customer&&l(!0),a&&!c&&l(!1))};s.useEffect(()=>{i&&r(c?Zn(i.id):Jn(i.id))},[c,r,i]),s.useEffect(()=>{if(JSON.stringify(u)!==JSON.stringify(i)){sessionStorage.setItem("task-"+(i==null?void 0:i.id),JSON.stringify(i));const $=[];(i==null?void 0:i.title)!==(u==null?void 0:u.title)&&$.push("title"),(i==null?void 0:i.desc)!==(u==null?void 0:u.desc)&&$.push("description"),(i==null?void 0:i.reward)!==(u==null?void 0:u.reward)&&$.push("reward"),(i==null?void 0:i.attachments)!==(u==null?void 0:u.attachments)&&$.push("attachments"),(i==null?void 0:i.location)!==(u==null?void 0:u.location)&&$.push("address"),h($),console.log($),m(!0)}else m(!1),h([]),sessionStorage.removeItem("task-"+(i==null?void 0:i.id))},[i,u]),s.useEffect(()=>{c||(console.log("Sync task"),R(u))},[u,c]);const x=$=>{i&&($.preventDefault(),console.log("Changes saved"),r(er(i)),l(!1),m(!1))},g=$=>{$.preventDefault(),console.log("Changes canceled"),R(u),l(!1),m(!1)},[j,E]=s.useState(!1),[S,P]=s.useState(""),W=$=>{E(!0),P($)},V=()=>{E(!1),P("")},K=$=>{if(i){const B=$.currentTarget.files;if(B&&(B==null?void 0:B.length)>0){const Ie=[];for(let Q=0;Q<B.length;Q++)Ie.push(URL.createObjectURL(B[Q]));const Je=i.attachments||[];R({...i,attachments:[...Je,...Ie]})}}},H=$=>{if(i){const B=[...i.attachments||[]];B.splice($,1),R({...i,attachments:B})}},[z,Se]=s.useState(!1),[Te,G]=s.useState(!1),[he,ce]=s.useState(!1),De=async $=>{i&&($.preventDefault(),console.log("Clicked accept"),Se(!0),setTimeout(()=>{console.log("Do something after 2 secs"),r(jt({id:i.id,status:"active",userId:o.id})),Se(!1),n()},2e3))},ie=async $=>{i&&($.preventDefault(),console.log("Clicked dismiss"),G(!0),await setTimeout(()=>{console.log("Do something after 5 secs"),r(jt({id:i.id,status:"open",userId:""})),G(!1),n()},2e3))},le=$=>{$.preventDefault(),ce(!0)},Re=$=>{i&&($.preventDefault(),r(tr(i.id)),ce(!1))},Ne=$=>{$.preventDefault(),ce(!1)};return e?i?f.jsxs("div",{className:"flex flex-col gap-1",children:[c&&f.jsx("div",{className:"bg-yellow-400 text-center rounded-lg mb-1",children:"You have uncommited changes!!!"}),f.jsxs("div",{className:"p-2 flex align-middle items-center justify-between w-full",children:[f.jsx(Qn,{children:"Task details"}),t==="edit"&&f.jsx(ee,{mode:"plain",onClick:w,children:"Edit"})]}),f.jsxs(cr,{className:"flex flex-col gap-2 h-full",children:[f.jsxs("div",{children:[f.jsx(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Title"}),a?f.jsx(Qe,{value:i.title,status:d.indexOf("title")>-1?"error":"default",onChange:$=>R({...i,title:$.currentTarget.value})}):f.jsx(re,{children:i.title})]}),f.jsxs("div",{children:[f.jsx(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Description"}),a?f.jsx(Qe,{value:i.desc,status:d.indexOf("description")>-1?"error":"default",onChange:$=>R({...i,desc:$.currentTarget.value})}):f.jsx(re,{children:i.desc})]}),f.jsxs("div",{children:[f.jsx(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Reward"}),a?f.jsxs("div",{className:"flex",children:[f.jsx(Qe,{inputMode:"numeric",value:v,status:d.indexOf("reward")>-1?"error":"default",onChange:$=>C(Number($.currentTarget.value))}),f.jsxs(dr,{value:p,onChange:$=>A($.currentTarget.value),children:[f.jsx("option",{children:"RP"}),f.jsx("option",{children:"BTC"})]})]}):f.jsx(re,{children:f.jsx("span",{children:i.reward})})]}),i.attachments&&i.attachments.length>0&&f.jsxs("div",{children:[f.jsxs(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:["Attachments",d.indexOf("attachments")>-1?f.jsx(mt,{type:"dot",mode:"critical"}):f.jsx(f.Fragment,{})]}),f.jsx("div",{className:"p-2 grid grid-flow-row grid-cols-3 gap-2",children:i.attachments.map(($,B)=>f.jsx("img",{src:$,onClick:()=>W($)},B+$))})]}),a&&f.jsxs("div",{children:[i.attachments&&i.attachments.length>0&&i.attachments.map(($,B)=>f.jsx(re,{className:"pl-6",after:f.jsx(ee,{mode:"plain",onClick:()=>H(B),children:"X"}),children:f.jsx(dt,{children:$})},B+$)),f.jsx(lr,{multiple:!0,label:"Attach a new file",accept:"image/*",onChange:K})]}),f.jsxs("div",{children:[f.jsx(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Customer"}),f.jsx(re,{children:f.jsx("span",{children:i.customer})})]}),f.jsxs("div",{children:[f.jsxs(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:["Address",d.indexOf("address")>-1?f.jsx(mt,{type:"dot",mode:"critical"}):f.jsx(f.Fragment,{})]}),f.jsx(re,{children:(J=i.location.address)==null?void 0:J.formattedAdress}),a&&f.jsxs("div",{className:"overflow-visible",children:[f.jsx(Jt,{weight:"1",level:"2",className:"pt-2 pb-2 pl-6",children:"New address"}),f.jsx(nr,{geoposition:i.location||{available:!1},setGeoposition:$=>R({...i,location:$})})]})]}),f.jsxs("div",{children:[f.jsx(de,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"On map"}),f.jsx(re,{children:f.jsx(rr,{type:"target",center:{latitude:Number((Oe=i.location.latLong)==null?void 0:Oe.latitude),longitude:Number((T=i.location.latLong)==null?void 0:T.longitude)}})})]})]}),t==="view"&&f.jsxs("div",{className:"w-full flex justify-around pb-8",children:[i.status==="open"&&f.jsx(ee,{className:"bg-green-600 w-2/6",onClick:De,loading:z,children:"Accept"}),i.status==="active"&&f.jsx(ee,{className:"bg-red-600 w-2/6",onClick:ie,loading:Te,children:"Decline"})]}),t==="edit"&&f.jsx("div",{className:"flex flex-col justify-around pb-4",children:he?f.jsxs(f.Fragment,{children:[f.jsx(dt,{className:"bg-yellow-400 text-center rounded-lg mb-1",children:"This action is unrevertable"}),f.jsxs("div",{className:"w-full flex justify-around pb-8",children:[f.jsx(ee,{className:"bg-green-600 w-2/6",onClick:Re,children:"Confirm"}),f.jsx(ee,{className:"bg-red-600 w-2/6",onClick:Ne,children:"Cancel"})]})]}):f.jsx(ee,{className:"bg-red-600 w-2/6 self-center",onClick:le,loading:z,disabled:i.status==="active",children:i.status==="active"?"Can`t delete task in work":"Delete"})}),a&&f.jsx("div",{className:"sticky bottom-1",children:f.jsxs("div",{className:"flex flex-row justify-center items-center",children:[f.jsx(ee,{className:"bg-green-400 w-full",onClick:x,children:"Confirm"}),f.jsx(ee,{className:"bg-red-400 w-full",onClick:g,children:"Cancel"})]})}),j&&f.jsx(je,{className:"z-20 p-6 max-h-[90%]",open:j,onOpenChange:$=>E($),header:f.jsx(xt,{title:S,after:f.jsx(tn,{className:"text-[--tg-theme-plain-foreground] h-4",onClick:V})}),children:f.jsx("img",{className:"w-auto h-auto m-auto",src:S})})]}):f.jsx(Mt,{children:"Cannot retrieve task data"}):f.jsx(Mt,{children:"No passed task id"})};export{je as M,xa as T,Aa as a};
