import{r as s,I as Hn,K as nn,$ as Vn,R as $,j as d,v as Rt,o as rn,L as on,M as zn,w as an,q as Yn,c as Te,d as Xn,N as wt,B as yt,b as Kn,s as qn,O as Gn,Q as Zn,U as at,E as Lt,T as Qn,C as Q,m as kt,S as Jn,V as er,W as Ft,X as tr}from"./index-XFCmIY7W.js";import{M as Nt,I as nr,a as st}from"./ModalHeader-Pwm9k7vM.js";import{F as sn,b as rr,M as or}from"./GeolocationRequest-Bh0W5rBv.js";import{C as se,B as J,L as ar,I as it}from"./Input-CD72tTlX.js";import{A as sr}from"./Avatar-BuXBSrWv.js";import{F as ir}from"./FileInput-CkRkkgzE.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U.apply(null,arguments)}function ce(e,n,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e==null||e(o),t===!1||!o.defaultPrevented)return n==null?void 0:n(o)}}function cr(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function cn(...e){return n=>e.forEach(t=>cr(t,n))}function Re(...e){return s.useCallback(cn(...e),e)}function lr(e,n=[]){let t=[];function r(a,l){const i=s.createContext(l),f=t.length;t=[...t,l];function u(v){const{scope:y,children:c,...N}=v,m=(y==null?void 0:y[e][f])||i,C=s.useMemo(()=>N,Object.values(N));return s.createElement(m.Provider,{value:C},c)}function h(v,y){const c=(y==null?void 0:y[e][f])||i,N=s.useContext(c);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,h]}const o=()=>{const a=t.map(l=>s.createContext(l));return function(i){const f=(i==null?void 0:i[e])||a;return s.useMemo(()=>({[`__scope${e}`]:{...i,[e]:f}}),[i,f])}};return o.scopeName=e,[r,ur(o,...n)]}function ur(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((i,{useScope:f,scopeName:u})=>{const v=f(a)[`__scope${u}`];return{...i,...v}},{});return s.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return t.scopeName=n.scopeName,t}const $t=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},dr=Hn.useId||(()=>{});let fr=0;function ct(e){const[n,t]=s.useState(dr());return $t(()=>{e||t(r=>r??String(fr++))},[e]),e||(n?`radix-${n}`:"")}function pe(e){const n=s.useRef(e);return s.useEffect(()=>{n.current=e}),s.useMemo(()=>(...t)=>{var r;return(r=n.current)===null||r===void 0?void 0:r.call(n,...t)},[])}function mr({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=vr({defaultProp:n,onChange:t}),a=e!==void 0,l=a?e:r,i=pe(t),f=s.useCallback(u=>{if(a){const v=typeof u=="function"?u(e):u;v!==e&&i(v)}else o(u)},[a,e,o,i]);return[l,f]}function vr({defaultProp:e,onChange:n}){const t=s.useState(e),[r]=t,o=s.useRef(r),a=pe(n);return s.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}const Ot=s.forwardRef((e,n)=>{const{children:t,...r}=e,o=s.Children.toArray(t),a=o.find(pr);if(a){const l=a.props.children,i=o.map(f=>f===a?s.Children.count(l)>1?s.Children.only(null):s.isValidElement(l)?l.props.children:null:f);return s.createElement(Et,U({},r,{ref:n}),s.isValidElement(l)?s.cloneElement(l,void 0,i):null)}return s.createElement(Et,U({},r,{ref:n}),t)});Ot.displayName="Slot";const Et=s.forwardRef((e,n)=>{const{children:t,...r}=e;return s.isValidElement(t)?s.cloneElement(t,{...gr(r,t.props),ref:n?cn(n,t.ref):t.ref}):s.Children.count(t)>1?s.Children.only(null):null});Et.displayName="SlotClone";const hr=({children:e})=>s.createElement(s.Fragment,null,e);function pr(e){return s.isValidElement(e)&&e.type===hr}function gr(e,n){const t={...n};for(const r in n){const o=e[r],a=n[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...i)=>{a(...i),o(...i)}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...e,...t}}const br=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=br.reduce((e,n)=>{const t=s.forwardRef((r,o)=>{const{asChild:a,...l}=r,i=a?Ot:n;return s.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),s.createElement(i,U({},l,{ref:o}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function wr(e,n){e&&nn.flushSync(()=>e.dispatchEvent(n))}function yr(e,n=globalThis==null?void 0:globalThis.document){const t=pe(e);s.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)},[t,n])}const xt="dismissableLayer.update",$r="dismissableLayer.pointerDownOutside",Er="dismissableLayer.focusOutside";let Ut;const xr=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cr=s.forwardRef((e,n)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:i,onDismiss:f,...u}=e,h=s.useContext(xr),[v,y]=s.useState(null),c=(t=v==null?void 0:v.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,N]=s.useState({}),m=Re(n,S=>y(S)),C=Array.from(h.layers),[p]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=C.indexOf(p),b=v?C.indexOf(v):-1,x=h.layersWithOutsidePointerEventsDisabled.size>0,g=b>=P,M=Sr(S=>{const A=S.target,B=[...h.branches].some(V=>V.contains(A));!g||B||(a==null||a(S),i==null||i(S),S.defaultPrevented||f==null||f())},c),w=Tr(S=>{const A=S.target;[...h.branches].some(V=>V.contains(A))||(l==null||l(S),i==null||i(S),S.defaultPrevented||f==null||f())},c);return yr(S=>{b===h.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&f&&(S.preventDefault(),f()))},c),s.useEffect(()=>{if(v)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ut=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(v)),h.layers.add(v),Bt(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=Ut)}},[v,c,r,h]),s.useEffect(()=>()=>{v&&(h.layers.delete(v),h.layersWithOutsidePointerEventsDisabled.delete(v),Bt())},[v,h]),s.useEffect(()=>{const S=()=>N({});return document.addEventListener(xt,S),()=>document.removeEventListener(xt,S)},[]),s.createElement(le.div,U({},u,{ref:m,style:{pointerEvents:x?g?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,w.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,M.onPointerDownCapture)}))});function Sr(e,n=globalThis==null?void 0:globalThis.document){const t=pe(e),r=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let u=function(){ln($r,t,f,{discrete:!0})};const f={originalEvent:i};i.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=u,n.addEventListener("click",o.current,{once:!0})):u()}else n.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",a),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function Tr(e,n=globalThis==null?void 0:globalThis.document){const t=pe(e),r=s.useRef(!1);return s.useEffect(()=>{const o=a=>{a.target&&!r.current&&ln(Er,t,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bt(){const e=new CustomEvent(xt);document.dispatchEvent(e)}function ln(e,n,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?wr(o,a):o.dispatchEvent(a)}const lt="focusScope.autoFocusOnMount",ut="focusScope.autoFocusOnUnmount",Wt={bubbles:!1,cancelable:!0},Dr=s.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[i,f]=s.useState(null),u=pe(o),h=pe(a),v=s.useRef(null),y=Re(n,m=>f(m)),c=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let m=function(b){if(c.paused||!i)return;const x=b.target;i.contains(x)?v.current=x:ie(v.current,{select:!0})},C=function(b){if(c.paused||!i)return;const x=b.relatedTarget;x!==null&&(i.contains(x)||ie(v.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const g of b)g.removedNodes.length>0&&ie(i)};document.addEventListener("focusin",m),document.addEventListener("focusout",C);const P=new MutationObserver(p);return i&&P.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",C),P.disconnect()}}},[r,i,c.paused]),s.useEffect(()=>{if(i){Vt.add(c);const m=document.activeElement;if(!i.contains(m)){const p=new CustomEvent(lt,Wt);i.addEventListener(lt,u),i.dispatchEvent(p),p.defaultPrevented||(Rr(Mr(un(i)),{select:!0}),document.activeElement===m&&ie(i))}return()=>{i.removeEventListener(lt,u),setTimeout(()=>{const p=new CustomEvent(ut,Wt);i.addEventListener(ut,h),i.dispatchEvent(p),p.defaultPrevented||ie(m??document.body,{select:!0}),i.removeEventListener(ut,h),Vt.remove(c)},0)}}},[i,u,h,c]);const N=s.useCallback(m=>{if(!t&&!r||c.paused)return;const C=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,p=document.activeElement;if(C&&p){const P=m.currentTarget,[b,x]=Nr(P);b&&x?!m.shiftKey&&p===x?(m.preventDefault(),t&&ie(b,{select:!0})):m.shiftKey&&p===b&&(m.preventDefault(),t&&ie(x,{select:!0})):p===P&&m.preventDefault()}},[t,r,c.paused]);return s.createElement(le.div,U({tabIndex:-1},l,{ref:y,onKeyDown:N}))});function Rr(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(ie(r,{select:n}),document.activeElement!==t)return}function Nr(e){const n=un(e),t=Ht(n,e),r=Ht(n.reverse(),e);return[t,r]}function un(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Ht(e,n){for(const t of e)if(!Or(t,{upTo:n}))return t}function Or(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ar(e){return e instanceof HTMLInputElement&&"select"in e}function ie(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Ar(e)&&n&&e.select()}}const Vt=Pr();function Pr(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=zt(e,n),e.unshift(n)},remove(n){var t;e=zt(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function zt(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function Mr(e){return e.filter(n=>n.tagName!=="A")}const jr=s.forwardRef((e,n)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...o}=e;return r?Vn.createPortal(s.createElement(le.div,U({},o,{ref:n})),r):null});function Ir(e,n){return s.useReducer((t,r)=>{const o=n[t][r];return o??t},e)}const nt=e=>{const{present:n,children:t}=e,r=_r(n),o=typeof t=="function"?t({present:r.isPresent}):s.Children.only(t),a=Re(r.ref,o.ref);return typeof t=="function"||r.isPresent?s.cloneElement(o,{ref:a}):null};nt.displayName="Presence";function _r(e){const[n,t]=s.useState(),r=s.useRef({}),o=s.useRef(e),a=s.useRef("none"),l=e?"mounted":"unmounted",[i,f]=Ir(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const u=ze(r.current);a.current=i==="mounted"?u:"none"},[i]),$t(()=>{const u=r.current,h=o.current;if(h!==e){const y=a.current,c=ze(u);e?f("MOUNT"):c==="none"||(u==null?void 0:u.display)==="none"?f("UNMOUNT"):f(h&&y!==c?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),$t(()=>{if(n){const u=v=>{const c=ze(r.current).includes(v.animationName);v.target===n&&c&&nn.flushSync(()=>f("ANIMATION_END"))},h=v=>{v.target===n&&(a.current=ze(r.current))};return n.addEventListener("animationstart",h),n.addEventListener("animationcancel",u),n.addEventListener("animationend",u),()=>{n.removeEventListener("animationstart",h),n.removeEventListener("animationcancel",u),n.removeEventListener("animationend",u)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:s.useCallback(u=>{u&&(r.current=getComputedStyle(u)),t(u)},[])}}function ze(e){return(e==null?void 0:e.animationName)||"none"}let dt=0;function Lr(){s.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:Yt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:Yt()),dt++,()=>{dt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dt--}},[])}function Yt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Z=function(){return Z=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Z.apply(this,arguments)};function dn(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function kr(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,a;r<o;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var et="right-scroll-bar-position",tt="width-before-scroll-bar",Fr="with-scroll-bars-hidden",Ur="--removed-body-scroll-bar-size";function ft(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function Br(e,n){var t=s.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var Wr=typeof window<"u"?s.useLayoutEffect:s.useEffect,Xt=new WeakMap;function Hr(e,n){var t=Br(null,function(r){return e.forEach(function(o){return ft(o,r)})});return Wr(function(){var r=Xt.get(t);if(r){var o=new Set(r),a=new Set(e),l=t.current;o.forEach(function(i){a.has(i)||ft(i,null)}),a.forEach(function(i){o.has(i)||ft(i,l)})}Xt.set(t,e)},[e]),t}function Vr(e){return e}function zr(e,n){n===void 0&&(n=Vr);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(a){var l=n(a,r);return t.push(l),function(){t=t.filter(function(i){return i!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(i){return a(i)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var i=t;t=[],i.forEach(a),l=t}var f=function(){var h=l;l=[],h.forEach(a)},u=function(){return Promise.resolve().then(f)};u(),t={push:function(h){l.push(h),u()},filter:function(h){return l=l.filter(h),t}}}};return o}function Yr(e){e===void 0&&(e={});var n=zr(null);return n.options=Z({async:!0,ssr:!1},e),n}var fn=function(e){var n=e.sideCar,t=dn(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return s.createElement(r,Z({},t))};fn.isSideCarExport=!0;function Xr(e,n){return e.useMedium(n),fn}var mn=Yr(),mt=function(){},rt=s.forwardRef(function(e,n){var t=s.useRef(null),r=s.useState({onScrollCapture:mt,onWheelCapture:mt,onTouchMoveCapture:mt}),o=r[0],a=r[1],l=e.forwardProps,i=e.children,f=e.className,u=e.removeScrollBar,h=e.enabled,v=e.shards,y=e.sideCar,c=e.noIsolation,N=e.inert,m=e.allowPinchZoom,C=e.as,p=C===void 0?"div":C,P=dn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=y,x=Hr([t,n]),g=Z(Z({},P),o);return s.createElement(s.Fragment,null,h&&s.createElement(b,{sideCar:mn,removeScrollBar:u,shards:v,noIsolation:c,inert:N,setCallbacks:a,allowPinchZoom:!!m,lockRef:t}),l?s.cloneElement(s.Children.only(i),Z(Z({},g),{ref:x})):s.createElement(p,Z({},g,{className:f,ref:x}),i))});rt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rt.classNames={fullWidth:tt,zeroRight:et};var Kr=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Kr();return n&&e.setAttribute("nonce",n),e}function Gr(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function Zr(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var Qr=function(){var e=0,n=null;return{add:function(t){e==0&&(n=qr())&&(Gr(n,t),Zr(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},Jr=function(){var e=Qr();return function(n,t){s.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},vn=function(){var e=Jr(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},eo={left:0,top:0,right:0,gap:0},vt=function(e){return parseInt(e||"",10)||0},to=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[vt(t),vt(r),vt(o)]},no=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eo;var n=to(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},ro=vn(),De="data-scroll-locked",oo=function(e,n,t,r){var o=e.left,a=e.top,l=e.right,i=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Fr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(De,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(et,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(tt,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(et," .").concat(et,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tt," .").concat(tt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(De,`] {
    `).concat(Ur,": ").concat(i,`px;
  }
`)},Kt=function(){var e=parseInt(document.body.getAttribute(De)||"0",10);return isFinite(e)?e:0},ao=function(){s.useEffect(function(){return document.body.setAttribute(De,(Kt()+1).toString()),function(){var e=Kt()-1;e<=0?document.body.removeAttribute(De):document.body.setAttribute(De,e.toString())}},[])},so=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;ao();var a=s.useMemo(function(){return no(o)},[o]);return s.createElement(ro,{styles:oo(a,!n,o,t?"":"!important")})},Ct=!1;if(typeof window<"u")try{var Ye=Object.defineProperty({},"passive",{get:function(){return Ct=!0,!0}});window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Ct=!1}var Ee=Ct?{passive:!1}:!1,io=function(e){return e.tagName==="TEXTAREA"},hn=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!io(e)&&t[n]==="visible")},co=function(e){return hn(e,"overflowY")},lo=function(e){return hn(e,"overflowX")},qt=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=pn(e,t);if(r){var o=gn(e,t),a=o[1],l=o[2];if(a>l)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},uo=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},fo=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},pn=function(e,n){return e==="v"?co(n):lo(n)},gn=function(e,n){return e==="v"?uo(n):fo(n)},mo=function(e,n){return e==="h"&&n==="rtl"?-1:1},vo=function(e,n,t,r,o){var a=mo(e,window.getComputedStyle(n).direction),l=a*r,i=t.target,f=n.contains(i),u=!1,h=l>0,v=0,y=0;do{var c=gn(e,i),N=c[0],m=c[1],C=c[2],p=m-C-a*N;(N||p)&&pn(e,i)&&(v+=p,y+=N),i=i.parentNode}while(!f&&i!==document.body||f&&(n.contains(i)||n===i));return(h&&(v===0||!o)||!h&&(y===0||!o))&&(u=!0),u},Xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gt=function(e){return[e.deltaX,e.deltaY]},Zt=function(e){return e&&"current"in e?e.current:e},ho=function(e,n){return e[0]===n[0]&&e[1]===n[1]},po=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},go=0,xe=[];function bo(e){var n=s.useRef([]),t=s.useRef([0,0]),r=s.useRef(),o=s.useState(go++)[0],a=s.useState(function(){return vn()})[0],l=s.useRef(e);s.useEffect(function(){l.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=kr([e.lockRef.current],(e.shards||[]).map(Zt),!0).filter(Boolean);return m.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=s.useCallback(function(m,C){if("touches"in m&&m.touches.length===2)return!l.current.allowPinchZoom;var p=Xe(m),P=t.current,b="deltaX"in m?m.deltaX:P[0]-p[0],x="deltaY"in m?m.deltaY:P[1]-p[1],g,M=m.target,w=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&w==="h"&&M.type==="range")return!1;var S=qt(w,M);if(!S)return!0;if(S?g=w:(g=w==="v"?"h":"v",S=qt(w,M)),!S)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=g),!g)return!0;var A=r.current||g;return vo(A,C,m,A==="h"?b:x,!0)},[]),f=s.useCallback(function(m){var C=m;if(!(!xe.length||xe[xe.length-1]!==a)){var p="deltaY"in C?Gt(C):Xe(C),P=n.current.filter(function(g){return g.name===C.type&&g.target===C.target&&ho(g.delta,p)})[0];if(P&&P.should){C.cancelable&&C.preventDefault();return}if(!P){var b=(l.current.shards||[]).map(Zt).filter(Boolean).filter(function(g){return g.contains(C.target)}),x=b.length>0?i(C,b[0]):!l.current.noIsolation;x&&C.cancelable&&C.preventDefault()}}},[]),u=s.useCallback(function(m,C,p,P){var b={name:m,delta:C,target:p,should:P};n.current.push(b),setTimeout(function(){n.current=n.current.filter(function(x){return x!==b})},1)},[]),h=s.useCallback(function(m){t.current=Xe(m),r.current=void 0},[]),v=s.useCallback(function(m){u(m.type,Gt(m),m.target,i(m,e.lockRef.current))},[]),y=s.useCallback(function(m){u(m.type,Xe(m),m.target,i(m,e.lockRef.current))},[]);s.useEffect(function(){return xe.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Ee),document.addEventListener("touchmove",f,Ee),document.addEventListener("touchstart",h,Ee),function(){xe=xe.filter(function(m){return m!==a}),document.removeEventListener("wheel",f,Ee),document.removeEventListener("touchmove",f,Ee),document.removeEventListener("touchstart",h,Ee)}},[]);var c=e.removeScrollBar,N=e.inert;return s.createElement(s.Fragment,null,N?s.createElement(a,{styles:po(o)}):null,c?s.createElement(so,{gapMode:"margin"}):null)}const wo=Xr(mn,bo);var bn=s.forwardRef(function(e,n){return s.createElement(rt,Z({},e,{ref:n,sideCar:wo}))});bn.classNames=rt.classNames;var yo=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Ce=new WeakMap,Ke=new WeakMap,qe={},ht=0,wn=function(e){return e&&(e.host||wn(e.parentNode))},$o=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=wn(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Eo=function(e,n,t,r){var o=$o(n,Array.isArray(e)?e:[e]);qe[t]||(qe[t]=new WeakMap);var a=qe[t],l=[],i=new Set,f=new Set(o),u=function(v){!v||i.has(v)||(i.add(v),u(v.parentNode))};o.forEach(u);var h=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(y){if(i.has(y))h(y);else try{var c=y.getAttribute(r),N=c!==null&&c!=="false",m=(Ce.get(y)||0)+1,C=(a.get(y)||0)+1;Ce.set(y,m),a.set(y,C),l.push(y),m===1&&N&&Ke.set(y,!0),C===1&&y.setAttribute(t,"true"),N||y.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",y,p)}})};return h(n),i.clear(),ht++,function(){l.forEach(function(v){var y=Ce.get(v)-1,c=a.get(v)-1;Ce.set(v,y),a.set(v,c),y||(Ke.has(v)||v.removeAttribute(r),Ke.delete(v)),c||v.removeAttribute(t)}),ht--,ht||(Ce=new WeakMap,Ce=new WeakMap,Ke=new WeakMap,qe={})}},xo=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=yo(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Eo(r,o,t,"aria-hidden")):function(){return null}};const yn="Dialog",[$n,Ta]=lr(yn),[Co,K]=$n(yn),So=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,i=s.useRef(null),f=s.useRef(null),[u=!1,h]=mr({prop:r,defaultProp:o,onChange:a});return s.createElement(Co,{scope:n,triggerRef:i,contentRef:f,contentId:ct(),titleId:ct(),descriptionId:ct(),open:u,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(v=>!v),[h]),modal:l},t)},To="DialogTrigger",Do=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=K(To,t),a=Re(n,o.triggerRef);return s.createElement(le.button,U({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":At(o.open)},r,{ref:a,onClick:ce(e.onClick,o.onOpenToggle)}))}),En="DialogPortal",[Ro,xn]=$n(En,{forceMount:void 0}),No=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:o}=e,a=K(En,n);return s.createElement(Ro,{scope:n,forceMount:t},s.Children.map(r,l=>s.createElement(nt,{present:t||a.open},s.createElement(jr,{asChild:!0,container:o},l))))},St="DialogOverlay",Oo=s.forwardRef((e,n)=>{const t=xn(St,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=K(St,e.__scopeDialog);return a.modal?s.createElement(nt,{present:r||a.open},s.createElement(Ao,U({},o,{ref:n}))):null}),Ao=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=K(St,t);return s.createElement(bn,{as:Ot,allowPinchZoom:!0,shards:[o.contentRef]},s.createElement(le.div,U({"data-state":At(o.open)},r,{ref:n,style:{pointerEvents:"auto",...r.style}})))}),je="DialogContent",Po=s.forwardRef((e,n)=>{const t=xn(je,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=K(je,e.__scopeDialog);return s.createElement(nt,{present:r||a.open},a.modal?s.createElement(Mo,U({},o,{ref:n})):s.createElement(jo,U({},o,{ref:n})))}),Mo=s.forwardRef((e,n)=>{const t=K(je,e.__scopeDialog),r=s.useRef(null),o=Re(n,t.contentRef,r);return s.useEffect(()=>{const a=r.current;if(a)return xo(a)},[]),s.createElement(Cn,U({},e,{ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&a.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,a=>a.preventDefault())}))}),jo=s.forwardRef((e,n)=>{const t=K(je,e.__scopeDialog),r=s.useRef(!1),o=s.useRef(!1);return s.createElement(Cn,U({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,a),!a.defaultPrevented){var i;r.current||(i=t.triggerRef.current)===null||i===void 0||i.focus(),a.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:a=>{var l,i;(l=e.onInteractOutside)===null||l===void 0||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const f=a.target;((i=t.triggerRef.current)===null||i===void 0?void 0:i.contains(f))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}}))}),Cn=s.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=e,i=K(je,t),f=s.useRef(null),u=Re(n,f);return Lr(),s.createElement(s.Fragment,null,s.createElement(Dr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a},s.createElement(Cr,U({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":At(i.open)},l,{ref:u,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),Io="DialogTitle",_o=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=K(Io,t);return s.createElement(le.h2,U({id:o.titleId},r,{ref:n}))}),Lo="DialogDescription",ko=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=K(Lo,t);return s.createElement(le.p,U({id:o.descriptionId},r,{ref:n}))}),Fo="DialogClose",Uo=s.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=K(Fo,t);return s.createElement(le.button,U({type:"button"},r,{ref:n,onClick:ce(e.onClick,()=>o.onOpenChange(!1))}))});function At(e){return e?"open":"closed"}const Bo=So,Wo=Do,Ho=No,Vo=Oo,zo=Po,Yo=_o,Xo=ko,Ko=Uo;function qo(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const Sn=$.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),Pt=()=>$.useContext(Sn);qo("[vaul-drawer]{touch-action:none;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}");const Go=typeof window<"u"?s.useLayoutEffect:s.useEffect;function Tt(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function Zo(){return Mt(/^Mac/)}function Qo(){return Mt(/^iPhone/)}function Jo(){return Mt(/^iPad/)||Zo()&&navigator.maxTouchPoints>1}function Tn(){return Qo()||Jo()}function Mt(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const pt=typeof document<"u"&&window.visualViewport;function Qt(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Dn(e){for(Qt(e)&&(e=e.parentElement);e&&!Qt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const ea=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ge=0,gt;function ta(e={}){let{isDisabled:n}=e;Go(()=>{if(!n)return Ge++,Ge===1&&(Tn()?gt=ra():gt=na()),()=>{Ge--,Ge===0&&gt()}},[n])}function na(){return Tt(Rn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function ra(){let e,n=0,t=f=>{e=Dn(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let u=f.changedTouches[0].pageY,h=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((h<=0&&u>n||h>=v&&u<n)&&f.preventDefault(),n=u)},o=f=>{let u=f.target;Dt(u)&&u!==document.activeElement&&(f.preventDefault(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""}))},a=f=>{let u=f.target;Dt(u)&&(u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",pt&&(pt.height<window.innerHeight?requestAnimationFrame(()=>{Jt(u)}):pt.addEventListener("resize",()=>Jt(u),{once:!0}))}))},l=Tt(Rn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`)),i=Tt(Ze(document,"touchstart",t,{passive:!1,capture:!0}),Ze(document,"touchmove",r,{passive:!1,capture:!0}),Ze(document,"touchend",o,{passive:!1,capture:!0}),Ze(document,"focus",a,!0));return()=>{l(),i()}}function Rn(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function Ze(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function Jt(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=Dn(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,o=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const l=t.getBoundingClientRect().bottom;a>l&&(t.scrollTop+=o-r)}e=t.parentElement}}function Dt(e){return e instanceof HTMLInputElement&&!ea.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function oa(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function aa(...e){return n=>e.forEach(t=>oa(t,n))}function Nn(...e){return s.useCallback(aa(...e),e)}let ae=null;function sa({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:o}){const[a,l]=$.useState(typeof window<"u"?window.location.href:""),i=$.useRef(0),f=$.useCallback(()=>{if(ae===null&&e){ae={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:h,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-i.current}px`,document.body.style.left=`${-h}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{console.log(["scrollPosition",i.current,v]),i.current>=v&&(document.body.style.top=`${-i.current}px`)}),300)}},[e]),u=$.useCallback(()=>{if(ae!==null){const h=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);document.body.style.position=ae.position,document.body.style.top=ae.top,document.body.style.left=ae.left,document.body.style.height=ae.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(o&&a!==window.location.href){l(window.location.href);return}window.scrollTo(v,h)}),ae=null}},[a]);return $.useEffect(()=>{function h(){i.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),$.useEffect(()=>{t||!r||(e?n||setTimeout(()=>{u()},500):u())},[e,r,a,n,t,f,u]),{restorePositionSetting:u}}const On=new WeakMap;function I(e,n,t=!1){if(!e||!(e instanceof HTMLElement)||!n)return;let r={};Object.entries(n).forEach(([o,a])=>{if(o.startsWith("--")){e.style.setProperty(o,a);return}r[o]=e.style[o],e.style[o]=a}),!t&&On.set(e,r)}function Qe(e,n){if(!e||!(e instanceof HTMLElement))return;let t=On.get(e);t&&(n?e.style[n]=t[n]:Object.entries(t).forEach(([r,o])=>{e.style[r]=o}))}const F=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Je(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[F(n)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[F(n)?5:4]):null)}function ia(e){return 8*(Math.log(e+1)-2)}const j={DURATION:.5,EASE:[.32,.72,0,1]},An=.4;function Pn(e){const n=$.useRef(e);return $.useEffect(()=>{n.current=e}),$.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function ca({defaultProp:e,onChange:n}){const t=$.useState(e),[r]=t,o=$.useRef(r),a=Pn(n);return $.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}function la({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,o]=ca({defaultProp:n,onChange:t}),a=e!==void 0,l=a?e:r,i=Pn(t),f=$.useCallback(u=>{if(a){const v=typeof u=="function"?u(e):u;v!==e&&i(v)}else o(u)},[a,e,o,i]);return[l,f]}function ua({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:o,fadeFromIndex:a,onSnapPointChange:l,direction:i="bottom"}){const[f,u]=la({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),h=$.useMemo(()=>f===(t==null?void 0:t[t.length-1])||null,[t,f]),v=t&&t.length>0&&(a||a===0)&&!Number.isNaN(a)&&t[a]===f||!t,y=$.useMemo(()=>t==null?void 0:t.findIndex(b=>b===f),[t,f]),c=$.useMemo(()=>{var b;return(b=t==null?void 0:t.map(x=>{const g=typeof window<"u",M=typeof x=="string";let w=0;if(M&&(w=parseInt(x,10)),F(i)){const A=M?w:g?x*window.innerHeight:0;return g?i==="bottom"?window.innerHeight-A:-window.innerHeight+A:A}const S=M?w:g?x*window.innerWidth:0;return g?i==="right"?window.innerWidth-S:-window.innerWidth+S:S}))!=null?b:[]},[t]),N=$.useMemo(()=>y!==null?c==null?void 0:c[y]:null,[c,y]),m=$.useCallback(b=>{var x;const g=(x=c==null?void 0:c.findIndex(M=>M===b))!=null?x:null;l(g),I(r.current,{transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,transform:F(i)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`}),c&&g!==c.length-1&&g!==a?I(o.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,opacity:"0"}):I(o.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,opacity:"1"}),u(g!==null?t==null?void 0:t[g]:null)},[r.current,t,c,a,o,u]);$.useEffect(()=>{if(e){var b;const x=(b=t==null?void 0:t.findIndex(g=>g===e))!=null?b:-1;c&&x!==-1&&typeof c[x]=="number"&&m(c[x])}},[e,t,c,m]);function C({draggedDistance:b,closeDrawer:x,velocity:g,dismissible:M}){if(a===void 0)return;const w=i==="bottom"||i==="right"?(N??0)-b:(N??0)+b,S=y===a-1,A=y===0,B=b>0;if(S&&I(o.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`}),g>2&&!B){M?x():m(c[0]);return}if(g>2&&B&&c&&t){m(c[t.length-1]);return}const V=c==null?void 0:c.reduce((W,z)=>typeof W!="number"||typeof z!="number"?W:Math.abs(z-w)<Math.abs(W-w)?z:W),Y=F(i)?window.innerHeight:window.innerWidth;if(g>An&&Math.abs(b)<Y*.4){const W=B?1:-1;if(W>0&&h){m(c[t.length-1]);return}if(A&&W<0&&M&&x(),y===null)return;m(c[y+W]);return}m(V)}function p({draggedDistance:b}){if(N===null)return;const x=i==="bottom"||i==="right"?N-b:N+b;(i==="bottom"||i==="right")&&x<c[c.length-1]||(i==="top"||i==="left")&&x>c[c.length-1]||I(r.current,{transform:F(i)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})}function P(b,x){if(!t||typeof y!="number"||!c||a===void 0)return null;const g=y===a-1;if(y>=a&&x)return 0;if(g&&!x)return 1;if(!v&&!g)return null;const w=g?y+1:y-1,S=g?c[w]-c[w-1]:c[w+1]-c[w],A=b/Math.abs(S);return g?1-A:A}return{isLastSnapPoint:h,activeSnapPoint:f,shouldFade:v,getPercentageDragged:P,setActiveSnapPoint:u,activeSnapPointIndex:y,onRelease:C,onDrag:p,snapPointsOffset:c}}const da=.25,fa=100,en=8,ve=16,tn=26,bt="vaul-dragging";function Mn({open:e,onOpenChange:n,children:t,shouldScaleBackground:r,onDrag:o,onRelease:a,snapPoints:l,nested:i=!1,closeThreshold:f=da,scrollLockTimeout:u=fa,dismissible:h=!0,fadeFromIndex:v=l&&l.length-1,activeSnapPoint:y,setActiveSnapPoint:c,fixed:N,modal:m=!0,onClose:C,direction:p="bottom",preventScrollRestoration:P=!0,disablePreventScroll:b=!1}){var x;const[g=!1,M]=$.useState(!1),[w,S]=$.useState(!1),[A,B]=$.useState(!1),[V,Y]=$.useState(!1),[W,z]=$.useState(!1),[_e,Ne]=$.useState(!1),q=$.useRef(null),ee=$.useRef(null),ge=$.useRef(null),be=$.useRef(null),ue=$.useRef(null),de=$.useRef(!1),we=$.useRef(null),ye=$.useRef(0),te=$.useRef(!1),Oe=$.useRef(0),D=$.useRef(null),Le=$.useRef(((x=D.current)==null?void 0:x.getBoundingClientRect().height)||0),Ae=$.useRef(0),Pe=$.useCallback(T=>{l&&T===ne.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:ot,activeSnapPointIndex:fe,setActiveSnapPoint:ke,onRelease:Fe,snapPointsOffset:ne,onDrag:Ue,shouldFade:E,getPercentageDragged:H}=ua({snapPoints:l,activeSnapPointProp:y,setActiveSnapPointProp:c,drawerRef:D,fadeFromIndex:v,overlayRef:q,onSnapPointChange:Pe,direction:p});ta({isDisabled:!g||W||!m||_e||!w||b});const{restorePositionSetting:Be}=sa({isOpen:g,modal:m,nested:i,hasBeenOpened:w,preventScrollRestoration:P});function re(){return(window.innerWidth-tn)/window.innerWidth}function Me(T){var R;!h&&!l||D.current&&!D.current.contains(T.target)||(Le.current=((R=D.current)==null?void 0:R.getBoundingClientRect().height)||0,z(!0),ge.current=new Date,Tn()&&window.addEventListener("touchend",()=>de.current=!1,{once:!0}),T.target.setPointerCapture(T.pointerId),ye.current=F(p)?T.clientY:T.clientX)}function jt(T,R){var _;let O=T;const L=(_=window.getSelection())==null?void 0:_.toString(),k=D.current?Je(D.current,p):null,X=new Date;if(O.hasAttribute("data-vaul-no-drag")||O.closest("[data-vaul-no-drag]"))return!1;if(p==="right"||p==="left")return!0;if(ee.current&&X.getTime()-ee.current.getTime()<500)return!1;if(k!==null&&(p==="bottom"?k>0:k<0))return!0;if(L&&L.length>0)return!1;if(ue.current&&X.getTime()-ue.current.getTime()<u&&k===0||R)return ue.current=X,!1;for(;O;){if(O.scrollHeight>O.clientHeight){if(O.scrollTop!==0)return ue.current=new Date,!1;if(O.getAttribute("role")==="dialog")return!0}O=O.parentNode}return!0}function Ln(T){if(D.current&&W){const R=p==="bottom"||p==="right"?1:-1,_=(ye.current-(F(p)?T.clientY:T.clientX))*R,O=_>0,L=l&&!h&&!O;if(L&&fe===0)return;const k=Math.abs(_),X=document.querySelector("[vaul-drawer-wrapper]");let G=k/Le.current;const oe=H(k,O);if(oe!==null&&(G=oe),L&&G>=1||!de.current&&!jt(T.target,O))return;if(D.current.classList.add(bt),de.current=!0,I(D.current,{transition:"none"}),I(q.current,{transition:"none"}),l&&Ue({draggedDistance:_}),O&&!l){const me=ia(_),Ve=Math.min(me*-1,0)*R;I(D.current,{transform:F(p)?`translate3d(0, ${Ve}px, 0)`:`translate3d(${Ve}px, 0, 0)`});return}const He=1-G;if((E||v&&fe===v-1)&&(o==null||o(T,G),I(q.current,{opacity:`${He}`,transition:"none"},!0)),X&&q.current&&r){const me=Math.min(re()+G*(1-re()),1),Ve=8-G*8,_t=Math.max(0,14-G*14);I(X,{borderRadius:`${Ve}px`,transform:F(p)?`scale(${me}) translate3d(0, ${_t}px, 0)`:`scale(${me}) translate3d(${_t}px, 0, 0)`,transition:"none"},!0)}if(!l){const me=k*R;I(D.current,{transform:F(p)?`translate3d(0, ${me}px, 0)`:`translate3d(${me}px, 0, 0)`})}}}$.useEffect(()=>()=>{We(!1),Be()},[]),$.useEffect(()=>{var T;function R(){if(!D.current)return;const _=document.activeElement;if(Dt(_)||te.current){var O;const L=((O=window.visualViewport)==null?void 0:O.height)||0;let k=window.innerHeight-L;const X=D.current.getBoundingClientRect().height||0;Ae.current||(Ae.current=X);const G=D.current.getBoundingClientRect().top;if(Math.abs(Oe.current-k)>60&&(te.current=!te.current),l&&l.length>0&&ne&&fe){const oe=ne[fe]||0;k+=oe}if(Oe.current=k,X>L||te.current){const oe=D.current.getBoundingClientRect().height;let He=oe;oe>L&&(He=L-tn),N?D.current.style.height=`${oe-Math.max(k,0)}px`:D.current.style.height=`${Math.max(He,L-G)}px`}else D.current.style.height=`${Ae.current}px`;l&&l.length>0&&!te.current?D.current.style.bottom="0px":D.current.style.bottom=`${Math.max(k,0)}px`}}return(T=window.visualViewport)==null||T.addEventListener("resize",R),()=>{var _;return(_=window.visualViewport)==null?void 0:_.removeEventListener("resize",R)}},[fe,l,ne]);function $e(){D.current&&(kn(),C==null||C(),I(D.current,{transform:F(p)?`translate3d(0, ${p==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${p==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`}),I(q.current,{opacity:"0",transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`}),We(!1),setTimeout(()=>{B(!1),M(!1)},300),setTimeout(()=>{l&&ke(l[0])},j.DURATION*1e3))}$.useEffect(()=>{if(!g&&r){const T=setTimeout(()=>{Qe(document.body)},200);return()=>clearTimeout(T)}},[g,r]),$.useLayoutEffect(()=>{e?(M(!0),S(!0)):$e()},[e]),$.useEffect(()=>{V&&(n==null||n(g))},[g]),$.useEffect(()=>{Y(!0)},[]);function It(){if(!D.current)return;const T=document.querySelector("[vaul-drawer-wrapper]"),R=Je(D.current,p);I(D.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`}),I(q.current,{transition:`opacity ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,opacity:"1"}),r&&R&&R>0&&g&&I(T,{borderRadius:`${en}px`,overflow:"hidden",...F(p)?{transform:`scale(${re()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${re()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${j.DURATION}s`,transitionTimingFunction:`cubic-bezier(${j.EASE.join(",")})`},!0)}function kn(){!W||!D.current||(D.current.classList.remove(bt),de.current=!1,z(!1),be.current=new Date)}function Fn(T){if(!W||!D.current)return;D.current.classList.remove(bt),de.current=!1,z(!1),be.current=new Date;const R=Je(D.current,p);if(!jt(T.target,!1)||!R||Number.isNaN(R)||ge.current===null)return;const _=be.current.getTime()-ge.current.getTime(),O=ye.current-(F(p)?T.clientY:T.clientX),L=Math.abs(O)/_;if(L>.05&&(Ne(!0),setTimeout(()=>{Ne(!1)},200)),l){Fe({draggedDistance:O*(p==="bottom"||p==="right"?1:-1),closeDrawer:$e,velocity:L,dismissible:h}),a==null||a(T,!0);return}if(p==="bottom"||p==="right"?O>0:O<0){It(),a==null||a(T,!0);return}if(L>An){$e(),a==null||a(T,!1);return}var k;const X=Math.min((k=D.current.getBoundingClientRect().height)!=null?k:0,window.innerHeight);if(R>=X*f){$e(),a==null||a(T,!1);return}a==null||a(T,!0),It()}$.useEffect(()=>{g&&(I(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date,We(!0))},[g]),$.useEffect(()=>{if(D.current&&A){var T;const R=D==null||(T=D.current)==null?void 0:T.querySelectorAll("*");R==null||R.forEach(_=>{const O=_;(O.scrollHeight>O.clientHeight||O.scrollWidth>O.clientWidth)&&O.classList.add("vaul-scrollable")})}},[A]);function We(T){const R=document.querySelector("[vaul-drawer-wrapper]");!R||!r||(T?(I(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),I(document.body,{background:"black"},!0),I(R,{borderRadius:`${en}px`,overflow:"hidden",...F(p)?{transform:`scale(${re()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${re()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${j.DURATION}s`,transitionTimingFunction:`cubic-bezier(${j.EASE.join(",")})`})):(Qe(R,"overflow"),Qe(R,"transform"),Qe(R,"borderRadius"),I(R,{transitionProperty:"transform, border-radius",transitionDuration:`${j.DURATION}s`,transitionTimingFunction:`cubic-bezier(${j.EASE.join(",")})`})))}function Un(T){const R=T?(window.innerWidth-ve)/window.innerWidth:1,_=T?-ve:0;we.current&&window.clearTimeout(we.current),I(D.current,{transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,transform:`scale(${R}) translate3d(0, ${_}px, 0)`}),!T&&D.current&&(we.current=setTimeout(()=>{const O=Je(D.current,p);I(D.current,{transition:"none",transform:F(p)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`})},500))}function Bn(T,R){if(R<0)return;const _=F(p)?window.innerHeight:window.innerWidth,O=(_-ve)/_,L=O+R*(1-O),k=-ve+R*ve;I(D.current,{transform:F(p)?`scale(${L}) translate3d(0, ${k}px, 0)`:`scale(${L}) translate3d(${k}px, 0, 0)`,transition:"none"})}function Wn(T,R){const _=F(p)?window.innerHeight:window.innerWidth,O=R?(_-ve)/_:1,L=R?-ve:0;R&&I(D.current,{transition:`transform ${j.DURATION}s cubic-bezier(${j.EASE.join(",")})`,transform:F(p)?`scale(${O}) translate3d(0, ${L}px, 0)`:`scale(${O}) translate3d(${L}px, 0, 0)`})}return $.createElement(Bo,{modal:m,onOpenChange:T=>{if(e!==void 0){n==null||n(T);return}T?(S(!0),M(T)):$e()},open:g},$.createElement(Sn.Provider,{value:{visible:A,activeSnapPoint:ot,snapPoints:l,setActiveSnapPoint:ke,drawerRef:D,overlayRef:q,scaleBackground:We,onOpenChange:n,onPress:Me,setVisible:B,onRelease:Fn,onDrag:Ln,dismissible:h,isOpen:g,shouldFade:E,closeDrawer:$e,onNestedDrag:Bn,onNestedOpenChange:Un,onNestedRelease:Wn,keyboardIsOpen:te,openProp:e,modal:m,snapPointsOffset:ne,direction:p}},t))}const jn=$.forwardRef(function({children:e,...n},t){const{overlayRef:r,snapPoints:o,onRelease:a,shouldFade:l,isOpen:i,visible:f}=Pt(),u=Nn(t,r),h=o&&o.length>0;return $.createElement(Vo,{onMouseUp:a,ref:u,"vaul-drawer-visible":f?"true":"false","vaul-overlay":"","vaul-snap-points":i&&h?"true":"false","vaul-snap-points-overlay":i&&l?"true":"false",...n})});jn.displayName="Drawer.Overlay";const In=$.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:n,onAnimationEnd:t,style:r,...o},a){const{drawerRef:l,onPress:i,onRelease:f,onDrag:u,dismissible:h,keyboardIsOpen:v,snapPointsOffset:y,visible:c,closeDrawer:N,modal:m,openProp:C,onOpenChange:p,setVisible:P,direction:b}=Pt(),x=Nn(a,l),g=$.useRef(null);$.useEffect(()=>{P(!0)},[]);const M=(w,S,A=0)=>{const B=Math.abs(w.x),V=Math.abs(w.y),Y=B>V;return S==="left"||S==="right"?Y&&B>A:!Y&&V>A};return $.createElement(zo,{"vaul-drawer":"","vaul-drawer-direction":b,"vaul-drawer-visible":c?"true":"false",...o,ref:x,style:y&&y.length>0?{"--snap-point-height":`${y[0]}px`,...r}:r,onOpenAutoFocus:w=>{if(e)e(w);else{var S;w.preventDefault(),(S=l.current)==null||S.focus()}},onPointerDown:w=>{o.onPointerDown==null||o.onPointerDown.call(o,w),g.current={x:w.clientX,y:w.clientY},i(w)},onPointerDownOutside:w=>{if(n==null||n(w),!m||w.defaultPrevented){w.preventDefault();return}v.current&&(v.current=!1),w.preventDefault(),p==null||p(!1),!(!h||C!==void 0)&&N()},onPointerMove:w=>{if(o.onPointerMove==null||o.onPointerMove.call(o,w),!g.current)return null;const S=w.clientY-g.current.y,A=w.clientX-g.current.x,B=["left","right"].includes(b),V=["left","top"].includes(b)?Math.min:Math.max,Y=B?V(0,A):0,W=B?0:V(0,S),z=w.pointerType==="touch"?10:2;M({x:Y,y:W},b,z)?u(w):(Math.abs(A)>z||Math.abs(S)>z)&&(g.current=null)},onPointerUp:w=>{o.onPointerUp==null||o.onPointerUp.call(o,w),g.current=null,f(w)}})});In.displayName="Drawer.Content";function ma({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:r,onNestedOpenChange:o,onNestedRelease:a}=Pt();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return $.createElement(Mn,{nested:!0,onClose:()=>{o(!1)},onDrag:(l,i)=>{r(l,i),e==null||e(l,i)},onOpenChange:l=>{l&&o(l),n==null||n(l)},onRelease:a,...t})}const he={Root:Mn,NestedRoot:ma,Content:In,Overlay:jn,Trigger:Wo,Portal:Ho,Close:Ko,Title:Yo,Description:Xo},va=e=>d.jsx(he.Close,Rt({asChild:!0},e)),ha=e=>{let n=e;e.length===4&&(n=e.replace(/([^#])/g,"$1$1"));const t=parseInt(n.replace("#",""),16),r=t>>16,o=t>>8;return[r&255,o&255,t&255]},pa=[255,255,255],ga=[33,33,33],_n=s.forwardRef((e,n)=>{var{className:t}=e,r=rn(e,["className"]);const o=on(),[a,l,i]=s.useMemo(()=>{const f=zn();return f&&f.themeParams.bg_color?ha(f.themeParams.bg_color):o.appearance==="light"?pa:ga},[o.appearance]);return d.jsx(he.Overlay,Rt({ref:n,style:{background:`rgba(${a}, ${l}, ${i}, .4)`},className:an("tgui-3197096cb603b35a",t)},r))}),Ie=s.forwardRef((e,n)=>{var{overlayComponent:t=d.jsx(_n,{}),open:r,onOpenChange:o,header:a,className:l,children:i,nested:f,trigger:u,closeThreshold:h,scrollLockTimeout:v,snapPoints:y,fadeFromIndex:c,modal:N,preventScrollRestoration:m,dismissible:C}=e,p=rn(e,["overlayComponent","open","onOpenChange","header","className","children","nested","trigger","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","modal","preventScrollRestoration","dismissible"]),P;const b=on(),[x,g]=s.useState((P=b.portalContainer)===null||P===void 0?void 0:P.current);s.useEffect(()=>{var w;g((w=b.portalContainer)===null||w===void 0?void 0:w.current)},[b.portalContainer]);const M=f?he.NestedRoot:he.Root;return d.jsxs(M,{open:r,onOpenChange:o,closeThreshold:h,scrollLockTimeout:v,snapPoints:y,fadeFromIndex:c,modal:N,preventScrollRestoration:m,dismissible:C,children:[u&&d.jsx(he.Trigger,{asChild:!0,children:u}),d.jsxs(he.Portal,{container:x,children:[t,d.jsxs(he.Content,Yn(Rt({ref:n,className:an("tgui-cc76354712c6e8d9",l)},p),{children:[a,d.jsx("div",{className:"tgui-5dc6ad1ca3ac3ed4",children:i})]}))]})]})});Ie.Header=Nt;Ie.Overlay=_n;Ie.Close=va;const Se=e=>Number(e)*Math.PI/180,ba=(e,n)=>{if(!e||!n)return 0;const t=6378.137,r=Se(n.latitude)-Se(e.latitude),o=Se(n.longitude)-Se(e.longitude),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(Se(e.latitude))*Math.cos(Se(n.latitude))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),i=t*l;return Number(i.toFixed(3))},Da=({task:e,mode:n})=>{const t=Te(Xn),r=Te(h=>wt(h,e.id)),[o,a]=s.useState(!1),l=()=>{a(!0),console.log("Modal opened")},i=()=>{a(!1),console.log("Modal closed")},[f,u]=s.useState();return s.useEffect(()=>{var h;u(ba((h=e.location)==null?void 0:h.latLong,t.latLong))},[t,e]),d.jsxs(d.Fragment,{children:[d.jsx(se,{before:d.jsx(sr,{children:"CS"}),id:e.id,className:"w-full select-none",multiline:!1,description:e.desc,after:d.jsx("span",{children:e.reward}),titleBadge:r?d.jsx(yt,{className:"bg-yellow-600",mode:"critical",type:"number",children:"!"}):d.jsx(d.Fragment,{}),subhead:f+" km",onClick:l,children:e.title}),d.jsx(Ie,{open:o,onOpenChange:h=>a(h),className:"z-10 h-3/4",header:d.jsx(Nt,{after:d.jsx(sn,{className:"text-[--tg-theme-plain-foreground] h-4",onClick:i})}),children:d.jsx(wa,{taskId:e.id,closeModal:i,mode:n})})]})},wa=({taskId:e="-1",closeModal:n,mode:t})=>{var Fe,ne,Ue;const r=Kn(),o=Te(qn),[a,l]=s.useState(Te(E=>wt(E,e))),[i,f]=s.useState(Te(E=>wt(E,e))),[u,h]=s.useState([]),v=Te(E=>Gn(E,e)),y=JSON.parse(sessionStorage.getItem("task-"+e)||"{}"),[c,N]=s.useState(i?y:v),[m,C]=s.useState(c.title),[p,P]=s.useState(c.desc),[b,x]=s.useState(Number(c.reward.split(" ")[0])),[g,M]=s.useState(c.reward.split(" ")[1]),[w,S]=s.useState(c.attachments||[]),[A,B]=s.useState(c.location),V=E=>{c&&(E.preventDefault(),console.log("Edit mode handler"),o.id===c.customer&&l(!0),a&&!i&&l(!1))},Y=s.useCallback(E=>E,[]);s.useEffect(()=>{c&&r(i?Zn(c.id):at(c.id))},[i,r,c]),s.useEffect(()=>{if(m!==c.title||p!==c.desc||b!==Number(c.reward.split(" ")[0])||g!==c.reward.split(" ")[1]||w!==c.attachments||A!==c.location){sessionStorage.setItem("task-"+(c==null?void 0:c.id),JSON.stringify(Y({id:c.id,specials:c.specials,status:c.status,title:m,desc:p,reward:b+" "+g,customer:c.customer,location:A,attachments:w})));const E=[];(c==null?void 0:c.title)!==m&&E.push("title"),(c==null?void 0:c.desc)!==p&&E.push("description"),(c==null?void 0:c.reward)!==b+" "+g&&E.push("reward"),(c==null?void 0:c.attachments)!==w&&E.push("attachments"),(c==null?void 0:c.location)!==A&&E.push("address"),h(E),console.log(E),f(!0)}else f(!1),h([]),sessionStorage.removeItem("task-"+(c==null?void 0:c.id))},[m,p,b,g,w,A,c,Y]);const W=E=>{c&&(E.preventDefault(),console.log("Changes saved"),r(at(c.id)),r(er(Y({id:c.id,specials:c.specials,status:c.status,title:m,desc:p,reward:b+" "+g,customer:c.customer,location:A,attachments:w}))),l(!1),f(!1))},z=E=>{E.preventDefault(),console.log("Changes canceled"),r(at((c==null?void 0:c.id)||"")),N(v),l(!1),f(!1)},_e=E=>{if(c){const H=E.currentTarget.files;if(H&&(H==null?void 0:H.length)>0){const Be=[];for(let Me=0;Me<H.length;Me++)Be.push(URL.createObjectURL(H[Me]));const re=c.attachments||[];S([...re,...Be])}}},Ne=E=>{if(c){const H=[...c.attachments||[]];H.splice(E,1),S(H)}},[q,ee]=s.useState(!1),[ge,be]=s.useState(""),ue=E=>{ee(!0),be(E)},de=()=>{ee(!1),be("")},[we,ye]=s.useState(!1),[te,Oe]=s.useState(!1),D=async E=>{c&&(E.preventDefault(),console.log("Clicked accept"),ye(!0),setTimeout(()=>{console.log("Do something after 2 secs"),r(Ft({id:c.id,status:"active",userId:o.id})),ye(!1),n()},2e3))},Le=async E=>{c&&(E.preventDefault(),console.log("Clicked dismiss"),Oe(!0),await setTimeout(()=>{console.log("Do something after 5 secs"),r(Ft({id:c.id,status:"open",userId:""})),Oe(!1),n()},2e3))},[Ae,Pe]=s.useState(!1),ot=E=>{E.preventDefault(),Pe(!0)},fe=E=>{c&&(E.preventDefault(),r(tr(c.id)),Pe(!1))},ke=E=>{E.preventDefault(),Pe(!1)};return e?c?d.jsxs("div",{className:"flex flex-col gap-1",children:[i&&d.jsx("div",{className:"bg-yellow-400 text-center rounded-lg mb-1",children:"You have uncommited changes!!!"}),d.jsxs("div",{className:"p-2 flex align-middle items-center justify-between w-full",children:[d.jsx(Qn,{children:"Task details"}),t==="edit"&&d.jsx(J,{mode:"plain",onClick:V,children:"Edit"})]}),d.jsxs(ar,{className:"flex flex-col gap-2 h-full",children:[d.jsxs("div",{children:[d.jsx(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Title"}),a?d.jsxs("div",{children:[d.jsx(it,{value:m,status:u.indexOf("title")>-1||m.length===0?"error":"default",onChange:E=>C(E.currentTarget.value)}),d.jsx(Q,{className:"pl-8 text-red-400",hidden:m.length!==0,children:"This field is required"})]}):d.jsx(se,{children:m})]}),d.jsxs("div",{children:[d.jsx(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Description"}),a?d.jsxs("div",{children:[d.jsx(it,{value:p,status:u.indexOf("description")>-1||p.length===0?"error":"default",onChange:E=>P(E.currentTarget.value)}),d.jsx(Q,{className:"pl-8 text-red-400",hidden:p.length!==0,children:"This field is required"})]}):d.jsx(se,{children:p})]}),d.jsxs("div",{children:[d.jsx(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Reward"}),a?d.jsxs("div",{className:"flex items-center justify-stretch h-fit",children:[d.jsx("div",{className:"w-2/5 h-full flex flex-col justify-between",children:d.jsx(it,{placeholder:"Cost...",inputMode:"numeric",type:"number",status:b===0?"error":"default",value:b||"",onChange:E=>{x(Number(E.currentTarget.value))}})}),d.jsx("div",{className:"w-3/5 flex flex-col h-full justify-between",children:d.jsxs(nr,{className:"h-12 items-center",children:[d.jsx(st,{onClick:()=>M("TON"),mode:g==="TON"?"bezeled":"plain",children:"TON"}),d.jsx(st,{onClick:()=>M("USDT"),mode:g==="USDT"?"bezeled":"plain",children:"USDT"}),d.jsx(st,{onClick:()=>M("BTC"),mode:g==="BTC"?"bezeled":"plain",children:"BTC"})]})})]}):d.jsx(se,{children:d.jsx("span",{children:c.reward})})]}),w&&w.length>0&&d.jsxs("div",{children:[d.jsxs(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:["Attachments",u.indexOf("attachments")>-1?d.jsx(yt,{type:"dot",mode:"critical"}):d.jsx(d.Fragment,{})]}),d.jsx("div",{className:"p-2 grid grid-flow-row grid-cols-3 gap-2",children:w.map((E,H)=>d.jsx("img",{src:E,onClick:()=>ue(E)},H+E))})]}),a&&d.jsxs("div",{children:[w&&w.length>0&&w.map((E,H)=>d.jsx(se,{className:"pl-6",after:d.jsx(J,{mode:"plain",onClick:()=>Ne(H),children:"X"}),children:d.jsx(kt,{children:E})},H+E)),d.jsx(ir,{multiple:!0,label:"Attach a new file",accept:"image/*",onChange:_e})]}),d.jsxs("div",{children:[d.jsx(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"Customer"}),d.jsx(se,{children:d.jsx("span",{children:c.customer})})]}),d.jsxs("div",{children:[d.jsxs(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:["Address",u.indexOf("address")>-1?d.jsx(yt,{type:"dot",mode:"critical"}):d.jsx(d.Fragment,{})]}),d.jsx(se,{children:(Fe=c.location.address)==null?void 0:Fe.formattedAdress}),a&&d.jsxs("div",{className:"overflow-visible",children:[d.jsx(Jn,{weight:"1",level:"2",className:"pt-2 pb-2 pl-6",children:"New address"}),d.jsx(rr,{geoposition:c.location||{available:!1},setGeoposition:E=>B(E)})]})]}),d.jsxs("div",{children:[d.jsx(Q,{level:"2",weight:"2",className:"pl-6 text-[--tg-theme-hint-color]",children:"On map"}),d.jsx(se,{children:d.jsx(or,{type:"target",center:{latitude:Number((ne=c.location.latLong)==null?void 0:ne.latitude),longitude:Number((Ue=c.location.latLong)==null?void 0:Ue.longitude)}})})]})]}),t==="view"&&d.jsxs("div",{className:"w-full flex justify-around pb-8",children:[c.status==="open"&&d.jsx(J,{className:"bg-green-600 w-2/6",onClick:D,loading:we,children:"Accept"}),c.status==="active"&&d.jsx(J,{className:"bg-red-600 w-2/6",onClick:Le,loading:te,children:"Decline"})]}),t==="edit"&&d.jsx("div",{className:"flex flex-col justify-around pb-4",children:Ae?d.jsxs(d.Fragment,{children:[d.jsx(kt,{className:"bg-yellow-400 text-center rounded-lg mb-1",children:"This action is unrevertable"}),d.jsxs("div",{className:"w-full flex justify-around pb-8",children:[d.jsx(J,{className:"bg-green-600 w-2/6",onClick:fe,children:"Confirm"}),d.jsx(J,{className:"bg-red-600 w-2/6",onClick:ke,children:"Cancel"})]})]}):d.jsx(J,{className:"bg-red-600 w-2/6 self-center",onClick:ot,loading:we,disabled:c.status==="active",children:c.status==="active"?"Can`t delete task in work":"Delete"})}),a&&d.jsx("div",{className:"sticky bottom-1",children:d.jsxs("div",{className:"flex flex-row justify-center items-center",children:[d.jsx(J,{className:"bg-green-400 w-full",onClick:W,children:"Confirm"}),d.jsx(J,{className:"bg-red-400 w-full",onClick:z,children:"Cancel"})]})}),q&&d.jsx(Ie,{className:"z-20 p-6 max-h-[90%]",open:q,onOpenChange:E=>ee(E),header:d.jsx(Nt,{title:ge,after:d.jsx(sn,{className:"text-[--tg-theme-plain-foreground] h-4",onClick:de})}),children:d.jsx("img",{className:"w-auto h-auto m-auto",src:ge})})]}):d.jsx(Lt,{children:"Cannot retrieve task data"}):d.jsx(Lt,{children:"No passed task id"})};export{Ie as M,wa as T,Da as a};
